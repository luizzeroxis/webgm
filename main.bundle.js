"use strict";(self.webpackChunkwebgm=self.webpackChunkwebgm||[]).push([[179],{120:(t,e,i)=>{class s{constructor(){this.listeners={}}listen(t){for(const e in t)this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t[e]);return t}stopListening(t){for(const e in t){const i=this.listeners[e].findIndex((i=>i==t[e]));i>=0&&this.listeners[e].splice(i,1),0==this.listeners[e].length&&delete this.listeners[e]}}speak(t,...e){if(this.listeners[t])for(const i in this.listeners[t])this.listeners[t][i](...e)}}class n extends Error{constructor(t){"object"!=typeof t?super(t):(t.text?super(t.text):super(JSON.stringify(t)),Object.assign(this,t)),this.name=this.constructor.name}}class r extends n{}class a extends n{}class g extends a{}class A extends a{}class I extends n{}class o extends n{constructor(t,...e){super(...e),this.value=t}}class C extends n{}class c extends n{}class l extends n{}class u extends n{constructor(t,...e){super(...e),this.fn=t}}class d extends n{}class h{constructor(...t){if(1==t.length){const[e]=t;e instanceof Element&&(this.html=e)}if(null==this.html){const[e,i,s]=t;if(this.html=document.createElement(e),i)for(const[t,e]of Object.entries(i))null!=e&&this.html.setAttribute(t,e);s&&(this.html.textContent=s)}this.parent=null,this.children=[]}onAdd(){}onRemove(){}}const p=[new h(document.body)];function m(t){return p.push(t),t}function _(){p.pop()}function v(t){const e=p[p.length-1];return e instanceof h?(e.children.push(t),t instanceof h?(t.parent=e,e.html.append(t.html),y(t)):e.html.append(t)):t instanceof h?(e.append(t.html),y(t)):e.append(t),t}function f(t){t instanceof h?(t.parent&&(t.parent.children.splice(t.parent.children.indexOf(t),1),t.parent=null),t.html.remove(),w(t)):t.remove()}function b(t){if(t instanceof h)for(const e of[...t.children])f(e);else t.replaceChildren()}function y(t){if(t.html.isConnected){for(const e of[...t.children])e instanceof h&&y(e);t.onAdd()}}function w(t){if(!t.html.isConnected){for(const e of[...t.children])e instanceof h&&w(e);t.onRemove()}}function x(t){return Array.isArray(t)?t.join(" "):"string"==typeof t?t:null}function k(t){return"string"==typeof t?t.split(" "):Array.isArray(t)?t:[]}class S extends h{constructor(t,e,i){super("button",{class:x(i)},t),this.html.addEventListener("click",e)}setDisabled(t){this.html.disabled=t}}class T extends h{constructor(t,e,i){super("canvas",{class:x(i),width:t,height:e})}clear(){const t=this.html.height;this.html.height=0,this.html.height=t}}class E extends h{constructor(t,e,i,s){m(super("div",{class:x(k(s).concat(["h-label-and-input"]))}));const n="_id_"+V();this.label=v(new h("label",{for:n},e)),this.input=v(new h("input",{id:n,type:t,value:i})),_()}getValue(){return this.input.html.value}setValue(t){this.input.html.value=t}setOnChange(t){this.input.html.addEventListener("change",t)}}class j extends E{constructor(t,e,i){super("text",t,e,i)}}class N extends h{constructor(t,e,i){m(super("div",{class:x(k(i).concat(["h-multiline-text-input"]))}));const s="_id_"+V();this.label=v(new h("label",{for:s},t)),this.textarea=v(new h("textarea",{id:s})),this.textarea.html.value=e,_()}getValue(){return this.textarea.html.value}}class R extends E{constructor(t,e,i,s,n,r){super("number",t,e,r),this.input.html.step=i,this.input.html.min=s,this.input.html.max=n}}class O extends E{constructor(t,e,i,s,n,r){super("range",t,e,r),this.input.html.step=i,this.input.html.min=s,this.input.html.max=n}}class B extends E{constructor(t,e,i){super("color",t,e,i)}}class Z extends h{constructor(t,e,i){m(super("div",{class:x(i)}));const s="_id_"+V();this.input=v(new h("input",{id:s,type:"checkbox",...e?{checked:"checked"}:null})),this.label=v(new h("label",{for:s},t)),_()}getChecked(){return this.input.html.checked}setChecked(t){this.input.html.checked=t}setOnChange(t){this.input.html.addEventListener("change",t)}}class M extends h{constructor(t,e,i,s){m(super("div",{class:x(s)}));const n="_id_"+V();this.input=v(new h("input",{id:n,type:"radio",name:t,...i?{checked:"checked"}:null})),this.label=v(new h("label",{for:n},e)),_()}getChecked(){return this.input.html.checked}setOnClick(t){this.input.html.addEventListener("click",t)}}class G extends h{constructor(t,e){m(super("div",{class:x(k(e).concat(["h-select"]))}));const i="_id_"+V();this.label=v(new h("label",{for:i},t)),this.select=v(new h("select",{id:i})),_()}getValue(){return this.select.html.value}setValue(t){this.select.html.value=t}getSelectedIndex(){return this.select.html.selectedIndex}setSelectedIndex(t){this.select.html.selectedIndex=t}setOnChange(t){this.select.html.addEventListener("change",t)}removeOptions(){b(this.select)}}class L extends h{constructor(t,e,i){super("option",{class:x(i),value:e},t)}}class D extends G{constructor(t,e,i,s){super(t,s),m(this.select);for(const t of e)v(new L(t.name,t.value));_(),i&&this.setValue(i)}}class W extends h{constructor(t,e){super("img",{class:x(e),...t?{src:t}:null})}setSrc(t){null!=t?this.html.src=t:this.html.removeAttribute("src")}}let Y=0;function V(){return Y++}function P(t,e,i=!1){t.addEventListener("dragover",(t=>{t.stopPropagation(),t.preventDefault()})),t.addEventListener("drop",(async t=>{if(t.stopPropagation(),i)await e(t.dataTransfer.files)||t.preventDefault();else{const i=t.dataTransfer.files[0];null!=i&&(await e(i)||t.preventDefault())}}))}class F{constructor(t){t?(this.resources={},this.counter={},F.getTypes().forEach((e=>{const i=e.getClassName();this.resources[i]=t.resources[i].map((t=>new e(t))),this.counter[i]=t.counter[i]})),this.gameInformation=new It(t.gameInformation),this.globalGameSettings=new ot(t.globalGameSettings),this.extensionPackages=new Ct(t.extensionPackages),this.lastId=t.lastId):(this.resources={},this.counter={},F.getTypes().forEach((t=>{const e=t.getClassName();this.resources[e]=[],this.counter[e]=0})),this.gameInformation=new It,this.globalGameSettings=new ot,this.extensionPackages=new Ct,this.lastId=1e5)}static getTypes(){return[U,H,J,Q,K,X,q,tt,nt]}}class U{constructor(t){t?(this.id=t.id,this.name=t.name,this.images=[...t.images],this.originx=t.originx,this.originy=t.originy,this.separateCollisionMasks=t.separateCollisionMasks,this.alphaTolerance=t.alphaTolerance,this.boundingBox=t.boundingBox,this.bbLeft=t.bbLeft,this.bbTop=t.bbTop,this.bbRight=t.bbRight,this.bbBottom=t.bbBottom,this.shape=t.shape):(this.id=null,this.name=null,this.images=[],this.originx=0,this.originy=0,this.separateCollisionMasks=!1,this.alphaTolerance=0,this.boundingBox="automatic",this.bbLeft=31,this.bbTop=31,this.bbRight=0,this.bbBottom=0,this.shape="precise")}static getName(){return"sprite"}static getScreenName(){return"Sprite"}static getScreenGroupName(){return"Sprites"}static getClassName(){return"ProjectSprite"}}class H{constructor(t){t?(this.id=t.id,this.name=t.name,this.sound=t.sound,this.volume=t.volume):(this.id=null,this.name=null,this.sound=null,this.volume=1)}static getName(){return"sound"}static getScreenName(){return"Sound"}static getScreenGroupName(){return"Sounds"}static getClassName(){return"ProjectSound"}}class J{constructor(t){t?(this.id=t.id,this.name=t.name,this.image=t.image,this.useAsTileSet=t.useAsTileSet,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight,this.horizontalOffset=t.horizontalOffset,this.verticalOffset=t.verticalOffset,this.horizontalSep=t.horizontalSep,this.verticalSep=t.verticalSep):(this.id=null,this.name=null,this.image=null,this.useAsTileSet=!1,this.tileWidth=16,this.tileHeight=16,this.horizontalOffset=0,this.verticalOffset=0,this.horizontalSep=0,this.verticalSep=0)}static getName(){return"background"}static getScreenName(){return"Background"}static getScreenGroupName(){return"Backgrounds"}static getClassName(){return"ProjectBackground"}}class Q{constructor(t){t?(this.id=t.id,this.name=t.name,this.points=t.points.map((t=>new z(t))),this.backgroundRoomIndex=t.backgroundRoomIndex,this.connectionKind=t.connectionKind,this.closed=t.closed,this.precision=t.precision):(this.id=null,this.name=null,this.points=[],this.backgroundRoomIndex=-1,this.connectionKind="lines",this.closed=!0,this.precision=4)}static getName(){return"path"}static getScreenName(){return"Path"}static getScreenGroupName(){return"Paths"}static getClassName(){return"ProjectPath"}}class z{constructor(t){t?(this.x=t.x,this.y=t.y,this.sp=t.sp):(this.x=0,this.y=0,this.sp=100)}}class K{constructor(t){t?(this.id=t.id,this.name=t.name,this.code=t.code):(this.id=null,this.name=null,this.code="")}static getName(){return"script"}static getScreenName(){return"Script"}static getScreenGroupName(){return"Scripts"}static getClassName(){return"ProjectScript"}}class X{constructor(t){t?(this.id=t.id,this.name=t.name,this.font=t.font,this.size=t.size,this.bold=t.bold,this.italic=t.italic):(this.id=null,this.name=null,this.font="Arial",this.size=12,this.bold=!1,this.italic=!1)}static getName(){return"font"}static getScreenName(){return"Font"}static getScreenGroupName(){return"Fonts"}static getClassName(){return"ProjectFont"}}class q{constructor(t){t?(this.id=t.id,this.name=t.name,this.moments=t.moments.map((t=>new $(t)))):(this.id=null,this.name=null,this.moments=[])}static getName(){return"timeline"}static getScreenName(){return"Time Line"}static getScreenGroupName(){return"Time Lines"}static getClassName(){return"ProjectTimeline"}}class ${constructor(t){t?(this.step=t.step,this.actions=t.actions.map((t=>new it(t)))):(this.step=null,this.actions=[])}}class tt{constructor(t){t?(this.id=t.id,this.name=t.name,this.sprite_index=t.sprite_index,this.visible=t.visible,this.solid=t.solid,this.depth=t.depth,this.persistent=t.persistent,this.parent_index=t.parent_index,this.mask_index=t.mask_index,this.events=t.events.map((t=>new et(t)))):(this.id=null,this.name=null,this.sprite_index=-1,this.visible=!0,this.solid=!1,this.depth=0,this.persistent=!1,this.parent_index=-1,this.mask_index=-1,this.events=[])}static getName(){return"object"}static getScreenName(){return"Object"}static getScreenGroupName(){return"Objects"}static getClassName(){return"ProjectObject"}}class et{constructor(t){t?(this.type=t.type,this.subtype=t.subtype,this.actions=t.actions.map((t=>new it(t)))):(this.type=null,this.subtype=null,this.actions=[])}getNameId(){return JSON.stringify({type:this.type,subtype:this.subtype})}getName(){return this.type+" "+this.subtype}}class it{constructor(t){t?(this.typeLibrary=t.typeLibrary,this.typeId=t.typeId,this.typeKind=t.typeKind,this.typeExecution=t.typeExecution,this.typeExecutionFunction=t.typeExecutionFunction,this.typeExecutionCode=t.typeExecutionCode,this.typeIsQuestion=t.typeIsQuestion,this.args=t.args.map((t=>new st(t))),this.appliesTo=t.appliesTo,this.relative=t.relative,this.not=t.not):(this.typeLibrary=null,this.typeId=null,this.typeKind=null,this.typeExecution=null,this.typeExecutionFunction=null,this.typeExecutionCode=null,this.typeIsQuestion=null,this.args=[],this.appliesTo=-1,this.relative=!1,this.not=!1)}}class st{constructor(t){t?(this.kind=t.kind,this.value=t.value):(this.kind=null,this.value=null)}}class nt{constructor(t){t?(this.id=t.id,this.name=t.name,this.instances=t.instances.map((t=>new rt(t))),this.caption=t.caption,this.width=t.width,this.height=t.height,this.speed=t.speed,this.persistent=t.persistent,this.creationCode=t.creationCode,this.tiles=t.tiles.map((t=>new at(t))),this.drawBackgroundColor=t.drawBackgroundColor,this.backgroundColor=t.backgroundColor,this.backgrounds=t.backgrounds.map((t=>new gt(t))),this.enableViews=t.enableViews,this.views=t.views.map((t=>new At(t)))):(this.id=null,this.name=null,this.instances=[],this.caption="",this.width=640,this.height=480,this.speed=30,this.persistent=!1,this.creationCode="",this.tiles=[],this.drawBackgroundColor=!0,this.backgroundColor="#c0c0c0",this.backgrounds=[],this.enableViews=!1,this.views=[])}static getName(){return"room"}static getScreenName(){return"Room"}static getScreenGroupName(){return"Rooms"}static getClassName(){return"ProjectRoom"}}class rt{constructor(t){t?(this.id=t.id,this.x=t.x,this.y=t.y,this.object_index=t.object_index,this.creationCode=t.creationCode):(this.id=null,this.x=null,this.y=null,this.object_index=null,this.creationCode="")}}class at{constructor(t){t?(this.backgroundIndex=t.backgroundIndex,this.x=t.x,this.y=t.y,this.backgroundX=t.backgroundX,this.backgroundY=t.backgroundY,this.backgroundW=t.backgroundW,this.backgroundH=t.backgroundH,this.depth=t.depth):(this.backgroundIndex=null,this.x=null,this.y=null,this.backgroundX=null,this.backgroundY=null,this.backgroundW=null,this.backgroundH=null,this.depth=null)}}class gt{constructor(t){t?(this.visibleAtStart=t.visibleAtStart,this.isForeground=t.isForeground,this.backgroundIndex=t.backgroundIndex,this.tileHorizontally=t.tileHorizontally,this.tileVertically=t.tileVertically,this.x=t.x,this.y=t.y,this.stretch=t.stretch,this.horizontalSpeed=t.horizontalSpeed,this.verticalSpeed=t.verticalSpeed):(this.visibleAtStart=!1,this.isForeground=!1,this.backgroundIndex=-1,this.tileHorizontally=!0,this.tileVertically=!0,this.x=0,this.y=0,this.stretch=!1,this.horizontalSpeed=0,this.verticalSpeed=0)}}class At{constructor(t){t?(this.visibleAtStart=t.visibleAtStart,this.viewX=t.viewX,this.viewY=t.viewY,this.viewW=t.viewW,this.viewH=t.viewH,this.portX=t.portX,this.portY=t.portY,this.portW=t.portW,this.portH=t.portH,this.objectFollowIndex=t.objectFollowIndex,this.objectFollowHorizontalBorder=t.objectFollowHorizontalBorder,this.objectFollowVerticalBorder=t.objectFollowVerticalBorder,this.objectFollowHorizontalSpeed=t.objectFollowHorizontalSpeed,this.objectFollowVerticalSpeed=t.objectFollowVerticalSpeed):(this.visibleAtStart=!1,this.viewX=0,this.viewY=0,this.viewW=640,this.viewH=480,this.portX=0,this.portY=0,this.portW=640,this.portH=480,this.objectFollowIndex=-1,this.objectFollowHorizontalBorder=32,this.objectFollowVerticalBorder=32,this.objectFollowHorizontalSpeed=-1,this.objectFollowVerticalSpeed=-1)}}class It{constructor(t){t?(this.text=t.text,this.separateWindow=t.separateWindow,this.windowCaption=t.windowCaption,this.left=t.left,this.right=t.right,this.width=t.width,this.height=t.height,this.showBorderAndCaption=t.showBorderAndCaption,this.allowResize=t.allowResize,this.alwaysOnTop=t.alwaysOnTop,this.stopGame=t.stopGame):(this.text="",this.separateWindow=!1,this.windowCaption="Game Information",this.left=-1,this.right=-1,this.width=600,this.height=400,this.showBorderAndCaption=!0,this.allowResize=!0,this.alwaysOnTop=!1,this.stopGame=!0)}}class ot{constructor(t){t?(this.startInFullScreen=t.startInFullScreen,this.colorOutsideRoom=t.colorOutsideRoom,this.displayCursor=t.displayCursor,this.keyEscEndsGame=t.keyEscEndsGame,this.keyF1ShowsGameInformation=t.keyF1ShowsGameInformation,this.ketF4SwitchesFullScreen=t.ketF4SwitchesFullScreen,this.keyF5SavesF6Loads=t.keyF5SavesF6Loads,this.keyF9Screenshots=t.keyF9Screenshots,this.versionMajor=t.versionMajor,this.versionMinor=t.versionMinor,this.versionRelease=t.versionRelease,this.versionBuild=t.versionBuild,this.company=t.company,this.product=t.product,this.copyright=t.copyright,this.description=t.description,this.displayErrors=t.displayErrors,this.abortOnError=t.abortOnError,this.unitializedVarsAre0=t.unitializedVarsAre0,this.author=t.author,this.version=t.version,this.information=t.information):(this.startInFullScreen=!1,this.colorOutsideRoom="#000000",this.displayCursor=!0,this.keyEscEndsGame=!0,this.keyF1ShowsGameInformation=!0,this.keyF4SwitchesFullscreen=!0,this.keyF5SavesF6Loads=!0,this.keyF9Screenshots=!0,this.versionMajor=1,this.versionMinor=0,this.versionRelease=0,this.versionBuild=0,this.company="",this.product="",this.copyright="",this.description="",this.displayErrors=!0,this.abortOnError=!1,this.unitializedVarsAre0=!1,this.author="",this.version="100",this.information="")}}class Ct{constructor(){}}var ct=i(733),lt=i.n(ct);class ut{constructor(t,e=!0){this.audio=new Audio,t instanceof Blob?(this.blob=t,this.src=URL.createObjectURL(t)):this.src=t,this.promise=null,e&&this.load()}load(){null==this.promise&&(this.promise=new Promise(((t,e)=>{this.audio.oncanplaythrough=e=>{t()},this.audio.onerror=t=>{e(new n("Could not load audio"))}})),this.audio.src=this.src)}toJSON(){}}class dt{constructor(t,e=!0){this.image=new Image,t instanceof Blob?(this.blob=t,this.src=URL.createObjectURL(t)):this.src=t,this.promise=null,e&&this.load()}load(){null==this.promise&&(this.promise=new Promise(((t,e)=>{this.image.onload=e=>{t()},this.image.onerror=t=>{e(new n("Could not load image"))}})),this.image.src=this.src)}toJSON(){}}function ht(t){return{r:t%256,g:Math.floor(t%65536/256),b:Math.floor(t%16777216/65536)}}function pt(t){return t.r+256*t.g+256*t.b*256}function mt(t){return function(t){const{r:e,g:i,b:s}=t,n=Math.max(e,i,s),r=Math.min(e,i,s),a=n-r;let g;const A=0==n?0:Math.floor(255*a/n),I=n;if(n==r)g=0;else{switch(n){case e:g=(i-s)/a*42+(i<s?256:0);break;case i:g=(s-e)/a*42+85;break;case s:g=(e-i)/a+42+170}g=Math.floor(g)}return{h:g,s:A,v:I}}(ht(t))}function _t(t){const e=ht(t);return"rgb("+e.r+","+e.g+","+e.b+")"}function vt(t,e){const i=ht(t);return"rgba("+i.r+","+i.g+","+i.b+","+e+")"}function ft(t,e,i,s){return(s?"italic ":"")+(i?"bold ":"")+e+'pt "'+t+'"'}function bt(t){const e=[];for(let i=0;i<9;++i)"0"!=t[i]?e.push(!0):e.push(!1);return e}function yt(t){return"string"!=typeof t?t.toString():t}function wt(t){return"string"!=typeof t?"":t}function xt(t){return"number"!=typeof t?0:t}function kt(t){return St(xt(t))}function St(t){if(.5==Math.abs(t%1)){const e=Math.trunc(t);return e%2==0?e:e+Math.sign(e)}return Math.round(t)}function Tt(t){return t.replaceAll(/(?<!\\)#|\r/g,"\n").replaceAll("\\#","#")}class Et{static serializeZIP(t){const e=new(lt());e.file("version","2"),Et.initClasses();const i=JSON.stringify(t,((t,e)=>{if(null!=e){const t=Object.keys(Et.classes).find((t=>Et.classes[t]==e.constructor));t&&(e={...e,$class:t})}return e}),"\t");return e.file("project.json",i),t.resources.ProjectSprite.forEach((t=>{t.images.forEach(((i,s)=>{i&&e.file("sprites/"+t.id+"/"+s,i.blob)}))})),t.resources.ProjectSound.forEach((t=>{t.sound&&e.file("sounds/"+t.id,t.sound.blob)})),t.resources.ProjectBackground.forEach((t=>{t.image&&e.file("backgrounds/"+t.id,t.image.blob)})),e.generateAsync({type:"blob"})}static unserializeZIP(t){const e=new(lt());let i;return new Promise(((i,s)=>{e.loadAsync(t).then((()=>i())).catch((()=>s(new d("Not a zip file."))))})).then((()=>{const t=e.file("version");if(null==t)throw new d('"version" file does not exist in zip file.');return t.async("string")})).then((t=>{if(i=parseInt(t),console.log("ZIP version:",i),i<1||i>2)throw new d("Unsupported "+i.toString+" version.")})).then((()=>{const t=e.file("project.json");if(null==t)throw new d('"project.json" file does not exist in zip file.');return t.async("string")})).then((t=>{if(1==i)return Et.unserializeV1(t);if(2==i){let i;const s=[];Et.initClasses();try{i=JSON.parse(t,((t,e)=>{if(null!=e&&e.$class){let t=new Et.classes[e.$class];return t=Object.assign(t,e),delete t.$class,t}return e}))}catch(t){throw new d('Error parsing "project.json" file.')}return F.getTypes().forEach((t=>{null==i.resources[t.getClassName()]&&(i.resources[t.getClassName()]=[]),null==i.counter[t.getClassName()]&&(i.counter[t.getClassName()]=0)})),i.resources.ProjectSprite.forEach((t=>{t.images.forEach(((i,n)=>{const r=e.file("sprites/"+t.id+"/"+n);null!=r&&s.push(r.async("blob").then((e=>{t.images[n]=new dt(e)})))}))})),i.resources.ProjectSound.forEach((t=>{const i=e.file("sounds/"+t.id);null!=i&&s.push(i.async("blob").then((e=>{t.sound=new ut(e)})))})),i.resources.ProjectBackground.forEach((t=>{const i=e.file("backgrounds/"+t.id);null!=i&&s.push(i.async("blob").then((e=>{t.image=new dt(e)})))})),Promise.all(s).then((()=>i))}return null}))}static initClasses(){null==Et.classes&&(Et.classes={Project:F,ProjectSprite:U,ProjectSound:H,ProjectBackground:J,ProjectPath:Q,ProjectPathPoint:z,ProjectScript:K,ProjectFont:X,ProjectTimeline:q,ProjectTimelineMoment:$,ProjectObject:tt,ProjectEvent:et,ProjectAction:it,ProjectActionArg:st,ProjectRoom:nt,ProjectInstance:rt,ProjectRoomTile:at,ProjectRoomBackground:gt,ProjectRoomView:At,ProjectGameInformation:It,ProjectGlobalGameSettings:ot,ProjectExtensionPackages:Ct})}static unserializeV1(t){let e;try{e=JSON.parse(t)}catch(t){throw new d("Error parsing JSON file.")}if(!e.resources)return null;F.getTypes().forEach((t=>{e.resources[t.getClassName()]?e.resources[t.getClassName()]=e.resources[t.getClassName()].map((e=>(delete e.classname,t==U&&(e.images=e.images.map((t=>new dt(function(t,e){e=e||"";const i=1024,s=atob(t),n=s.length,r=Math.ceil(n/i),a=new Array(r);for(let t=0;t<r;++t){const e=t*i,r=Math.min(e+i,n),g=new Array(r-e);for(let t=e,i=0;t<r;++i,++t)g[i]=s[t].charCodeAt(0);a[t]=new Uint8Array(g)}return new Blob(a,{type:e})}(t,"image/png"))))),t==tt&&(e.events=e.events.map((t=>(t.actions=t.actions.map((t=>(delete t.classname,Object.assign(new it,t)))),delete t.classname,Object.assign(new et,t))))),t==nt&&(e.instances=e.instances.map((t=>(delete t.classname,Object.assign(new rt,t))))),Object.assign(new t,e)))):e.resources[t.getClassName()]=[]}));const i=Object.assign(new F,e);return Promise.resolve(i)}}class jt{constructor(){}static openDialog(t,e=!1){return new Promise(((i,s)=>{const n=new h("input");n.html.accept=t,n.html.type="file",e&&(n.html.multiple=!0),n.html.onchange=()=>{i(e?n.html.files:n.html.files[0])},n.html.click()}))}static readEntireFile(t){return new Promise(((e,i)=>{const s=new FileReader;s.onload=()=>{e(s.result)},s.readAsText(t)}))}static save(t,e){const i=new h("a");i.html.href=URL.createObjectURL(t),i.html.download=e,i.html.click()}}class Nt{static listEventTypes=[{id:0,value:"create",name:"Create",getFullName:()=>"Create"},{id:1,value:"destroy",name:"Destroy",getFullName:()=>"Destroy"},{id:3,value:"step",name:"Step",getFullName:t=>Nt.listStepSubtypes.find((e=>e.value==t)).name},{id:2,value:"alarm",name:"Alarm",getFullName:t=>"Alarm "+t},{id:5,value:"keyboard",name:"Keyboard",getFullName:t=>"Keyboard "+t},{id:6,value:"mouse",name:"Mouse",getFullName:t=>Nt.listMouseSubtypes.find((e=>e.value==t)).name},{id:4,value:"collision",name:"Collision",getFullName:(t,e)=>{const i=e.resources.ProjectObject.find((e=>e.id==t));return"Collision with "+(i?i.name:"<undefined>")}},{id:7,value:"other",name:"Other",getFullName:t=>Nt.listOtherSubtypes.find((e=>e.value==t)).name},{id:8,value:"draw",name:"Draw",getFullName:()=>"Draw"},{id:9,value:"keypress",name:"Key press",getFullName:t=>"Key press"+t},{id:10,value:"keyrelease",name:"Key release",getFullName:t=>"Key release"+t}];static listStepSubtypes=[{id:0,value:"normal",name:"Step"},{id:1,value:"begin",name:"Begin step"},{id:2,value:"end",name:"End step"}];static listMouseSubtypes=[{id:0,value:0,kind:"button",button:1,when:"mouse",name:"Left Button"},{id:1,value:1,kind:"button",button:2,when:"mouse",name:"Right Button"},{id:2,value:2,kind:"button",button:3,when:"mouse",name:"Middle Button"},{id:3,value:3,kind:"button",button:0,when:"mouse",name:"No Button"},{id:4,value:4,kind:"button",button:1,when:"mousePressed",name:"Left Press"},{id:5,value:5,kind:"button",button:2,when:"mousePressed",name:"Right Press"},{id:6,value:6,kind:"button",button:3,when:"mousePressed",name:"Middle Press"},{id:7,value:7,kind:"button",button:1,when:"mouseReleased",name:"Left Release"},{id:8,value:8,kind:"button",button:2,when:"mouseReleased",name:"Right Release"},{id:9,value:9,kind:"button",button:3,when:"mouseReleased",name:"Middle Release"},{id:10,value:10,kind:"enter-release",name:"Mouse Enter"},{id:11,value:11,kind:"enter-release",name:"Mouse Leave"},{id:60,value:60,kind:"wheel-up",name:"Mouse Wheel Up"},{id:61,value:61,kind:"wheel-down",name:"Mouse Wheel Down"},{id:50,value:50,kind:"button",button:1,global:!0,when:"mouse",name:"Global Left Button"},{id:51,value:51,kind:"button",button:2,global:!0,when:"mouse",name:"Global Right Button"},{id:52,value:52,kind:"button",button:3,global:!0,when:"mouse",name:"Global Middle Button"},{id:53,value:53,kind:"button",button:1,global:!0,when:"mousePressed",name:"Global Left Press"},{id:54,value:54,kind:"button",button:2,global:!0,when:"mousePressed",name:"Global Right Press"},{id:55,value:55,kind:"button",button:3,global:!0,when:"mousePressed",name:"Global Middle Press"},{id:56,value:56,kind:"button",button:1,global:!0,when:"mouseReleased",name:"Global Left Release"},{id:57,value:57,kind:"button",button:2,global:!0,when:"mouseReleased",name:"Global Right Release"},{id:58,value:58,kind:"button",button:3,global:!0,when:"mouseReleased",name:"Global Middle Release"},{id:16,value:16,kind:"joystick",number:1,button:14,name:"Joystick1 Left"},{id:17,value:17,kind:"joystick",number:1,button:15,name:"Joystick1 Right"},{id:18,value:18,kind:"joystick",number:1,button:12,name:"Joystick1 Up"},{id:19,value:19,kind:"joystick",number:1,button:13,name:"Joystick1 Down"},{id:21,value:21,kind:"joystick",number:1,button:0,name:"Joystick1 Button1"},{id:22,value:22,kind:"joystick",number:1,button:1,name:"Joystick1 Button2"},{id:23,value:23,kind:"joystick",number:1,button:2,name:"Joystick1 Button3"},{id:24,value:24,kind:"joystick",number:1,button:3,name:"Joystick1 Button4"},{id:25,value:25,kind:"joystick",number:1,button:4,name:"Joystick1 Button5"},{id:26,value:26,kind:"joystick",number:1,button:5,name:"Joystick1 Button6"},{id:27,value:27,kind:"joystick",number:1,button:6,name:"Joystick1 Button7"},{id:28,value:28,kind:"joystick",number:1,button:7,name:"Joystick1 Button8"},{id:31,value:31,kind:"joystick",number:2,button:14,name:"Joystick2 Left"},{id:32,value:32,kind:"joystick",number:2,button:15,name:"Joystick2 Right"},{id:33,value:33,kind:"joystick",number:2,button:12,name:"Joystick2 Up"},{id:34,value:34,kind:"joystick",number:2,button:13,name:"Joystick2 Down"},{id:36,value:36,kind:"joystick",number:2,button:0,name:"Joystick2 Button1"},{id:37,value:37,kind:"joystick",number:2,button:1,name:"Joystick2 Button2"},{id:38,value:38,kind:"joystick",number:2,button:2,name:"Joystick2 Button3"},{id:39,value:39,kind:"joystick",number:2,button:3,name:"Joystick2 Button4"},{id:40,value:40,kind:"joystick",number:2,button:4,name:"Joystick2 Button5"},{id:41,value:41,kind:"joystick",number:2,button:5,name:"Joystick2 Button6"},{id:42,value:42,kind:"joystick",number:2,button:6,name:"Joystick2 Button7"},{id:43,value:43,kind:"joystick",number:2,button:7,name:"Joystick2 Button8"}];static listOtherSubtypes=[{id:0,value:0,name:"Outside"},{id:1,value:1,name:"Boundary"},{id:40,value:40,name:"Outside view 0"},{id:41,value:41,name:"Outside view 1"},{id:42,value:42,name:"Outside view 2"},{id:43,value:43,name:"Outside view 3"},{id:44,value:44,name:"Outside view 4"},{id:45,value:45,name:"Outside view 5"},{id:46,value:46,name:"Outside view 6"},{id:47,value:47,name:"Outside view 7"},{id:50,value:50,name:"Boundary view 0"},{id:51,value:51,name:"Boundary view 1"},{id:52,value:52,name:"Boundary view 2"},{id:53,value:53,name:"Boundary view 3"},{id:54,value:54,name:"Boundary view 4"},{id:55,value:55,name:"Boundary view 5"},{id:56,value:56,name:"Boundary view 6"},{id:57,value:57,name:"Boundary view 7"},{id:2,value:2,name:"Game start"},{id:3,value:3,name:"Game end"},{id:4,value:4,name:"Room start"},{id:5,value:5,name:"Room end"},{id:6,value:6,name:"No more lives"},{id:9,value:9,name:"No more health"},{id:7,value:7,name:"Animation end"},{id:8,value:8,name:"End of path"},{id:30,value:30,name:"Close button"},{id:10,value:10,name:"User 0"},{id:11,value:11,name:"User 1"},{id:12,value:12,name:"User 2"},{id:13,value:13,name:"User 3"},{id:14,value:14,name:"User 4"},{id:15,value:15,name:"User 5"},{id:16,value:16,name:"User 6"},{id:17,value:17,name:"User 7"},{id:18,value:18,name:"User 8"},{id:19,value:19,name:"User 9"},{id:20,value:20,name:"User 10"},{id:21,value:21,name:"User 11"},{id:22,value:22,name:"User 12"},{id:23,value:23,name:"User 13"},{id:24,value:24,name:"User 14"},{id:25,value:25,name:"User 15"}];static getEventName(t,e){return Nt.listEventTypes.find((e=>e.value==t.type)).getFullName(t.subtype,e)}}class Rt{constructor(t,e){this.caller=t,this.builtInClass=e,this.builtInList={},this.customList={};for(const t in this.builtInClass)if(!this.builtInClass[t].direct)if("function"==typeof this.builtInClass[t].default){let e=this.builtInClass[t].default.call(this);Array.isArray(e)&&(e=e.map((t=>({value:t})))),this.builtInList[t]={value:e}}else{if(null==this.builtInClass[t].default)throw new Error("Non-direct built in variable has no default!");this.builtInList[t]={value:this.builtInClass[t].default}}}exists(t){return null!=this.getVariableInfo(t)}get(t,e){const i=this.getVariableInfo(t);let s,n;if(null==i)throw new Error("Variable does not exist, did you forget to check beforehand?");i.list==this.builtInList?(s=this.builtInClass[t],n=null==s.dimensions?0:s.dimensions):n=i.reference.dimensions;let r=n-(e=e||[]).length;if(r>0){const t=new Array(r).fill(0);e.unshift(...t)}if(r<0){for(r=Math.abs(r);0==e[0]&&0!=r;)e.shift(),r--;if(0!=r)throw new l({type:"index_not_in_bounds"})}if(s&&s.direct){if(e.length!=n)throw new l({type:"index_not_in_bounds"});for(const[t,i]of e.entries())if(i>=s.directLength.call(this.caller,t))throw new l({type:"index_not_in_bounds"});return s.directGet.call(this.caller,...e)}let a=i.reference;for(const t of e)if(Array.isArray(a.value)){if(t>=a.value.length)throw new l({type:"index_not_in_bounds"});null==a.value[t]&&(a.value[t]={value:0}),a=a.value[t]}else if(0!=t)throw new l({type:"index_not_in_bounds"});return a.value}getBuiltIn(t){return this.builtInList[t].value}getBuiltInArray(t,e){let i=this.builtInList[t];for(const t of e)i=i.value[t];return i.value}async set(t,e,i,s,n=!0){let r,a,g=this.getVariableInfo(t);if(null==g&&(this.customList[t]={dimensions:0,value:0},g={reference:this.customList[t],list:this.customList}),g.list==this.builtInList){if(r=this.builtInClass[t],a=null==r.dimensions?0:r.dimensions,r.readOnly&&!s)throw new l({type:"read_only"});r.direct&&(a=null==r.dimensions?0:r.dimensions),null!=r.type&&("string"==r.type?e=wt(e):"real"==r.type?e=xt(e):"integer"==r.type?e=kt(e):"bool"==r.type?e=function(t){return xt(t)>.5?1:0}(e):"unit"==r.type?e=function(t){return Math.max(0,Math.min(xt(t),1))}(e):"char"==r.type&&(e=function(t){const e=wt(t);return""!=e?e[0]:"\0"}(e)))}else a=g.reference.dimensions;let A=a-(i=i||[]).length;if(A>0){const t=new Array(A).fill(0);i.unshift(...t)}if(A<0){for(A=Math.abs(A);0==i[0]&&0!=A;)i.shift(),A--;if(0!=A)if(r)i=new Array(a).fill(0);else for(let t=0;t<A;++t)g.reference.dimensions++,g.reference.value=[{value:g.reference.value}]}if(r&&r.direct)return void r.directSet.call(this.caller,e,...i);let I=g.reference;for(let t of i){if(!Array.isArray(I.value)){if(r)throw new Error("Built in is not an array. Did you forget to set the default properly?");I.value=[{value:I.value}]}r?t>=I.value.length&&(t=0):null==I.value[t]&&(I.value[t]={value:0}),I=I.value[t]}const o=I.value;I.value=e,r&&n&&null!=this.caller&&r.set&&await r.set.call(this.caller,e,o,i||[])}setBuiltIn(t,e){this.builtInList[t].value=e}setBuiltInArray(t,e,i){let s=this.builtInList[t];for(const t of e)s=s.value[t];s.value=i}setBuiltInCall(t,e){const i=this.builtInList[t],s=i.value;this.builtInClass[t].set.call(this.caller,e,s),i.value=e}setBuiltInArrayCall(t,e,i){let s=this.builtInList[t];for(const t of e)s=s.value[t];const n=s.value;s.value=i,this.builtInClass[t].set.call(this.caller,i,n,e)}getVariableInfo(t){return null!=this.builtInClass&&null!=this.builtInClass[t]?{reference:this.builtInList[t],list:this.builtInList}:null!=this.customList[t]?{reference:this.customList[t],list:this.customList}:null}save(t){const e=this.getVariableInfo(t);if(null==e)throw new Error("wtf?");const i={};return i.dimensions=e.reference.dimensions,i.value=this.saveValue(e.reference.value),i}load(t,e){let i=this.customList;const s=this.getVariableInfo(t);null!=s&&(i=s.list),i[t]=e}saveAll(){return{builtInClass:this.builtInClass,builtInList:this.saveList(this.builtInList),customList:this.saveList(this.customList)}}loadAll(t){this.builtInClass=t.builtInClass,this.builtInList=t.builtInList,this.customList=t.customList}saveList(t){const e={};for(const i of Object.keys(t))e[i]={},e[i].dimensions=t[i].dimensions,e[i].value=this.saveValue(t[i].value);return e}saveValue(t){return Array.isArray(t)?t.map((t=>({value:this.saveValue(t.value)}))):t}clearAll(){this.builtInClass=null,this.builtInList={},this.customList={}}}class Ot{parse(t){this.actions=t,this.actionNumber=0;const e=[];for(;this.actionNumber<this.actions.length;){const t=this.parseAction();null!=t&&e.push(t)}return e}parseAction(){const t=this.actions[this.actionNumber];if(null==t)return null;switch(this.actionNumber++,t.typeKind){case"normal":{let e={args:t.args,appliesTo:t.appliesTo,relative:t.relative,action:t,actionNumber:this.actionNumber-1};if("function"==t.typeExecution)e.type="executeFunction",e.function=t.typeExecutionFunction;else{if("code"!=t.typeExecution)return null;e.type="executeCode",e.code=t.typeExecutionCode}if(t.typeIsQuestion){e={type:"if",condition:e};const i=this.parseAction();let s=null;this.parseElseIfExists()&&(s=this.parseAction()),t.not?(e.ifTrue=s,e.ifFalse=i):(e.ifTrue=i,e.ifFalse=s)}return e}case"begin":{const t=this.parseBlock();return t.length>0?{type:"block",actions:t}:null}case"end":case"else":return null;case"exit":return{type:"exit"};case"repeat":return{type:"repeat",times:t.args[0],treeAction:this.parseAction()};case"variable":return{type:"variable",name:t.args[0],value:t.args[1],appliesTo:t.appliesTo,relative:t.relative,action:t,actionNumber:this.actionNumber-1};case"code":return{type:"code",code:t.args[0],appliesTo:t.appliesTo,action:t,actionNumber:this.actionNumber-1}}throw new Error("Unknown action.typeKind "+t.typeKind.toString())}parseBlock(){const t=[];for(;this.actionNumber<this.actions.length;){if("end"==this.actions[this.actionNumber].typeKind){this.actionNumber++;break}const e=this.parseAction();null!=e&&t.push(e)}return t}parseElseIfExists(){const t=this.actions[this.actionNumber];return null!=t&&"else"==t.typeKind&&(this.actionNumber++,!0)}}class Bt{static random([t]){return Math.random()*t}static random_range([t,e]){return Math.random()*(e-t)+t}static irandom([t]){return Math.floor(Math.random()*(Math.floor(t)+1))}static irandom_range([t,e]){return Math.floor(Math.random()*(Math.floor(t)-Math.floor(e)+1))+Math.floor(e)}static random_set_seed([t]){return 0}static random_get_seed([t]){return 0}static randomize([t]){return 0}static choose([...t]){return t[Math.floor(Math.random()*t.length)]}static abs([t]){return Math.abs(t)}static sign([t]){return Math.sign(t)}static round([t]){return St(t)}static floor([t]){return Math.floor(t)}static ceil([t]){return Math.ceil(t)}static frac([t]){return t%1}static sqrt([t]){return Math.sqrt(t)}static sqr([t]){return t*t}static power([t,e]){return Math.pow(t,e)}static exp([t]){return Math.exp(t)}static ln([t]){return Math.log(t)}static log2([t]){return Math.log2(t)}static log10([t]){return Math.log10(t)}static logn([t,e]){return Math.log(t)/Math.log(e)}static sin([t]){return Math.sin(t)}static cos([t]){return Math.cos(t)}static tan([t]){return Math.tan(t)}static arcsin([t]){return Math.asin(t)}static arccos([t]){return Math.acos(t)}static arctan([t]){return Math.atan(t)}static arctan2([t,e]){return Math.atan2(t,e)}static degtorad([t]){return t*Math.PI/180}static radtodeg([t]){return t*(180/Math.PI)}static min([...t]){return Math.min(...t)}static max([...t]){return Math.max(...t)}static mean([...t]){return 0==t.length?0:t.reduce(((t,e)=>t+e))/t.length}static median([...t]){return 0==t.length?0:(t.sort(),t.length%2!=0?t[(t.length-1)/2]:Math.min(t[t.length/2],t[t.length/2-1]))}static point_distance([t,e,i,s]){return Math.hypot(i-t,s-e)}static point_direction([t,e,i,s]){return Math.atan2(-(s-e),i-t)*(180/Math.PI)}static lengthdir_x([t,e]){return Math.cos(e*Math.PI/180)*t}static lengthdir_y([t,e]){return Math.sin(e*Math.PI/180)*t}static is_real([t]){return"number"==typeof t?1:0}static is_string([t]){return"string"==typeof t?1:0}static chr([t]){return String.fromCharCode(t)}static ord([t]){return t.charCodeAt(0)}static real([t]){const e=parseFloat(t);return Number.isNaN(e)?0:e}static string([t]){return t.toString()}static string_format([t]){return 0}static string_length([t]){return t.length}static string_pos([t,e]){return e.indexOf(t)+1}static string_copy([t,e,i]){return t.slice(e-1,e-1+i)}static string_char_at([t,e]){return t[e-1]}static string_delete([t]){return 0}static string_insert([t]){return 0}static string_replace([t,e,i]){return t.replace(e,i)}static string_replace_all([t,e,i]){return t.replaceAll(e,i)}static string_count([t]){return 0}static string_lower([t]){return t.toLowerCase()}static string_upper([t]){return t.toUpperCase()}static string_repeat([t,e]){return t.repeat(e)}static string_letters([t]){return 0}static string_digits([t]){return 0}static string_lettersdigits([t]){return 0}static clipboard_has_text([t]){return 0}static clipboard_get_text([t]){return 0}static clipboard_set_text([t]){return 0}static date_current_datetime([t]){return 0}static date_current_date([t]){return 0}static date_current_time([t]){return 0}static date_create_datetime([t]){return 0}static date_create_date([t]){return 0}static date_create_time([t]){return 0}static date_valid_datetime([t]){return 0}static date_valid_date([t]){return 0}static date_valid_time([t]){return 0}static date_inc_year([t]){return 0}static date_inc_month([t]){return 0}static date_inc_week([t]){return 0}static date_inc_day([t]){return 0}static date_inc_hour([t]){return 0}static date_inc_minute([t]){return 0}static date_inc_second([t]){return 0}static date_get_year([t]){return 0}static date_get_month([t]){return 0}static date_get_week([t]){return 0}static date_get_day([t]){return 0}static date_get_hour([t]){return 0}static date_get_minute([t]){return 0}static date_get_second([t]){return 0}static date_get_weekday([t]){return 0}static date_get_day_of_year([t]){return 0}static date_get_hour_of_year([t]){return 0}static date_get_minute_of_year([t]){return 0}static date_get_second_of_year([t]){return 0}static date_year_span([t]){return 0}static date_month_span([t]){return 0}static date_week_span([t]){return 0}static date_day_span([t]){return 0}static date_hour_span([t]){return 0}static date_minute_span([t]){return 0}static date_second_span([t]){return 0}static date_compare_datetime([t]){return 0}static date_compare_date([t]){return 0}static date_compare_time([t]){return 0}static date_date_of([t]){return 0}static date_time_of([t]){return 0}static date_datetime_string([t]){return 0}static date_date_string([t]){return 0}static date_time_string([t]){return 0}static date_days_in_month([t]){return 0}static date_days_in_year([t]){return 0}static date_leap_year([t]){return 0}static date_is_today([t]){return 0}static motion_set([t,e]){return this.currentInstance.setDirectionAndSpeed(t,e),0}static motion_add([t,e]){const i=t*(Math.PI/180);return this.currentInstance.setHspeedAndVspeed(this.currentInstance.vars.getBuiltIn("hspeed")+Math.cos(i)*e,this.currentInstance.vars.getBuiltIn("vspeed")+-Math.sin(i)*e),0}static place_free([t,e]){return this.game.collisionInstanceOnInstances(this.currentInstance,this.game.instances,t,e,!0)?0:1}static place_empty([t,e]){return this.game.collisionInstanceOnInstances(this.currentInstance,this.game.instances,t,e,!1)?0:1}static place_meeting([t,e,i]){const s=this.objectReferenceToInstances(i);return Array.isArray(s)&&this.game.collisionInstanceOnInstances(this.currentInstance,s,t,e,!1)?1:0}static place_snapped([t,e]){return this.currentInstance.vars.getBuiltIn("x")%t==0&&this.currentInstance.vars.getBuiltIn("y")%e==0}static move_random([t,e]){let i,s;t=t<=0?1:t,e=e<=0?1:e;for(let n=0;n<100;++n)if(i=Math.floor(Math.random()*this.game.room.width/t)*t,s=Math.floor(Math.random()*this.game.room.height/e)*e,!this.game.collisionInstanceOnInstances(this.currentInstance,this.game.instances,i,s,!0)){this.currentInstance.vars.setBuiltIn("x",i),this.currentInstance.vars.setBuiltIn("y",s);break}return 0}static move_snap([t,e]){return this.currentInstance.vars.setBuiltIn("x",Math.floor(this.currentInstance.vars.getBuiltIn("x")/t)*t),this.currentInstance.vars.setBuiltIn("y",Math.floor(this.currentInstance.vars.getBuiltIn("y")/e)*e),0}static move_wrap([t,e,i]){if(t){const t=this.currentInstance.vars.getBuiltIn("x");t>=this.game.room.width+i?this.currentInstance.vars.setBuiltIn("x",t-this.game.room.width-2*i):t<0-i&&this.currentInstance.vars.setBuiltIn("x",this.game.room.width+t+2*i)}if(e){const t=this.currentInstance.vars.getBuiltIn("y");t>=this.game.room.height+i?this.currentInstance.vars.setBuiltIn("y",t-this.game.room.height-2*i):t<0-i&&this.currentInstance.vars.setBuiltIn("y",this.game.room.height+t-2*i)}return 0}static move_towards_point([t,e,i]){const s=this.currentInstance.vars.getBuiltIn("x"),n=this.currentInstance.vars.getBuiltIn("y");return this.currentInstance.setDirectionAndSpeed(Math.atan2(-(e-n),t-s)*(180/Math.PI),i),0}static move_bounce_solid([t]){return 0}static move_bounce_all([t]){return 0}static move_contact_solid([t]){return 0}static move_contact_all([t]){return 0}static move_outside_solid([t]){return 0}static move_outside_all([t]){return 0}static distance_to_point([t]){return 0}static distance_to_object([t]){return 0}static position_empty([t]){return 0}static position_meeting([t]){return 0}static path_start([t]){return 0}static path_end([t]){return 0}static mp_linear_step([t]){return 0}static mp_linear_step_object([t]){return 0}static mp_potential_step([t]){return 0}static mp_potential_step_object([t]){return 0}static mp_potential_settings([t]){return 0}static mp_linear_path([t]){return 0}static mp_linear_path_object([t]){return 0}static mp_potential_path([t]){return 0}static mp_potential_path_object([t]){return 0}static mp_grid_create([t]){return 0}static mp_grid_destroy([t]){return 0}static mp_grid_clear_all([t]){return 0}static mp_grid_clear_cell([t]){return 0}static mp_grid_clear_rectangle([t]){return 0}static mp_grid_add_cell([t]){return 0}static mp_grid_add_rectangle([t]){return 0}static mp_grid_add_instances([t]){return 0}static mp_grid_path([t]){return 0}static mp_grid_draw([t]){return 0}static collision_point([t]){return 0}static collision_rectangle([t]){return 0}static collision_circle([t]){return 0}static collision_ellipse([t]){return 0}static collision_line([t]){return 0}static instance_find([t]){return 0}static instance_exists([t]){if(-7==t)return 0;const e=this.objectReferenceToInstances(t);return Array.isArray(e)&&e.length>0?1:0}static instance_number([t]){if(-7==t)return 0;const e=this.objectReferenceToInstances(t);return Array.isArray(e)?e.length:0}static instance_position([t]){return 0}static instance_nearest([t]){return 0}static instance_furthest([t]){return 0}static instance_place([t]){return 0}static async instance_create([t,e,i]){if(null==this.game.getResourceById("ProjectObject",i))throw this.game.makeNonFatalError({type:"creating_instance_for_non_existing_object",objectIndex:i},"Creating instance for non-existing object: "+i.toString());return await this.game.instanceCreate(null,t,e,i)}static instance_copy([t]){return 0}static async instance_destroy([]){return await this.game.doEvent(this.game.getEventOfInstance(this.currentInstance,"destroy"),this.currentInstance),this.currentInstance.exists=!1,0}static instance_change([t]){return 0}static position_destroy([t]){return 0}static position_change([t]){return 0}static instance_deactivate_all([t]){return 0}static instance_deactivate_object([t]){return 0}static instance_deactivate_region([t]){return 0}static instance_activate_all([t]){return 0}static instance_activate_object([t]){return 0}static instance_activate_region([t]){return 0}static async sleep([t]){return await new Promise(((e,i)=>{setTimeout((()=>e()),t)})),0}static room_goto([t]){const e=this.game.getResourceById("ProjectRoom",t);if(null==e)throw this.game.makeFatalError({type:"unexisting_room_number",numb:t},"Unexisting room number: "+t.toString());return this.game.stepStopAction=async()=>{await this.game.loadRoom(e),this.game.startMainLoop()},0}static room_goto_previous([]){return Bt.room_goto.call(this,[Bt.room_previous.call(this,[this.game.room.resource.id])])}static room_goto_next([]){return Bt.room_goto.call(this,[Bt.room_next.call(this,[this.game.room.resource.id])])}static room_previous([t]){const e=this.game.project.resources.ProjectRoom.findIndex((e=>e.id==t));return null==e||0==e?-1:this.game.project.resources.ProjectRoom[e-1].id}static room_next([t]){const e=this.game.project.resources.ProjectRoom.findIndex((e=>e.id==t));return null==e||e==this.game.project.resources.ProjectRoom.length-1?-1:this.game.project.resources.ProjectRoom[e+1].id}static room_restart([]){return Bt.room_goto.call(this,[this.game.room.resource.id])}static game_end([]){return this.game.stepStopAction=async()=>{await this.game.end()},0}static game_restart([t]){return 0}static game_save([t]){return 0}static game_load([t]){return 0}static transition_define([t]){return 0}static transition_exists([t]){return 0}static event_perform([t]){return 0}static event_perform_object([t]){return 0}static event_user([t]){return 0}static event_inherited([t]){return 0}static show_debug_message([t]){return console.log(t),0}static variable_global_exists([t]){return 0}static variable_local_exists([t]){return 0}static variable_global_get([t]){return 0}static variable_global_array_get([t]){return 0}static variable_global_array2_get([t]){return 0}static variable_local_get([t]){return 0}static variable_local_array_get([t]){return 0}static variable_local_array2_get([t]){return 0}static variable_global_set([t]){return 0}static variable_global_array_set([t]){return 0}static variable_global_array2_set([t]){return 0}static variable_local_set([t]){return 0}static variable_local_array_set([t]){return 0}static variable_local_array2_set([t]){return 0}static set_program_priority([t]){return 0}static set_application_title([t]){return 0}static keyboard_set_map([t]){return 0}static keyboard_get_map([t]){return 0}static keyboard_unset_map([t]){return 0}static keyboard_check([t]){return this.game.getKey(t,this.game.key)?1:0}static keyboard_check_pressed([t]){return this.game.getKey(t,this.game.keyPressed)?1:0}static keyboard_check_released([t]){return this.game.getKey(t,this.game.keyReleased)?1:0}static keyboard_check_direct([t]){return 0}static keyboard_get_numlock([t]){return 0}static keyboard_set_numlock([t]){return 0}static keyboard_key_press([t]){return 0}static keyboard_key_release([t]){return 0}static keyboard_clear([t]){return 0}static io_clear([t]){return 0}static io_handle([t]){return 0}static keyboard_wait([t]){return 0}static mouse_check_button([t]){return this.game.getMouse(t,this.game.mouse)?1:0}static mouse_check_button_pressed([t]){return this.game.getMouse(t,this.game.mousePressed)?1:0}static mouse_check_button_released([t]){return this.game.getMouse(t,this.game.mouseReleased)?1:0}static mouse_wheel_up([]){return this.game.mouseWheel<0}static mouse_wheel_down([]){return this.game.mouseWheel>0}static mouse_clear([t]){return 0}static mouse_wait([t]){return 0}static joystick_exists([t]){return 0}static joystick_name([t]){return 0}static joystick_axes([t]){return 0}static joystick_buttons([t]){return 0}static joystick_has_pov([t]){return 0}static joystick_direction([t]){return 0}static joystick_check_button([t]){return 0}static joystick_xpos([t]){return 0}static joystick_ypos([t]){return 0}static joystick_zpos([t]){return 0}static joystick_rpos([t]){return 0}static joystick_upos([t]){return 0}static joystick_vpos([t]){return 0}static joystick_pov([t]){return 0}static draw_sprite([t,e,i,s]){if(!(t>=0))throw this.game.makeNonFatalError({type:"trying_to_draw_non_existing_sprite",spriteIndex:t},"Trying to draw non-existing sprite. ("+t.toString()+")");{const n=this.game.project.resources.ProjectSprite.find((e=>e.id==t));if(!n)throw this.game.makeNonFatalError({type:"trying_to_draw_non_existing_sprite",spriteIndex:t},"Trying to draw non-existing sprite. ("+t.toString()+")");this.game.drawSprite(n,e%n.images.length,i,s)}return 0}static draw_sprite_stretched([t]){return 0}static draw_sprite_tiled([t]){return 0}static draw_sprite_part([t]){return 0}static draw_background([t]){return 0}static draw_background_stretched([t]){return 0}static draw_background_tiled([t]){return 0}static draw_background_part([t]){return 0}static draw_sprite_ext([t]){return 0}static draw_sprite_stretched_ext([t]){return 0}static draw_sprite_tiled_ext([t]){return 0}static draw_sprite_part_ext([t]){return 0}static draw_sprite_general([t]){return 0}static draw_background_ext([t]){return 0}static draw_background_stretched_ext([t]){return 0}static draw_background_tiled_ext([t]){return 0}static draw_background_part_ext([t]){return 0}static draw_background_general([t]){return 0}static draw_clear([t]){return this.game.ctx.fillStyle=_t(t),this.game.ctx.fillRect(0,0,this.game.canvas.width,this.game.canvas.height),0}static draw_clear_alpha([t]){return 0}static draw_point([t,e]){return this.game.ctx.fillStyle=vt(this.game.drawColor,this.game.drawAlpha),this.game.ctx.fillRect(t,e,1,1),0}static draw_line([t,e,i,s]){return this.game.ctx.strokeStyle=vt(this.game.drawColor,this.game.drawAlpha),this.game.ctx.save(),this.game.ctx.translate(.5,.5),this.game.ctx.beginPath(),this.game.ctx.moveTo(t,e),this.game.ctx.lineTo(i,s),this.game.ctx.closePath(),this.game.ctx.stroke(),this.game.ctx.restore(),0}static draw_line_width([t]){return 0}static draw_rectangle([t,e,i,s,n]){return this.game.ctx.fillStyle=vt(this.game.drawColor,this.game.drawAlpha),this.game.ctx.strokeStyle=vt(this.game.drawColor,this.game.drawAlpha),n>=1?(this.game.ctx.save(),this.game.ctx.translate(.5,.5),this.game.ctx.strokeRect(t,e,i-t,s-e),this.game.ctx.restore()):this.game.ctx.fillRect(t,e,i-t,s-e),0}static draw_roundrect([t]){return 0}static draw_triangle([t]){return 0}static draw_circle([t,e,i,s]){const n=vt(this.game.drawColor,this.game.drawAlpha);return this.game.ctx.fillStyle=n,this.game.ctx.strokeStyle=n,this.game.ctx.beginPath(),this.game.ctx.arc(t,e,i,0,2*Math.PI),s>=1?this.game.ctx.stroke():this.game.ctx.fill(),this.game.ctx.closePath(),0}static draw_ellipse([t,e,i,s,n]){const r=vt(this.game.drawColor,this.game.drawAlpha),a=(i-t)/2+t,g=(s-e)/2+e;return this.game.ctx.fillStyle=r,this.game.ctx.strokeStyle=r,this.game.ctx.beginPath(),this.game.ctx.ellipse(a,g,i-a,s-g,0,0,2*Math.PI),n>=1?this.game.ctx.stroke():this.game.ctx.fill(),this.game.ctx.closePath(),0}static draw_set_circle_precision([t]){return 0}static draw_arrow([t]){return 0}static draw_button([t]){return 0}static draw_path([t]){return 0}static draw_healthbar([t]){return 0}static draw_set_color([t]){return this.game.drawColor=t,0}static draw_set_alpha([t]){return this.game.drawAlpha=t,0}static draw_get_color([]){return this.game.drawColor}static draw_get_alpha([]){return this.game.drawAlpha}static make_color_rgb([t,e,i]){return 256*t+256*e*256+256*i*256*256}static make_color_hsv([t]){return 0}static color_get_red([t]){return t%256}static color_get_green([t]){return Math.floor(t%65536/256)}static color_get_blue([t]){return Math.floor(t%16777216/65536)}static color_get_hue([t]){return mt(t).h}static color_get_saturation([t]){return mt(t).s}static color_get_value([t]){return mt(t).v}static merge_color([t]){return 0}static draw_getpixel([t,e]){const i=this.game.ctx.getImageData(t,e,1,1);return pt(i[0],i[1],i[2])}static screen_save([t]){return 0}static screen_save_part([t]){return 0}static draw_set_font([t]){return this.game.drawFont=t,0}static draw_set_halign([t]){return this.game.drawHAlign=t,0}static draw_set_valign([t]){return this.game.drawVAlign=t,0}static draw_text([t,e,i]){t=xt(t),e=xt(e),i=yt(i),this.game.ctx.fillStyle=vt(this.game.drawColor,this.game.drawAlpha),this.game.ctx.font=this.game.cssFontsCache[this.game.drawFont],this.game.ctx.textAlign=["left","center","right"][this.game.drawHAlign],this.game.ctx.textBaseline=["top","middle","bottom"][this.game.drawVAlign];const s=this.game.ctx.measureText(""),n=Math.abs(s.fontBoundingBoxDescent)+Math.abs(s.fontBoundingBoxAscent),r=Tt(i).split("\n");let a;0==this.game.drawVAlign?a=e:1==this.game.drawVAlign?a=e-n*r.length/2:2==this.game.drawVAlign&&(a=e-n*r.length);for(const e of r)this.game.ctx.fillText(e,t,a),a+=n;return 0}static draw_text_ext([t]){return 0}static string_width([t]){return 0}static string_width_ext([t]){return 0}static string_height([t]){return 0}static string_height_ext([t]){return 0}static draw_text_transformed([t]){return 0}static draw_text_ext_transformed([t]){return 0}static draw_text_color([t]){return 0}static draw_text_ext_color([t]){return 0}static draw_text_transformed_color([t]){return 0}static draw_text_ext_transformed_color([t]){return 0}static draw_point_color([t,e,i]){return this.game.ctx.fillStyle=_t(i),this.game.ctx.fillRect(t,e,1,1),0}static draw_line_color([t]){return 0}static draw_line_width_color([t]){return 0}static draw_rectangle_color([t]){return 0}static draw_roundrect_color([t]){return 0}static draw_triangle_color([t]){return 0}static draw_circle_color([t]){return 0}static draw_ellipse_color([t]){return 0}static draw_primitive_begin([t]){return 0}static draw_vertex([t]){return 0}static draw_vertex_color([t]){return 0}static draw_primitive_end([t]){return 0}static sprite_get_texture([t]){return 0}static background_get_texture([t]){return 0}static texture_preload([t]){return 0}static texture_set_priority([t]){return 0}static texture_get_width([t]){return 0}static texture_get_height([t]){return 0}static draw_primitive_begin_texture([t]){return 0}static draw_vertex_texture([t]){return 0}static draw_vertex_texture_color([t]){return 0}static texture_set_interpolation([t]){return 0}static texture_set_blending([t]){return 0}static texture_set_repeat([t]){return 0}static draw_set_blend_mode([t]){return 0}static draw_set_blend_mode_ext([t,e]){return this.game.drawBlendModeSrc=t,this.game.drawBlendModeDest=e,0}static surface_create([t]){return 0}static surface_free([t]){return 0}static surface_exists([t]){return 0}static surface_get_width([t]){return 0}static surface_get_height([t]){return 0}static surface_get_texture([t]){return 0}static surface_set_target([t]){return 0}static surface_reset_target([t]){return 0}static surface_getpixel([t]){return 0}static surface_save([t]){return 0}static surface_save_part([t]){return 0}static draw_surface([t]){return 0}static draw_surface_stretched([t]){return 0}static draw_surface_tiled([t]){return 0}static draw_surface_part([t]){return 0}static draw_surface_ext([t]){return 0}static draw_surface_stretched_ext([t]){return 0}static draw_surface_tiled_ext([t]){return 0}static draw_surface_part_ext([t]){return 0}static draw_surface_general([t]){return 0}static surface_copy([t]){return 0}static surface_copy_part([t]){return 0}static tile_add([t]){return 0}static tile_delete([t]){return 0}static tile_exists([t]){return 0}static tile_get_x([t]){return 0}static tile_get_y([t]){return 0}static tile_get_left([t]){return 0}static tile_get_top([t]){return 0}static tile_get_width([t]){return 0}static tile_get_height([t]){return 0}static tile_get_depth([t]){return 0}static tile_get_visible([t]){return 0}static tile_get_xscale([t]){return 0}static tile_get_yscale([t]){return 0}static tile_get_background([t]){return 0}static tile_get_blend([t]){return 0}static tile_get_alpha([t]){return 0}static tile_set_position([t]){return 0}static tile_set_region([t]){return 0}static tile_set_background([t]){return 0}static tile_set_visible([t]){return 0}static tile_set_depth([t]){return 0}static tile_set_scale([t]){return 0}static tile_set_blend([t]){return 0}static tile_set_alpha([t]){return 0}static tile_layer_hide([t]){return 0}static tile_layer_show([t]){return 0}static tile_layer_delete([t]){return 0}static tile_layer_shift([t]){return 0}static tile_layer_find([t]){return 0}static tile_layer_delete_at([t]){return 0}static tile_layer_depth([t]){return 0}static display_get_width([t]){return 0}static display_get_height([t]){return 0}static display_get_colordepth([t]){return 0}static display_get_frequency([t]){return 0}static display_set_size([t]){return 0}static display_set_colordepth([t]){return 0}static display_set_frequency([t]){return 0}static display_set_all([t]){return 0}static display_test_all([t]){return 0}static display_reset([t]){return 0}static display_mouse_get_x([t]){return 0}static display_mouse_get_y([t]){return 0}static display_mouse_set([t]){return 0}static window_set_visible([t]){return 0}static window_get_visible([t]){return 0}static async window_set_fullscreen([t]){return t=xt(t)>.5,await this.game.setFullscreen(t),0}static window_get_fullscreen([]){return this.game.getFullscreen()?1:0}static window_set_showborder([t]){return 0}static window_get_showborder([t]){return 0}static window_set_showicons([t]){return 0}static window_get_showicons([t]){return 0}static window_set_stayontop([t]){return 0}static window_get_stayontop([t]){return 0}static window_set_sizeable([t]){return 0}static window_get_sizeable([t]){return 0}static window_set_caption([t]){return 0}static window_get_caption([t]){return 0}static window_set_cursor([t]){return 0}static window_get_cursor([t]){return 0}static window_set_color([t]){return 0}static window_get_color([t]){return 0}static window_set_region_scale([t]){return 0}static window_get_region_scale([t]){return 0}static window_set_position([t]){return 0}static window_set_size([t]){return 0}static window_set_rectangle([t]){return 0}static window_center([t]){return 0}static window_default([t]){return 0}static window_get_x([t]){return 0}static window_get_y([t]){return 0}static window_get_width([t]){return 0}static window_get_height([t]){return 0}static window_mouse_get_x([t]){return 0}static window_mouse_get_y([t]){return 0}static window_mouse_set([t]){return 0}static window_set_region_size([t]){return 0}static window_get_region_width([t]){return 0}static window_get_region_height([t]){return 0}static window_view_mouse_get_x([t]){return 0}static window_view_mouse_get_y([t]){return 0}static window_view_mouse_set([t]){return 0}static window_views_mouse_get_x([t]){return 0}static window_views_mouse_get_y([t]){return 0}static window_views_mouse_set([t]){return 0}static screen_redraw([t]){return 0}static screen_refresh([t]){return 0}static set_automatic_draw([t]){return 0}static set_synchronization([t]){return 0}static screen_wait_vsync([t]){return 0}static sound_play([t]){const e=this.game.getResourceById("ProjectSound",t);if(!e)throw this.game.makeNonFatalError({type:"sound_does_not_exist",soundIndex:t},"Sound does not exist. ("+t.toString()+")");return this.game.playSound(e,!1),0}static sound_loop([t]){const e=this.game.getResourceById("ProjectSound",t);if(!e)throw this.game.makeNonFatalError({type:"sound_does_not_exist",soundIndex:t},"Sound does not exist. ("+t.toString()+")");return this.game.playSound(e,!0),0}static sound_stop([t]){const e=this.game.getResourceById("ProjectSound",t);if(!e)throw this.game.makeNonFatalError({type:"sound_does_not_exist",soundIndex:t},"Sound does not exist. ("+t.toString()+")");this.game.stopSound(e)}static sound_stop_all([]){return this.game.stopAllSounds(),0}static sound_isplaying([t]){const e=this.game.getResourceById("ProjectSound",t);if(!e)return 0;for(const t of this.game.sounds.get(e).audioNodes)if(!t.mediaElement.ended)return 1;return 0}static sound_volume([t,e]){const i=this.game.getResourceById("ProjectSound",t);if(!i)return 0;this.game.sounds.get(i).volume=e;for(const t of this.game.sounds.get(i).audioNodes)t.mediaElement.volume=e;return 0}static sound_global_volume([t]){return 0}static sound_fade([t]){return 0}static sound_pan([t]){return 0}static sound_background_tempo([t]){return 0}static sound_set_search_directory([t]){return 0}static sound_effect_set([t]){return 0}static sound_effect_chorus([t]){return 0}static sound_effect_echo([t]){return 0}static sound_effect_flanger([t]){return 0}static sound_effect_gargle([t]){return 0}static sound_effect_reverb([t]){return 0}static sound_effect_compressor([t]){return 0}static sound_effect_equalizer([t]){return 0}static sound_3d_set_sound_position([t]){return 0}static sound_3d_set_sound_velocity([t]){return 0}static sound_3d_set_sound_distance([t]){return 0}static sound_3d_set_sound_cone([t]){return 0}static cd_init([t]){return 0}static cd_present([t]){return 0}static cd_number([t]){return 0}static cd_playing([t]){return 0}static cd_paused([t]){return 0}static cd_track([t]){return 0}static cd_length([t]){return 0}static cd_track_length([t]){return 0}static cd_position([t]){return 0}static cd_track_position([t]){return 0}static cd_play([t]){return 0}static cd_stop([t]){return 0}static cd_pause([t]){return 0}static cd_resume([t]){return 0}static cd_set_position([t]){return 0}static cd_set_track_position([t]){return 0}static cd_open_door([t]){return 0}static cd_close_door([t]){return 0}static MCI_command([t]){return 0}static splash_show_video([t]){return 0}static splash_show_text([t]){return 0}static splash_show_image([t]){return 0}static splash_show_web([t]){return 0}static splash_set_main([t]){return 0}static splash_set_scale([t]){return 0}static splash_set_cursor([t]){return 0}static splash_set_color([t]){return 0}static splash_set_caption([t]){return 0}static splash_set_fullscreen([t]){return 0}static splash_set_border([t]){return 0}static splash_set_size([t]){return 0}static splash_set_position([t]){return 0}static splash_set_adapt([t]){return 0}static splash_set_top([t]){return 0}static splash_set_interrupt([t]){return 0}static splash_set_stop_key([t]){return 0}static splash_set_stop_mouse([t]){return 0}static splash_set_close_button([t]){return 0}static show_info([t]){return 0}static load_info([t]){return 0}static show_message([t]){return t=yt(t),this.game.clearIO(),alert(Tt(t)),0}static show_message_ext([t]){return 0}static show_question([t]){return this.game.clearIO(),confirm(t)?1:0}static get_integer([t,e]){t=wt(t),e=kt(e);const i=prompt(t,e);if(null===i)return e;const s=parseFloat(i);return Number.isNaN(s)?e:St(s)}static get_string([t,e]){t=wt(t),e=wt(e);const i=prompt(t,e);return null===i?e:i}static message_background([t]){return 0}static message_alpha([t]){return 0}static message_button([t]){return 0}static message_text_font([t]){return 0}static message_button_font([t]){return 0}static message_input_font([t]){return 0}static message_mouse_color([t]){return 0}static message_input_color([t]){return 0}static message_caption([t]){return 0}static message_position([t]){return 0}static message_size([t]){return 0}static show_menu([t]){return 0}static show_menu_pos([t]){return 0}static get_color([t]){return 0}static get_open_filename([t]){return 0}static get_save_filename([t]){return 0}static get_directory([t]){return 0}static get_directory_alt([t]){return 0}static show_error([t]){return 0}static highscore_show([t]){return 0}static highscore_set_background([t]){return 0}static highscore_set_border([t]){return 0}static highscore_set_font([t]){return 0}static highscore_set_colors([t]){return 0}static highscore_set_strings([t]){return 0}static highscore_show_ext([t]){return 0}static highscore_clear([t]){return 0}static highscore_add([t]){return 0}static highscore_add_current([t]){return 0}static highscore_value([t]){return 0}static highscore_name([t]){return 0}static draw_highscore([t]){return 0}static sprite_exists([t]){return this.game.getResourceById("ProjectSprite",t)?1:0}static sprite_get_name([t]){return 0}static sprite_get_number([t]){return 0}static sprite_get_width([t]){return 0}static sprite_get_height([t]){return 0}static sprite_get_xoffset([t]){return 0}static sprite_get_yoffset([t]){return 0}static sprite_get_bbox_left([t]){return 0}static sprite_get_bbox_right([t]){return 0}static sprite_get_bbox_top([t]){return 0}static sprite_get_bbox_bottom([t]){return 0}static sprite_save([t]){return 0}static sprite_save_strip([t]){return 0}static sound_exists([t]){return this.game.getResourceById("ProjectSound",t)?1:0}static sound_get_name([t]){return 0}static sound_get_kind([t]){return 0}static sound_get_preload([t]){return 0}static sound_discard([t]){return 0}static sound_restore([t]){return 0}static background_exists([t]){return this.game.getResourceById("ProjectBackground",t)?1:0}static background_get_name([t]){return 0}static background_get_width([t]){return 0}static background_get_height([t]){return 0}static background_save([t]){return 0}static font_exists([t]){return this.game.getResourceById("ProjectFont",t)?1:0}static font_get_name([t]){return 0}static font_get_fontname([t]){return 0}static font_get_bold([t]){return 0}static font_get_italic([t]){return 0}static font_get_first([t]){return 0}static font_get_last([t]){return 0}static path_exists([t]){return this.game.getResourceById("ProjectPath",t)?1:0}static path_get_name([t]){return 0}static path_get_length([t]){return 0}static path_get_kind([t]){return 0}static path_get_closed([t]){return 0}static path_get_precision([t]){return 0}static path_get_number([t]){return 0}static path_get_point_x([t]){return 0}static path_get_point_y([t]){return 0}static path_get_point_speed([t]){return 0}static path_get_x([t]){return 0}static path_get_y([t]){return 0}static path_get_speed([t]){return 0}static script_exists([t]){return this.game.getResourceById("ProjectScript",t)?1:0}static script_get_name([t]){return 0}static script_get_text([t]){return 0}static timeline_exists([t]){return this.game.getResourceById("ProjectTimeline",t)?1:0}static timeline_get_name([t]){return 0}static object_exists([t]){return this.game.getResourceById("ProjectObject",t)?1:0}static object_get_name([t]){return 0}static object_get_sprite([t]){return 0}static object_get_solid([t]){return 0}static object_get_visible([t]){return 0}static object_get_depth([t]){return 0}static object_get_persistent([t]){return 0}static object_get_mask([t]){return 0}static object_get_parent([t]){return 0}static object_is_ancestor([t]){return 0}static room_exists([t]){return this.game.getResourceById("ProjectRoom",t)?1:0}static room_get_name([t]){return 0}static sprite_set_offset([t]){return 0}static sprite_duplicate([t]){return 0}static sprite_assign([t]){return 0}static sprite_merge([t]){return 0}static sprite_add([t]){return 0}static sprite_replace([t]){return 0}static sprite_add_sprite([t]){return 0}static sprite_replace_sprite([t]){return 0}static sprite_create_from_screen([t]){return 0}static sprite_add_from_screen([t]){return 0}static sprite_create_from_surface([t]){return 0}static sprite_add_from_surface([t]){return 0}static sprite_delete([t]){return 0}static sprite_set_alpha_from_sprite([t]){return 0}static sprite_collision_mask([t]){return 0}static sound_add([t]){return 0}static sound_replace([t]){return 0}static sound_delete([t]){return 0}static background_duplicate([t]){return 0}static background_assign([t]){return 0}static background_add([t]){return 0}static background_replace([t]){return 0}static background_add_background([t]){return 0}static background_replace_background([t]){return 0}static background_create_color([t]){return 0}static background_create_gradient([t]){return 0}static background_create_from_screen([t]){return 0}static background_create_from_surface([t]){return 0}static background_delete([t]){return 0}static background_set_alpha_from_background([t]){return 0}static font_add([t]){return 0}static font_add_sprite([t]){return 0}static font_replace([t]){return 0}static font_replace_sprite([t]){return 0}static font_delete([t]){return 0}static path_set_kind([t]){return 0}static path_set_closed([t]){return 0}static path_set_precision([t]){return 0}static path_add([t]){return 0}static path_delete([t]){return 0}static path_duplicate([t]){return 0}static path_assign([t]){return 0}static path_append([t]){return 0}static path_add_point([t]){return 0}static path_insert_point([t]){return 0}static path_change_point([t]){return 0}static path_delete_point([t]){return 0}static path_clear_points([t]){return 0}static path_reverse([t]){return 0}static path_mirror([t]){return 0}static path_flip([t]){return 0}static path_rotate([t]){return 0}static path_scale([t]){return 0}static path_shift([t]){return 0}static async execute_string([t,...e]){return await this.game.executeString(t,this.currentInstance,this.currentOther,e),0}static execute_file([t]){return 0}static script_execute([t,...e]){const i=this.game.getResourceById("ProjectScript",t);if(i)return this.execute(this.game.gmlCache.get(i),this.currentInstance,this.currentOther,e);throw this.game.makeNonFatalError({type:"trying_to_execute_non_existing_script",scriptIndex:t},"Trying to execute non-existing script. ("+t.toString()+")")}static timeline_add([t]){return 0}static timeline_delete([t]){return 0}static timeline_clear([t]){return 0}static timeline_moment_add([t]){return 0}static timeline_moment_clear([t]){return 0}static object_set_sprite([t]){return 0}static object_set_solid([t]){return 0}static object_set_visible([t]){return 0}static object_set_depth([t]){return 0}static object_set_persistent([t]){return 0}static object_set_mask([t]){return 0}static object_set_parent([t]){return 0}static object_add([t]){return 0}static object_delete([t]){return 0}static object_event_add([t]){return 0}static object_event_clear([t]){return 0}static room_set_width([t]){return 0}static room_set_height([t]){return 0}static room_set_caption([t]){return 0}static room_set_persistent([t]){return 0}static room_set_code([t]){return 0}static room_set_background_color([t]){return 0}static room_set_background([t]){return 0}static room_set_view([t]){return 0}static room_set_view_enabled([t]){return 0}static room_add([t]){return 0}static room_duplicate([t]){return 0}static room_assign([t]){return 0}static room_instance_add([t]){return 0}static room_instance_clear([t]){return 0}static room_tile_add([t]){return 0}static room_tile_add_ext([t]){return 0}static room_tile_clear([t]){return 0}static file_text_open_read([t]){return 0}static file_text_open_write([t]){return 0}static file_text_open_append([t]){return 0}static file_text_close([t]){return 0}static file_text_write_string([t]){return 0}static file_text_write_real([t]){return 0}static file_text_writeln([t]){return 0}static file_text_read_string([t]){return 0}static file_text_read_real([t]){return 0}static file_text_readln([t]){return 0}static file_text_eof([t]){return 0}static file_text_eoln([t]){return 0}static file_exists([t]){return 0}static file_delete([t]){return 0}static file_rename([t]){return 0}static file_copy([t]){return 0}static directory_create([t]){return 0}static directory_exists([t]){return 0}static file_find_first([t]){return 0}static file_find_next([t]){return 0}static file_find_close([t]){return 0}static file_attributes([t]){return 0}static filename_name([t]){return 0}static filename_path([t]){return 0}static filename_dir([t]){return 0}static filename_drive([t]){return 0}static filename_ext([t]){return 0}static filename_change_ext([t]){return 0}static file_bin_open([t]){return 0}static file_bin_rewrite([t]){return 0}static file_bin_close([t]){return 0}static file_bin_size([t]){return 0}static file_bin_position([t]){return 0}static file_bin_seek([t]){return 0}static file_bin_write_byte([t]){return 0}static file_bin_read_byte([t]){return 0}static export_include_file([t]){return 0}static export_include_file_location([t]){return 0}static discard_include_file([t]){return 0}static parameter_count([t]){return 0}static parameter_string([t]){return 0}static environment_get_variable([t]){return 0}static disk_size([t]){return 0}static disk_free([t]){return 0}static registry_write_string([t]){return 0}static registry_write_real([t]){return 0}static registry_read_string([t]){return 0}static registry_read_real([t]){return 0}static registry_exists([t]){return 0}static registry_write_string_ext([t]){return 0}static registry_write_real_ext([t]){return 0}static registry_read_string_ext([t]){return 0}static registry_read_real_ext([t]){return 0}static registry_exists_ext([t]){return 0}static registry_set_root([t]){return 0}static ini_open([t]){return 0}static ini_close([t]){return 0}static ini_read_string([t]){return 0}static ini_read_real([t]){return 0}static ini_write_string([t]){return 0}static ini_write_real([t]){return 0}static ini_key_exists([t]){return 0}static ini_section_exists([t]){return 0}static ini_key_delete([t]){return 0}static ini_section_delete([t]){return 0}static execute_program([t]){return 0}static execute_shell([t]){return 0}static ds_set_precision([t]){return 0}static ds_stack_create([t]){return 0}static ds_stack_destroy([t]){return 0}static ds_stack_clear([t]){return 0}static ds_stack_copy([t]){return 0}static ds_stack_size([t]){return 0}static ds_stack_empty([t]){return 0}static ds_stack_push([t]){return 0}static ds_stack_pop([t]){return 0}static ds_stack_top([t]){return 0}static ds_stack_write([t]){return 0}static ds_stack_read([t]){return 0}static ds_queue_create([t]){return 0}static ds_queue_destroy([t]){return 0}static ds_queue_clear([t]){return 0}static ds_queue_copy([t]){return 0}static ds_queue_size([t]){return 0}static ds_queue_empty([t]){return 0}static ds_queue_enqueue([t]){return 0}static ds_queue_dequeue([t]){return 0}static ds_queue_head([t]){return 0}static ds_queue_tail([t]){return 0}static ds_queue_write([t]){return 0}static ds_queue_read([t]){return 0}static ds_list_create([t]){return 0}static ds_list_destroy([t]){return 0}static ds_list_clear([t]){return 0}static ds_list_copy([t]){return 0}static ds_list_size([t]){return 0}static ds_list_empty([t]){return 0}static ds_list_add([t]){return 0}static ds_list_insert([t]){return 0}static ds_list_replace([t]){return 0}static ds_list_delete([t]){return 0}static ds_list_find_index([t]){return 0}static ds_list_find_value([t]){return 0}static ds_list_sort([t]){return 0}static ds_list_shuffle([t]){return 0}static ds_list_write([t]){return 0}static ds_list_read([t]){return 0}static ds_map_create([t]){return 0}static ds_map_destroy([t]){return 0}static ds_map_clear([t]){return 0}static ds_map_copy([t]){return 0}static ds_map_size([t]){return 0}static ds_map_empty([t]){return 0}static ds_map_add([t]){return 0}static ds_map_replace([t]){return 0}static ds_map_delete([t]){return 0}static ds_map_exists([t]){return 0}static ds_map_find_value([t]){return 0}static ds_map_find_previous([t]){return 0}static ds_map_find_next([t]){return 0}static ds_map_find_first([t]){return 0}static ds_map_find_last([t]){return 0}static ds_map_write([t]){return 0}static ds_map_read([t]){return 0}static ds_priority_create([t]){return 0}static ds_priority_destroy([t]){return 0}static ds_priority_clear([t]){return 0}static ds_priority_copy([t]){return 0}static ds_priority_size([t]){return 0}static ds_priority_empty([t]){return 0}static ds_priority_add([t]){return 0}static ds_priority_change_priority([t]){return 0}static ds_priority_find_priority([t]){return 0}static ds_priority_delete_value([t]){return 0}static ds_priority_delete_min([t]){return 0}static ds_priority_find_min([t]){return 0}static ds_priority_delete_max([t]){return 0}static ds_priority_find_max([t]){return 0}static ds_priority_write([t]){return 0}static ds_priority_read([t]){return 0}static ds_grid_create([t]){return 0}static ds_grid_destroy([t]){return 0}static ds_grid_copy([t]){return 0}static ds_grid_resize([t]){return 0}static ds_grid_width([t]){return 0}static ds_grid_height([t]){return 0}static ds_grid_clear([t]){return 0}static ds_grid_set([t]){return 0}static ds_grid_add([t]){return 0}static ds_grid_multiply([t]){return 0}static ds_grid_set_region([t]){return 0}static ds_grid_add_region([t]){return 0}static ds_grid_multiply_region([t]){return 0}static ds_grid_set_disk([t]){return 0}static ds_grid_add_disk([t]){return 0}static ds_grid_multiply_disk([t]){return 0}static ds_grid_set_grid_region([t]){return 0}static ds_grid_add_grid_region([t]){return 0}static ds_grid_multiply_grid_region([t]){return 0}static ds_grid_get([t]){return 0}static ds_grid_get_sum([t]){return 0}static ds_grid_get_max([t]){return 0}static ds_grid_get_min([t]){return 0}static ds_grid_get_mean([t]){return 0}static ds_grid_get_disk_sum([t]){return 0}static ds_grid_get_disk_min([t]){return 0}static ds_grid_get_disk_max([t]){return 0}static ds_grid_get_disk_mean([t]){return 0}static ds_grid_value_exists([t]){return 0}static ds_grid_value_x([t]){return 0}static ds_grid_value_y([t]){return 0}static ds_grid_value_disk_exists([t]){return 0}static ds_grid_value_disk_x([t]){return 0}static ds_grid_value_disk_y([t]){return 0}static ds_grid_shuffle([t]){return 0}static ds_grid_write([t]){return 0}static ds_grid_read([t]){return 0}static effect_create_below([t]){return 0}static effect_create_above([t]){return 0}static effect_clear([t]){return 0}static part_type_create([t]){return 0}static part_type_destroy([t]){return 0}static part_type_exists([t]){return 0}static part_type_clear([t]){return 0}static part_type_shape([t]){return 0}static part_type_sprite([t]){return 0}static part_type_size([t]){return 0}static part_type_scale([t]){return 0}static part_type_orientation([t]){return 0}static part_type_color1([t]){return 0}static part_type_color2([t]){return 0}static part_type_color3([t]){return 0}static part_type_color_mix([t]){return 0}static part_type_color_rgb([t]){return 0}static part_type_color_hsv([t]){return 0}static part_type_alpha1([t]){return 0}static part_type_alpha2([t]){return 0}static part_type_alpha3([t]){return 0}static part_type_blend([t]){return 0}static part_type_life([t]){return 0}static part_type_step([t]){return 0}static part_type_death([t]){return 0}static part_type_speed([t]){return 0}static part_type_direction([t]){return 0}static part_type_gravity([t]){return 0}static part_system_create([t]){return 0}static part_system_destroy([t]){return 0}static part_system_exists([t]){return 0}static part_system_clear([t]){return 0}static part_system_draw_order([t]){return 0}static part_system_depth([t]){return 0}static part_system_position([t]){return 0}static part_system_automatic_update([t]){return 0}static part_system_automatic_draw([t]){return 0}static part_system_update([t]){return 0}static part_system_drawit([t]){return 0}static part_particles_create([t]){return 0}static part_particles_create_color([t]){return 0}static part_particles_clear([t]){return 0}static part_particles_count([t]){return 0}static part_emitter_create([t]){return 0}static part_emitter_destroy([t]){return 0}static part_emitter_destroy_all([t]){return 0}static part_emitter_exists([t]){return 0}static part_emitter_clear([t]){return 0}static part_emitter_region([t]){return 0}static part_emitter_burst([t]){return 0}static part_emitter_stream([t]){return 0}static part_attractor_create([t]){return 0}static part_attractor_destroy([t]){return 0}static part_attractor_destroy_all([t]){return 0}static part_attractor_exists([t]){return 0}static part_attractor_clear([t]){return 0}static part_attractor_position([t]){return 0}static part_attractor_force([t]){return 0}static part_destroyer_create([t]){return 0}static part_destroyer_destroy([t]){return 0}static part_destroyer_destroy_all([t]){return 0}static part_destroyer_exists([t]){return 0}static part_destroyer_clear([t]){return 0}static part_destroyer_region([t]){return 0}static part_deflector_create([t]){return 0}static part_deflector_destroy([t]){return 0}static part_deflector_destroy_all([t]){return 0}static part_deflector_exists([t]){return 0}static part_deflector_clear([t]){return 0}static part_deflector_region([t]){return 0}static part_deflector_kind([t]){return 0}static part_deflector_friction([t]){return 0}static part_changer_create([t]){return 0}static part_changer_destroy([t]){return 0}static part_changer_destroy_all([t]){return 0}static part_changer_exists([t]){return 0}static part_changer_clear([t]){return 0}static part_changer_region([t]){return 0}static part_changer_types([t]){return 0}static part_changer_kind([t]){return 0}static mplay_init_ipx([t]){return 0}static mplay_init_tcpip([t]){return 0}static mplay_init_modem([t]){return 0}static mplay_init_serial([t]){return 0}static mplay_connect_status([t]){return 0}static mplay_end([t]){return 0}static mplay_ipaddress([t]){return 0}static mplay_session_create([t]){return 0}static mplay_session_find([t]){return 0}static mplay_session_name([t]){return 0}static mplay_session_join([t]){return 0}static mplay_session_mode([t]){return 0}static mplay_session_status([t]){return 0}static mplay_session_end([t]){return 0}static mplay_player_find([t]){return 0}static mplay_player_name([t]){return 0}static mplay_player_id([t]){return 0}static mplay_data_write([t]){return 0}static mplay_data_read([t]){return 0}static mplay_data_mode([t]){return 0}static mplay_message_send([t]){return 0}static mplay_message_send_guaranteed([t]){return 0}static mplay_message_receive([t]){return 0}static mplay_message_id([t]){return 0}static mplay_message_value([t]){return 0}static mplay_message_player([t]){return 0}static mplay_message_name([t]){return 0}static mplay_message_count([t]){return 0}static mplay_message_clear([t]){return 0}static external_define([t]){return 0}static external_call([t]){return 0}static external_free([t]){return 0}static window_handle([t]){return 0}static d3d_start([t]){return 0}static d3d_end([t]){return 0}static d3d_set_hidden([t]){return 0}static d3d_set_perspective([t]){return 0}static d3d_set_depth([t]){return 0}static d3d_primitive_begin([t]){return 0}static d3d_vertex([t]){return 0}static d3d_vertex_color([t]){return 0}static d3d_primitive_end([t]){return 0}static d3d_primitive_begin_texture([t]){return 0}static d3d_vertex_texture([t]){return 0}static d3d_vertex_texture_color([t]){return 0}static d3d_set_culling([t]){return 0}static d3d_draw_block([t]){return 0}static d3d_draw_cylinder([t]){return 0}static d3d_draw_cone([t]){return 0}static d3d_draw_ellipsoid([t]){return 0}static d3d_draw_wall([t]){return 0}static d3d_draw_floor([t]){return 0}static d3d_set_projection([t]){return 0}static d3d_set_projection_ext([t]){return 0}static d3d_set_projection_ortho([t]){return 0}static d3d_set_projection_perspective([t]){return 0}static d3d_transform_set_identity([t]){return 0}static d3d_transform_set_translation([t]){return 0}static d3d_transform_set_scaling([t]){return 0}static d3d_transform_set_rotation_x([t]){return 0}static d3d_transform_set_rotation_y([t]){return 0}static d3d_transform_set_rotation_z([t]){return 0}static d3d_transform_set_rotation_axis([t]){return 0}static d3d_transform_add_translation([t]){return 0}static d3d_transform_add_scaling([t]){return 0}static d3d_transform_add_rotation_x([t]){return 0}static d3d_transform_add_rotation_y([t]){return 0}static d3d_transform_add_rotation_z([t]){return 0}static d3d_transform_add_rotation_axis([t]){return 0}static d3d_transform_stack_clear([t]){return 0}static d3d_transform_stack_empty([t]){return 0}static d3d_transform_stack_push([t]){return 0}static d3d_transform_stack_pop([t]){return 0}static d3d_transform_stack_top([t]){return 0}static d3d_transform_stack_discard([t]){return 0}static d3d_set_fog([t]){return 0}static d3d_set_lighting([t]){return 0}static d3d_set_shading([t]){return 0}static d3d_light_define_direction([t]){return 0}static d3d_light_define_point([t]){return 0}static d3d_light_enable([t]){return 0}static d3d_vertex_normal([t]){return 0}static d3d_vertex_normal_color([t]){return 0}static d3d_vertex_normal_texture([t]){return 0}static d3d_vertex_normal_texture_color([t]){return 0}static d3d_model_create([t]){return 0}static d3d_model_destroy([t]){return 0}static d3d_model_clear([t]){return 0}static d3d_model_save([t]){return 0}static d3d_model_load([t]){return 0}static d3d_model_draw([t]){return 0}static d3d_model_primitive_begin([t]){return 0}static d3d_model_vertex([t]){return 0}static d3d_model_vertex_color([t]){return 0}static d3d_model_vertex_texture([t]){return 0}static d3d_model_vertex_texture_color([t]){return 0}static d3d_model_vertex_normal([t]){return 0}static d3d_model_vertex_normal_color([t]){return 0}static d3d_model_vertex_normal_texture([t]){return 0}static d3d_model_vertex_normal_texture_color([t]){return 0}static d3d_model_primitive_end([t]){return 0}static d3d_model_block([t]){return 0}static d3d_model_cylinder([t]){return 0}static d3d_model_cone([t]){return 0}static d3d_model_ellipsoid([t]){return 0}static d3d_model_wall([t]){return 0}static d3d_model_floor([t]){return 0}static action_move([t,e],i){const s=bt(t),n=[225,270,315,180,null,0,135,90,45],r=[];for(let t=0;t<9;++t)s[t]&&r.push(n[t]);const a=r[Math.floor(Math.random()*r.length)];return null!=a?(e=i?this.currentInstance.vars.getBuiltIn("speed")+e:e,this.currentInstance.setDirectionAndSpeed(a,e)):this.currentInstance.vars.setBuiltIn("speed",0),0}static action_set_motion([t,e],i){return i?Bt.motion_add.call(this,[t,e]):Bt.motion_set.call(this,[t,e]),0}static action_move_point([t,e,i],s){return s||(t-=this.currentInstance.vars.getBuiltIn("x"),e-=this.currentInstance.vars.getBuiltIn("y")),this.currentInstance.setDirectionAndSpeed(Math.atan2(-e,t)*(180/Math.PI),i),0}static action_set_hspeed([t],e){return t=e?this.currentInstance.vars.getBuiltIn("hspeed")+t:t,this.currentInstance.vars.setBuiltInCall("hspeed",t),0}static action_set_vspeed([t],e){return t=e?this.currentInstance.vars.getBuiltIn("vspeed")+t:t,this.currentInstance.vars.setBuiltInCall("vspeed",t),0}static action_set_gravity([t,e],i){return t=i?this.currentInstance.vars.getBuiltIn("gravity_direction")+t:t,this.currentInstance.vars.setBuiltIn("gravity_direction",t),e=i?this.currentInstance.vars.getBuiltIn("gravity")+e:e,this.currentInstance.vars.setBuiltIn("gravity",e),0}static action_reverse_xdir([]){return this.currentInstance.vars.setBuiltInCall("hspeed",-1*this.currentInstance.vars.getBuiltIn("hspeed")),0}static action_reverse_ydir([]){return this.currentInstance.vars.setBuiltInCall("vspeed",-1*this.currentInstance.vars.getBuiltIn("vspeed")),0}static action_set_friction([t],e){return t=e?this.currentInstance.vars.getBuiltIn("friction")+t:t,this.currentInstance.vars.setBuiltIn("friction",t),0}static action_move_to([t,e],i){return t=i?this.currentInstance.vars.getBuiltIn("x")+t:t,e=i?this.currentInstance.vars.getBuiltIn("y")+e:e,this.currentInstance.vars.setBuiltIn("x",t),this.currentInstance.vars.setBuiltIn("y",e),0}static action_move_start([]){return this.currentInstance.vars.setBuiltIn("x",this.currentInstance.vars.getBuiltIn("xstart")),this.currentInstance.vars.setBuiltIn("y",this.currentInstance.vars.getBuiltIn("ystart")),0}static action_move_random([t,e]){return Bt.move_random.call(this,[t,e]),0}static action_snap([t,e]){return Bt.move_snap.call(this,[t,e]),0}static action_wrap([t]){const e=0==t||2==t,i=1==t||2==t;let s=0,n=0;if(this.currentInstance.sprite){const t=this.currentInstance.sprite.images[this.currentInstance.getImageIndex()];t&&(s=t.image.width,n=t.image.height)}if(e){const t=this.currentInstance.vars.getBuiltIn("x");t>=this.game.room.width&&this.currentInstance.vars.getBuiltIn("hspeed")>0?this.currentInstance.vars.setBuiltIn("x",t-this.game.room.width-s):t<0&&this.currentInstance.vars.getBuiltIn("hspeed")<0&&this.currentInstance.vars.setBuiltIn("x",this.game.room.width+t+s)}if(i){const t=this.currentInstance.vars.getBuiltIn("y");t>=this.game.room.height&&this.currentInstance.vars.getBuiltIn("vspeed")>0?this.currentInstance.vars.setBuiltIn("y",t-this.game.room.height-n):t<0&&this.currentInstance.vars.getBuiltIn("vspeed")<0&&this.currentInstance.vars.setBuiltIn("y",this.game.room.height+t+n)}return 0}static action_move_contact([t]){return 0}static action_bounce([t,e]){return 0==e?Bt.move_bounce_solid.call(this,[t]):1==e&&Bt.move_bounce_all.call(this,[t]),0}static action_path([t]){return 0}static action_path_end([t]){return 0}static action_path_position([t]){return 0}static action_path_speed([t]){return 0}static action_linear_step([t]){return 0}static action_potential_step([t]){return 0}static async action_create_object([t,e,i],s){return e=s?this.currentInstance.vars.getBuiltIn("x")+e:e,i=s?this.currentInstance.vars.getBuiltIn("y")+i:i,await Bt.instance_create.call(this,[e,i,t]),0}static action_create_object_motion([t]){return 0}static action_create_object_random([t]){return 0}static action_change_object([t]){return 0}static async action_kill_object([]){return await Bt.instance_destroy.call(this,[]),0}static action_kill_position([t]){return 0}static action_sprite_set([t,e,i]){return this.currentInstance.vars.setBuiltInCall("sprite_index",t),-1!=e&&this.currentInstance.vars.setBuiltIn("image_index",e),this.currentInstance.vars.setBuiltIn("image_speed",i),0}static action_sprite_transform([t]){return 0}static action_sprite_color([t]){return 0}static action_sound([t]){return 0}static action_end_sound([t]){return 0}static action_if_sound([t]){return 0}static action_previous_room([t]){return Bt.room_goto_previous.call(this,[]),0}static action_next_room([t]){return Bt.room_goto_next.call(this,[]),0}static action_current_room([t]){return Bt.room_restart.call(this,[]),0}static action_another_room([t,e]){return Bt.room_goto.call(this,[t]),0}static action_if_previous_room([]){return-1!=Bt.room_previous.call(this,[this.game.room.resource.id])?1:0}static action_if_next_room([]){return-1!=Bt.room_next.call(this,[this.game.room.resource.id])?1:0}static action_set_alarm([t,e],i){return t=i?this.currentInstance.vars.getBuiltInArray("alarm",[e])+t:t,this.currentInstance.vars.setBuiltInArray("alarm",[e],t),0}static async action_sleep([t,e]){return await Bt.sleep.call(this,[t]),0}static action_set_timeline([t]){return 0}static action_timeline_set([t]){return 0}static action_set_timeline_position([t]){return 0}static action_set_timeline_speed([t]){return 0}static action_timeline_start([t]){return 0}static action_timeline_pause([t]){return 0}static action_timeline_stop([t]){return 0}static action_message([t]){return Bt.show_message.call(this,[t]),0}static action_show_info([t]){return 0}static action_show_video([t]){return 0}static action_splash_text([t]){return 0}static action_splash_image([t]){return 0}static action_splash_web([t]){return 0}static action_splash_video([t]){return 0}static action_splash_settings([t]){return 0}static action_restart_game([t]){return 0}static action_end_game([]){return Bt.game_end.call(this,[]),0}static action_save_game([t]){return 0}static action_load_game([t]){return 0}static action_replace_sprite([t]){return 0}static action_replace_sound([t]){return 0}static action_replace_background([t]){return 0}static action_if_empty([t,e,i],s){return t=s?this.currentInstance.vars.getBuiltIn("x")+t:t,e=s?this.currentInstance.vars.getBuiltIn("y")+e:e,0==i?Bt.place_free.call(this,[t,e]):1==i?Bt.place_empty.call(this,[t,e]):0}static action_if_collision([t,e,i],s){return t=s?this.currentInstance.vars.getBuiltIn("x")+t:t,e=s?this.currentInstance.vars.getBuiltIn("y")+e:e,0==i?!Bt.place_free.call(this,[t,e]):1==i?!Bt.place_empty.call(this,[t,e]):0}static action_if_object([t,e,i],s){return e=s?this.currentInstance.vars.getBuiltIn("x")+e:e,i=s?this.currentInstance.vars.getBuiltIn("y")+i:i,Bt.place_meeting.call(this,[e,i,t])}static action_if_number([t,e,i]){const s=Bt.instance_number.call(this,[t]);return 0==i?s===e?1:0:1==i?s<e?1:0:2==i&&s>e?1:0}static action_if_dice([t]){return Math.random()*t<1?1:0}static action_if_question([t]){return Bt.show_question.call(this,[t])}static action_if([t]){return t}static action_if_mouse([t]){return Bt.mouse_check_button.call(this,[t])}static action_if_aligned([t,e]){return Bt.place_snapped.call(this,[t,e])}static action_inherited([t]){return 0}static action_execute_script([t,e,i,s,n,r]){const a=this.game.getResourceById("ProjectScript",t);return a?this.execute(this.game.gmlCache.get(a),this.currentInstance,this.currentOther,[e,i,s,n,r]):0}static action_if_variable([t,e,i]){if(typeof t!=typeof e)throw this.game.makeNonFatalError({type:"cannot_compare_arguments",a:t,b:e},"Cannot compare arguments. ("+t.toString()+" has a different type than "+e.toString()+")");switch(i){case 0:return t==e?1:0;case 1:return t<e?1:0;case 2:return t>e?1:0}return 0}static action_draw_variable([t]){return 0}static action_set_score([t],e){return t=e?this.game.globalVars.getBuiltIn("score")+t:t,this.game.globalVars.setBuiltIn("score",t),0}static action_if_score([t,e]){const i=this.game.globalVars.getBuiltIn("score");switch(e){case 0:return i===t?1:0;case 1:return i<t?1:0;case 2:return i>t?1:0}return 0}static action_draw_score([t]){return 0}static action_highscore_show([t]){return 0}static action_highscore_clear([t]){return 0}static action_set_life([t],e){return t=e?this.game.globalVars.getBuiltIn("lives")+t:t,this.game.globalVars.setBuiltInCall("lives",t),0}static action_if_life([t,e]){const i=this.game.globalVars.getBuiltIn("lives");switch(e){case 0:return i===t?1:0;case 1:return i<t?1:0;case 2:return i>t?1:0}return 0}static action_draw_life([t]){return 0}static action_draw_life_images([t]){return 0}static action_set_health([t],e){return t=e?this.game.globalVars.getBuiltIn("health")+t:t,this.game.globalVars.setBuiltInCall("health",t),0}static action_if_health([t,e]){const i=this.game.globalVars.getBuiltIn("health");switch(e){case 0:return i===t?1:0;case 1:return i<t?1:0;case 2:return i>t?1:0}return 0}static action_draw_health([t]){return 0}static action_set_caption([t]){return 0}static action_partsyst_create([t]){return 0}static action_partsyst_destroy([t]){return 0}static action_partsyst_clear([t]){return 0}static action_parttype_create([t]){return 0}static action_parttype_color([t]){return 0}static action_parttype_life([t]){return 0}static action_parttype_speed([t]){return 0}static action_parttype_gravity([t]){return 0}static action_parttype_secondary([t]){return 0}static action_partemit_create([t]){return 0}static action_partemit_destroy([t]){return 0}static action_partemit_burst([t]){return 0}static action_partemit_stream([t]){return 0}static action_cd_play([t]){return 0}static action_cd_stop([t]){return 0}static action_cd_pause([t]){return 0}static action_cd_resume([t]){return 0}static action_cd_present([t]){return 0}static action_cd_playing([t]){return 0}static action_set_cursor([t,e]){return this.game.globalVars.setBuiltInCall("cursor_sprite",t),0==e?this.game.canvas.classList.add("no-cursor"):1==e&&this.game.canvas.classList.remove("no-cursor"),0}static action_webpage([t]){return 0}static action_draw_sprite([t,e,i,s],n){return e=n?this.currentInstance.vars.getBuiltIn("x")+e:e,i=n?this.currentInstance.vars.getBuiltIn("y")+i:i,s=-1!=s?s:this.currentInstance.vars.getBuiltIn("image_index"),Bt.draw_sprite.call(this,[t,s,e,i]),0}static action_draw_background([t]){return 0}static action_draw_text([t,e,i],s){return e=s?this.currentInstance.vars.getBuiltIn("x")+e:e,i=s?this.currentInstance.vars.getBuiltIn("y")+i:i,Bt.draw_text.call(this,[e,i,t]),0}static action_draw_text_transformed([t]){return 0}static action_draw_rectangle([t,e,i,s,n],r){return t=r?this.currentInstance.vars.getBuiltIn("x")+t:t,e=r?this.currentInstance.vars.getBuiltIn("y")+e:e,i=r?this.currentInstance.vars.getBuiltIn("x")+i:i,s=r?this.currentInstance.vars.getBuiltIn("y")+s:s,Bt.draw_rectangle.call(this,[t,e,i,s,n]),0}static action_draw_gradient_hor([t]){return 0}static action_draw_gradient_vert([t]){return 0}static action_draw_ellipse([t,e,i,s,n],r){return t=r?this.currentInstance.vars.getBuiltIn("x")+t:t,e=r?this.currentInstance.vars.getBuiltIn("y")+e:e,i=r?this.currentInstance.vars.getBuiltIn("x")+i:i,s=r?this.currentInstance.vars.getBuiltIn("y")+s:s,Bt.draw_ellipse.call(this,[t,e,i,s,n]),0}static action_draw_ellipse_gradient([t]){return 0}static action_draw_line([t,e,i,s],n){return t=n?this.currentInstance.vars.getBuiltIn("x")+t:t,e=n?this.currentInstance.vars.getBuiltIn("y")+e:e,i=n?this.currentInstance.vars.getBuiltIn("x")+i:i,s=n?this.currentInstance.vars.getBuiltIn("y")+s:s,Bt.draw_line.call(this,[t,e,i,s]),0}static action_draw_arrow([t]){return 0}static action_color([t]){return Bt.draw_set_color.call(this,[t]),0}static action_font([t,e]){return Bt.draw_set_font.call(this,[t]),Bt.draw_set_halign.call(this,[e]),0}static action_fullscreen([t]){return 0}static action_snapshot([t]){return 0}static action_effect([t]){return 0}static background_name([t]){return 0}static external_call0([t]){return 0}static external_call1([t]){return 0}static external_call2([t]){return 0}static external_call3([t]){return 0}static external_call4([t]){return 0}static external_call5([t]){return 0}static external_call6([t]){return 0}static external_call7([t]){return 0}static external_call8([t]){return 0}static external_define0([t]){return 0}static external_define1([t]){return 0}static external_define2([t]){return 0}static external_define3([t]){return 0}static external_define4([t]){return 0}static external_define5([t]){return 0}static external_define6([t]){return 0}static external_define7([t]){return 0}static external_define8([t]){return 0}static file_close([t]){return 0}static file_eof([t]){return 0}static file_eoln([t]){return 0}static file_open_append([t]){return 0}static file_open_read([t]){return 0}static file_open_write([t]){return 0}static file_read_real([t]){return 0}static file_read_string([t]){return 0}static file_readln([t]){return 0}static file_write_real([t]){return 0}static file_write_string([t]){return 0}static file_writeln([t]){return 0}static font_get_size([t]){return 0}static font_name([t]){return 0}static instance_sprite([t]){return 0}static make_color([t]){return 0}static max3([t]){return 0}static min3([t]){return 0}static move_bounce([t]){return 0}static move_contact([t]){return 0}static object_name([t]){return 0}static part_type_alpha([t]){return 0}static part_type_color([t]){return 0}static path_name([t]){return 0}static room_name([t]){return 0}static script_name([t]){return 0}static show_image([t]){return 0}static show_text([t]){return 0}static show_video([t]){return 0}static sound_name([t]){return 0}static sprite_name([t]){return 0}static texture_exists([t]){return 0}static tile_delete_at([t]){return 0}static tile_find([t]){return 0}static timeline_name([t]){return 0}}class Zt{static argument={direct:!0,dimensions:1,directLength:()=>16,directGet(t){return null!=this.arguments[t]?this.arguments[t]:0},directSet(t,e){this.argument[e]=t}};static argument_relative={readOnly:!0,direct:!0,directGet(){return this.argumentRelative}};static instance_count={readOnly:!0,direct:!0,directGet(){return this.instances.length}};static instance_id={readOnly:!0,direct:!0,dimensions:1,directLength(){return this.instances.length},directGet(t){return this.instances[t].id}};static room_speed={direct:!0,type:"integer",directGet(){return this.room.speed},directSet(t){if(t<=0)throw new A({type:"trying_to_set_the_room_speed_to_a_value_less_or_equal_than_0",text:"\n___________________________________________\nTrying to set the room speed to a value <= 0. ("+t.toString()+")\n"});this.room.speed=t}};static fps={readOnly:!0,direct:!0,directGet(){return this.fps}};static current_time={readOnly:!0,direct:!0,directGet:()=>Math.floor(performance.now())};static current_year={readOnly:!0,direct:!0,directGet:()=>(new Date).getFullYear()};static current_month={readOnly:!0,direct:!0,directGet:()=>(new Date).getMonth()+1};static current_day={readOnly:!0,direct:!0,directGet:()=>(new Date).getDate()};static current_weekday={readOnly:!0,direct:!0,directGet:()=>(new Date).getDay()+1};static current_hour={readOnly:!0,direct:!0,directGet:()=>(new Date).getHours()};static current_minute={readOnly:!0,direct:!0,directGet:()=>(new Date).getMinutes()};static current_second={readOnly:!0,direct:!0,directGet:()=>(new Date).getSeconds()};static room={direct:!0,type:"integer",directGet(){return this.room.resource.id},directSet(t){Bt.room_goto.call(this.gml,[t])}};static room_first={readOnly:!0,direct:!0,directGet(){return this.project.resources.ProjectRoom[0].id}};static room_last={readOnly:!0,direct:!0,directGet(){return this.project.resources.ProjectRoom[this.project.resources.ProjectRoom.length-1].id}};static room_width={readOnly:!0,direct:!0,directGet(){return this.room.width}};static room_height={readOnly:!0,direct:!0,directGet(){return this.room.height}};static room_caption={direct:!0,type:"string",directGet(){return this.room.caption},directSet(t){this.room.caption=t}};static room_persistent={direct:!0,type:"bool",directGet(){return this.room.persistent},directSet(t){this.room.persistent=t}};static transition_kind={type:"integer",default:0};static transition_steps={type:"integer",default:80,set(t){t<1&&this.globalVars.vars.setBuiltIn("transition_steps",1)}};static score={type:"integer",default:0};static lives={type:"integer",default:-1,async set(t,e,i){if(t<=0&&e>0){const t=6;for(const e of this.instances)e.exists&&await this.doEvent(this.getEventOfInstance(e,"other",t),e)}}};static health={type:"real",default:100,async set(t,e,i){if(t<=0&&e>0){const t=9;for(const e of this.instances)e.exists&&await this.doEvent(this.getEventOfInstance(e,"other",t),e)}}};static show_score={type:"bool",default:1};static show_lives={type:"bool",default:0};static show_health={type:"bool",default:0};static caption_health={type:"string",default:"Health: "};static caption_lives={type:"string",default:"Lives: "};static caption_score={type:"string",default:"Score: "};static event_type={readOnly:!0,direct:!0,directGet(){return this.currentEvent?Nt.listEventTypes.find((t=>t.value==this.currentEvent.type)).id:0}};static event_number={readOnly:!0,direct:!0,directGet(){return this.currentEvent?this.currentEvent.subtype:0}};static event_object={readOnly:!0,direct:!0,directGet(){return this.currentEventInstance?this.currentEventInstance.object_index:0}};static event_action={readOnly:!0,direct:!0,directGet(){return this.currentEventActionNumber?this.currentEventActionNumber:0}};static error_occurred={type:"bool",default:0};static error_last={type:"string",default:""};static debug_mode={default:0,readOnly:!0};static gamemaker_pro={default:1,readOnly:!0};static gamemaker_registered={default:1,readOnly:!0};static gamemaker_version={default:800,readOnly:!0};static keyboard_lastkey={type:"integer",default:0};static keyboard_key={type:"integer",default:0};static keyboard_lastchar={type:"char",default:""};static keyboard_string={type:"string",default:""};static mouse_x={default:0,readOnly:!0};static mouse_y={default:0,readOnly:!0};static mouse_button={type:"integer",default:0};static mouse_lastbutton={type:"integer",default:0};static cursor_sprite={type:"integer",default:-1,set(t){this.cursorSprite=this.getResourceById("ProjectSprite",t)}};static background_color={direct:!0,type:"integer",directGet(){return this.room.backgroundColor},directSet(t){this.room.backgroundColor=t}};static background_showcolor={direct:!0,type:"bool",directGet(){return this.room.backgroundShowColor},directSet(t){this.room.backgroundShowColor=t}};static background_visible={type:"bool",dimensions:1,default:()=>new Array(8).fill(0)};static background_foreground={type:"bool",dimensions:1,default:()=>new Array(8).fill(0)};static background_index={type:"integer",dimensions:1,default:()=>new Array(8).fill(-1)};static background_x={type:"real",dimensions:1,default:()=>new Array(8).fill(0)};static background_y={type:"real",dimensions:1,default:()=>new Array(8).fill(0)};static background_width={dimensions:1,default:()=>new Array(8).fill(0),readOnly:!0};static background_height={dimensions:1,default:()=>new Array(8).fill(0),readOnly:!0};static background_htiled={type:"bool",dimensions:1,default:()=>new Array(8).fill(1)};static background_vtiled={type:"bool",dimensions:1,default:()=>new Array(8).fill(1)};static background_xscale={type:"real",dimensions:1,default:()=>new Array(8).fill(1)};static background_yscale={type:"real",dimensions:1,default:()=>new Array(8).fill(1)};static background_hspeed={type:"real",dimensions:1,default:()=>new Array(8).fill(0)};static background_vspeed={type:"real",dimensions:1,default:()=>new Array(8).fill(0)};static background_blend={type:"integer",dimensions:1,default:()=>new Array(8).fill(16777215)};static background_alpha={type:"real",dimensions:1,default:()=>new Array(8).fill(1)};static view_enabled={type:"bool",default:0};static view_current={default:0,readOnly:!0};static view_visible={type:"bool",dimensions:1,default:()=>new Array(8).fill(0)};static view_xview={type:"integer",dimensions:1,default:()=>new Array(8).fill(0)};static view_yview={type:"integer",dimensions:1,default:()=>new Array(8).fill(0)};static view_wview={type:"integer",dimensions:1,default:()=>new Array(8).fill(640)};static view_hview={type:"integer",dimensions:1,default:()=>new Array(8).fill(480)};static view_xport={type:"integer",dimensions:1,default:()=>new Array(8).fill(0)};static view_yport={type:"integer",dimensions:1,default:()=>new Array(8).fill(0)};static view_wport={type:"integer",dimensions:1,default:()=>new Array(8).fill(640)};static view_hport={type:"integer",dimensions:1,default:()=>new Array(8).fill(480)};static view_angle={type:"real",dimensions:1,default:()=>new Array(8).fill(0)};static view_hborder={type:"integer",dimensions:1,default:()=>new Array(8).fill(32)};static view_vborder={type:"integer",dimensions:1,default:()=>new Array(8).fill(32)};static view_hspeed={type:"integer",dimensions:1,default:()=>new Array(8).fill(-1)};static view_vspeed={type:"integer",dimensions:1,default:()=>new Array(8).fill(-1)};static view_object={type:"integer",dimensions:1,default:()=>new Array(8).fill(-1)};static game_id={default:0,readOnly:!0};static working_directory={default:"",readOnly:!0};static program_directory={default:"",readOnly:!0};static temp_directory={default:"",readOnly:!0};static secure_mode={default:0,readOnly:!0}}for(let t=0;t<16;++t)Zt["argument"+t.toString()]={direct:!0,directGet:()=>null!=Zt.arguments[t]?Zt.arguments[t]:0,directSet(e){Zt.argument[t]=e}};var Mt=i(809);class Gt{constructor(t){this.game=t,this.vars=new Rt,this.currentInstance=null,this.grammar=Mt.Z.grammar(class{static getText(){return String.raw`

GameMakerLanguage {

	Start
		= Code

	space += comment | multiComment

	comment = "//" #(~eol any)*
	multiComment = "/*" #(~"*/" any)* "*/"

	eol = "\n" | "\r"

	name = (letter | "_") namePart*
	namePart = (alnum | "_")

	Code
		= Block
		| ListOfStatements

	Block
		= "{" ListOfStatements "}"

	ListOfStatements
		= StatementWithSemicolon*

	StatementWithSemicolon
		= Statement ";"*

	Statement
		= If
		| Repeat
		| While
		| DoUntil
		| For
		| With
		| Exit
		| Return
		| Break
		| Continue
		| Function
		| VarDeclare
		| GlobalVarDeclare
		| Assignment
		| AssignmentAdd
		| AssignmentSubtract
		| AssignmentMultiply
		| AssignmentDivide

	BlockOrStatement
		= Block
		| StatementWithSemicolon

	If
		= #("if" ~namePart) Expression BlockOrStatement Else?
	Else
		= #("else" ~namePart) BlockOrStatement

	Repeat
		= #("repeat" ~namePart) Expression BlockOrStatement

	While
		= #("while" ~namePart) Expression BlockOrStatement

	DoUntil
		= #("do" ~namePart) BlockOrStatement spaces #("until" ~namePart) Expression

	For
		= #("for" ~namePart) "(" BlockOrStatement Expression ";"? BlockOrStatement ")" BlockOrStatement

	With
		= #("with" ~namePart) Expression BlockOrStatement

	Exit
		= #("exit" ~namePart)
	Return
		= #("return" ~namePart) Expression
	Break
		= #("break" ~namePart)
	Continue
		= #("continue" ~namePart)

	Function
		= name "(" ListOf<Expression,","> ")"

	VarDeclare
		= #("var" ~namePart) NonemptyListOf<name, ",">
	GlobalVarDeclare
		= #("globalvar" ~namePart) NonemptyListOf<name, ",">

	Assignment
		= Variable "=" Expression
	AssignmentAdd
		= Variable "+=" Expression
	AssignmentSubtract
		= Variable "-=" Expression
	AssignmentMultiply
		= Variable "*=" Expression
	AssignmentDivide
		= Variable "/=" Expression

	// TODO add objects and arrays HERE
	Variable
		= Object? name ArrayIndexes?
	Object
		= (VariableGet | Parentheses) "."
	ArrayIndexes
		= "[" Expression ArrayIndex2? "]"
	ArrayIndex2
		= "," Expression

	Expression
		= ExpressionBooleanComparison

	ExpressionBooleanComparison
		= And
		| Or
		| Xor
		| ExpressionComparison

	And
		= ExpressionBooleanComparison "&&" ExpressionComparison
	Or
		= ExpressionBooleanComparison "||" ExpressionComparison	
	Xor
		= ExpressionBooleanComparison "^^" ExpressionComparison

	ExpressionComparison
		= Less
		| LessOrEqual
		| Equal
		| Different
		| Greater
		| GreaterOrEqual
		| ExpressionBitwise

	Less
		= ExpressionComparison "<" ExpressionBitwise
	LessOrEqual
		= ExpressionComparison "<=" ExpressionBitwise
	Equal
		= ExpressionComparison equalSymbol ExpressionBitwise
	equalSymbol
		= "=" "="?
	Different
		= ExpressionComparison "!=" ExpressionBitwise
	Greater
		= ExpressionComparison ">" ExpressionBitwise
	GreaterOrEqual
		= ExpressionComparison ">=" ExpressionBitwise

	ExpressionBitwise
		= BitwiseAnd
		| BitwiseOr
		| BitwiseXor
		| ExpressionBitwiseShift

	BitwiseAnd
		= ExpressionBitwise "&" ExpressionBitwiseShift
	BitwiseOr
		= ExpressionBitwise "|" ExpressionBitwiseShift
	BitwiseXor
		= ExpressionBitwise "^" ExpressionBitwiseShift

	ExpressionBitwiseShift
		= BitwiseShiftLeft
		| BitwiseShiftRight
		| ExpressionAddOrSubtract

	BitwiseShiftLeft
		= ExpressionBitwiseShift "<<" ExpressionAddOrSubtract
	BitwiseShiftRight
		= ExpressionBitwiseShift ">>" ExpressionAddOrSubtract

	ExpressionAddOrSubtract
		= Add
		| Subtract
		| ExpressionMultiplyOrDivide

	Add
		= ExpressionAddOrSubtract "+" ExpressionMultiplyOrDivide
	Subtract
		= ExpressionAddOrSubtract "-" ExpressionMultiplyOrDivide

	ExpressionMultiplyOrDivide
		= Multiply
		| Divide
		| IntegerDivision
		| Modulo
		| ExpressionUnary

	Multiply
		= ExpressionMultiplyOrDivide "*" ExpressionUnary
	Divide
		= ExpressionMultiplyOrDivide "/" ExpressionUnary
	IntegerDivision
		= ExpressionMultiplyOrDivide spaces #("div" ~namePart) ExpressionUnary
	Modulo
		= ExpressionMultiplyOrDivide spaces #("mod" ~namePart) ExpressionUnary

	ExpressionUnary
		= Not
		| Negate
		| NegateBitwise
		| OtherExpression

	Not
		= "!" OtherExpression
	Negate
		= "-" OtherExpression
	NegateBitwise
		= "~" OtherExpression

	OtherExpression
		= Function
		| Number
		| String
		| VariableGet
		| Parentheses

	Parentheses
		= "(" Expression ")"
	Number
		= digit+ "."? digit*
	String
		= "\"" #(~"\"" any)* "\""
		| "'" #(~"'" any)* "'"
	VariableGet
		= Variable

}

`}}.getText()),this.mapping={Start:{_code:0},StatementWithSemicolon:0,If:{_conditionExpression:1,_code:2,_elseStatement:3,_conditionExpressionNode:t=>t[1]},Repeat:{_timesExpression:1,_code:2,_timesExpressionNode:t=>t[1]},While:{_conditionExpression:1,_code:2,_conditionExpressionNode:t=>t[1]},DoUntil:{_code:1,_conditionExpression:4,_conditionExpressionNode:t=>t[4]},For:{_initStatement:2,_conditionExpression:3,_iterationStatement:5,_code:7,_conditionExpressionNode:t=>t[3]},With:{_objectExpression:1,_code:2,_objectExpressionNode:t=>t[1]},Return:{_value:1},Function:{_name:0,_args:2},VarDeclare:{_names:1},GlobalVarDeclare:{_names:1},Assignment:{_variable:0,_expression:2,_variableNode:t=>t[0]},AssignmentAdd:{_variable:0,_expression:2,_variableNode:t=>t[0]},AssignmentSubtract:{_variable:0,_expression:2,_variableNode:t=>t[0]},AssignmentMultiply:{_variable:0,_expression:2,_variableNode:t=>t[0]},AssignmentDivide:{_variable:0,_expression:2,_variableNode:t=>t[0]},Variable:{_object:0,_name:1,_arrayIndexes:2,_objectNode:t=>t[0]},ArrayIndexes:{_index1:1,_index2:2,_index1Node:t=>t[1],_index2Node:t=>t[2]},Not:{_a:1,_aNode:t=>t[1]},Negate:{_a:1,_aNode:t=>t[1]},NegateBitwise:{_a:1,_aNode:t=>t[1]},And:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},Or:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},Xor:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},Less:{_a:0,_b:2,_1Node:t=>t[1]},LessOrEqual:{_a:0,_b:2,_1Node:t=>t[1]},Equal:{_a:0,_b:2,_1Node:t=>t[1]},Different:{_a:0,_b:2,_1Node:t=>t[1]},Greater:{_a:0,_b:2,_1Node:t=>t[1]},GreaterOrEqual:{_a:0,_b:2,_1Node:t=>t[1]},BitwiseAnd:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},BitwiseOr:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},BitwiseXor:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},BitwiseShiftLeft:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},BitwiseShiftRight:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},Add:{_a:0,_b:2,_1Node:t=>t[1]},Subtract:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},Multiply:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},Divide:{_a:0,_b:2,_aNode:t=>t[0],_bNode:t=>t[2]},IntegerDivision:{_a:0,_b:3,_aNode:t=>t[0],_bNode:t=>t[3]},Modulo:{_a:0,_b:3,_aNode:t=>t[0],_bNode:t=>t[3]},Number:function(t,e,i){return Number(this.sourceString)},String:function(t,e,i){return e.sourceString},VariableGet:{_variable:0,_variableNode:t=>t[0]}},this.astActions={Start:async({_code:t})=>(await this.interpretASTNode(t),0),If:async({_conditionExpression:t,_conditionExpressionNode:e,_code:i,_elseStatement:s})=>{const n=await this.interpretASTNode(t);this.checkIsNumber(n,'Expression expected (condition "'+n.toString()+'" is not a number)',e),this.toBool(n)?await this.interpretASTNode(i):await this.interpretASTNode(s)},Repeat:async({_timesExpression:t,_timesExpressionNode:e,_code:i})=>{let s=await this.interpretASTNode(t);this.checkIsNumber(s,'Repeat count must be a number ("'+s.toString()+'")',e),s=St(s);for(let t=0;t<s;++t)try{await this.interpretASTNode(i)}catch(t){if(t instanceof C)break;if(t instanceof c)continue;throw t}},While:async({_conditionExpression:t,_conditionExpressionNode:e,_code:i})=>{for(;;){const s=await this.interpretASTNode(t);if(this.checkIsNumber(s,'Expression expected (condition "'+s.toString()+'" is not a number)',e),!this.toBool(s))break;try{await this.interpretASTNode(i)}catch(t){if(t instanceof C)break;if(t instanceof c)continue;throw t}}},DoUntil:async({_code:t,_conditionExpression:e,_conditionExpressionNode:i})=>{for(;;){try{await this.interpretASTNode(t)}catch(t){if(t instanceof C)break;if(t instanceof c)continue;throw t}const s=await this.interpretASTNode(e);if(this.checkIsNumber(s,'Expression expected (condition "'+s.toString()+'" is not a number)',i),this.toBool(s))break}},For:async({_initStatement:t,_conditionExpression:e,_conditionExpressionNode:i,_iterationStatement:s,_code:n})=>{for(await this.interpretASTNode(t);;){const t=await this.interpretASTNode(e);if(this.checkIsNumber(t,'Expression expected (condition "'+t.toString()+'" is not a number)',i),!this.toBool(t))break;try{await this.interpretASTNode(n)}catch(t){if(t instanceof C)break;if(t instanceof c)continue;throw t}await this.interpretASTNode(s)}},With:async({_objectExpression:t,_objectExpressionNode:e,_code:i})=>{const s=await this.interpretASTNode(t);this.checkIsNumber(s,'Object id expected ("'+s.toString()+'" is not a number)',e);const n=this.objectReferenceToInstances(s);if(null==n)return;if("global"==n)throw this.makeErrorInGMLNode("Cannot use global in with statement.",e);const r=this.currentInstance,a=this.currentOther;for(const t of n){this.currentInstance=t,this.currentOther=r;try{await this.interpretASTNode(i)}catch(t){if(t instanceof C)break;if(t instanceof c)continue;throw t}finally{this.currentInstance=r,this.currentOther=a}}},Exit:()=>{throw new I},Return:async({_value:t})=>{throw new o(await this.interpretASTNode(t))},Break:()=>{throw new C},Continue:()=>{throw new c},Function:async({_name:t,_args:e})=>{const i=t,s=await this.interpretASTNode(e),n=this.game.project.resources.ProjectScript.find((t=>t.name==i));return n?this.execute(this.game.gmlCache.get(n),this.currentInstance,this.currentOther,s):this.builtInFunction(i,this.currentInstance,this.currentOther,s)},VarDeclare:async({_names:t})=>{for(const e of t)this.vars.exists(e)||await this.vars.set(e,null)},GlobalVarDeclare:async({_names:t})=>{for(const e of t)this.game.globalVars.exists(e)||await this.game.globalVars.set(e,0)},Assignment:async({_variable:t,_variableNode:e,_expression:i})=>{const s=await this.interpretASTNode(t),n=await this.interpretASTNode(i);await this.varSet(s,n,e)},AssignmentAdd:async({_variable:t,_variableNode:e,_expression:i})=>{const s=await this.interpretASTNode(t),n=await this.interpretASTNode(i);await this.varModify(s,(t=>typeof t==typeof n?t+n:t),e)},AssignmentSubtract:async({_variable:t,_variableNode:e,_expression:i})=>{const s=await this.interpretASTNode(t),n=await this.interpretASTNode(i);await this.varModify(s,(t=>"number"==typeof t&&"number"==typeof n?t-n:t),e)},AssignmentMultiply:async({_variable:t,_variableNode:e,_expression:i})=>{const s=await this.interpretASTNode(t),n=await this.interpretASTNode(i);await this.varModify(s,(t=>"number"==typeof t&&"string"==typeof n?n.repeat(t):"number"==typeof t&&"number"==typeof n?t*n:t),e)},AssignmentDivide:async({_variable:t,_variableNode:e,_expression:i})=>{const s=await this.interpretASTNode(t),n=await this.interpretASTNode(i);await this.varModify(s,(t=>"number"==typeof t&&"number"==typeof n?t/n:t),e)},Variable:async({_object:t,_objectNode:e,_name:i,_arrayIndexes:s})=>{const n={};return n.name=i,n.object=await this.interpretASTNode(t),null!=n.object&&this.checkIsNumber(n.object,"Wrong type of variable index ("+n.object.toString()+" is not a number to be an object)",e),n.indexes=await this.interpretASTNode(s),n},ArrayIndexes:async({_index1:t,_index1Node:e,_index2:i,_index2Node:s})=>{const n=[];return n.push(this.arrayIndexValidate(await this.interpretASTNode(t),e)),null!=i&&n.push(this.arrayIndexValidate(await this.interpretASTNode(i),s)),n},Not:async({_a:t,_aNode:e})=>this.toBool(this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments to unary operator.",e))?0:1,Negate:async({_a:t,_aNode:e})=>-this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments to unary operator.",e),NegateBitwise:async({_a:t,_aNode:e})=>~this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments to unary operator.",e),And:async({_a:t,_aNode:e,_b:i,_bNode:s})=>{const n=this.toBool(this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments for &&.",t)),r=this.toBool(this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments for &&.",i));return n&&r?1:0},Or:async({_a:t,_aNode:e,_b:i,_bNode:s})=>{const n=this.toBool(this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments for ||.",t)),r=this.toBool(this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments for ||.",i));return n||r?1:0},Xor:async({_a:t,_aNode:e,_b:i,_bNode:s})=>this.toBool(this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments for ^^.",t))!=this.toBool(this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments for ^^.",i))?1:0,Less:async({_a:t,_1Node:e,_b:i})=>{const s=await this.interpretASTNode(i),n=await this.interpretASTNode(t);return this.checkIsSameType(n,s,"Cannot compare arguments.",e),n<s?1:0},LessOrEqual:async({_a:t,_1Node:e,_b:i})=>{const s=await this.interpretASTNode(i),n=await this.interpretASTNode(t);return this.checkIsSameType(n,s,"Cannot compare arguments.",e),n<=s?1:0},Equal:async({_a:t,_1Node:e,_b:i})=>{const s=await this.interpretASTNode(i),n=await this.interpretASTNode(t);return this.checkIsSameType(n,s,"Cannot compare arguments.",e),n===s?1:0},Different:async({_a:t,_1Node:e,_b:i})=>{const s=await this.interpretASTNode(i),n=await this.interpretASTNode(t);return this.checkIsSameType(n,s,"Cannot compare arguments.",e),n!==s?1:0},Greater:async({_a:t,_1Node:e,_b:i})=>{const s=await this.interpretASTNode(i),n=await this.interpretASTNode(t);return this.checkIsSameType(n,s,"Cannot compare arguments.",e),n>s?1:0},GreaterOrEqual:async({_a:t,_1Node:e,_b:i})=>{const s=await this.interpretASTNode(i),n=await this.interpretASTNode(t);return this.checkIsSameType(n,s,"Cannot compare arguments.",e),n>=s?1:0},BitwiseAnd:async({_a:t,_aNode:e,_b:i,_bNode:s})=>this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments for &.",e)&this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments for &.",s),BitwiseOr:async({_a:t,_aNode:e,_b:i,_bNode:s})=>this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments for |.",e)|this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments for |.",s),BitwiseXor:async({_a:t,_aNode:e,_b:i,_bNode:s})=>this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments for ^.",e)^this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments for ^.",s),BitwiseShiftLeft:async({_a:t,_aNode:e,_b:i,_bNode:s})=>this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments for <<.",e)<<this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments for <<.",s),BitwiseShiftRight:async({_a:t,_aNode:e,_b:i,_bNode:s})=>this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments for >>.",e)>>this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments for >>.",s),Add:async({_a:t,_1Node:e,_b:i})=>{const s=await this.interpretASTNode(t),n=await this.interpretASTNode(i);return this.checkIsSameType(s,n,"Wrong type of arguments to +.",e),s+n},Subtract:async({_a:t,_aNode:e,_b:i,_bNode:s})=>this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments to -.",e)-this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments to -.",s),Multiply:async({_a:t,_aNode:e,_b:i,_bNode:s})=>this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments to *.",e)*this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments to *.",s),Divide:async({_a:t,_aNode:e,_b:i,_bNode:s})=>this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments to /.",e)/this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments to /.",s),IntegerDivision:async({_a:t,_aNode:e,_b:i,_bNode:s})=>{const n=this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments to div.",e),r=this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments to div.",s);return Math.floor(n/r)},Modulo:async({_a:t,_aNode:e,_b:i,_bNode:s})=>this.checkIsNumber(await this.interpretASTNode(t),"Wrong type of arguments to mod.",e)%this.checkIsNumber(await this.interpretASTNode(i),"Wrong type of arguments to mod.",s),VariableGet:async({_variable:t,_variableNode:e})=>{const i=await this.interpretASTNode(t);return this.varGet(i,e)}}}compile(t,e){const i=this.grammar.match(t,e);return i.succeeded()?{succeeded:!0,ast:Mt.C.toAST(i,this.mapping)}:{succeeded:!1,matchResult:i}}async execute(t,e,i,s=[],n=!1){const r=this.currentInstance,a=this.currentOther;this.currentInstance=e,this.currentOther=i;const g=this.vars.saveAll();this.vars.clearAll();const A=this.game.arguments,l=this.game.argumentRelative;this.game.arguments=[...s],this.game.argumentRelative=n;let u=0;try{u=await this.interpretASTNode(t)}catch(t){if(t instanceof I||t instanceof C||t instanceof c);else{if(!(t instanceof o))throw t;u=t.value}}finally{this.currentInstance=r,this.currentOther=a,this.vars.loadAll(g),this.game.arguments=A,this.game.argumentRelative=l}return u}async builtInFunction(t,e,i,s,n=!1){const r=Bt[t];if(r){const t=this.currentInstance,a=this.currentOther;this.currentInstance=e,this.currentOther=i;const g=await r.call(this,s,n);return this.currentInstance=t,this.currentOther=a,g}throw this.game.makeNonFatalError({type:"unknown_function_or_script",functionOrScriptName:t},"Unknown function or script: "+t)}varGet(t,e){try{if(null==t.object){if(null!=this.game.constants[t.name])return this.game.constants[t.name];if(this.vars.exists(t.name))return this.vars.get(t.name,t.indexes);if(this.game.globalVars.exists(t.name))return this.game.globalVars.get(t.name,t.indexes);if(this.currentInstance.vars.exists(t.name))return this.currentInstance.vars.get(t.name,t.indexes);throw this.makeErrorInGMLNode("Unknown variable "+t.name,e)}{const i=this.objectReferenceToInstances(t.object);if(null==i)throw this.makeErrorInGMLNode("Unknown variable "+t.name,e);if("global"==i)throw this.makeErrorInGMLNode("Unknown variable "+t.name,e);if(i.length>0&&i[0].vars.exists(t.name))return i[0].vars.get(t.name,t.indexes);throw this.makeErrorInGMLNode("Unknown variable "+t.name,e)}}catch(i){if(i instanceof l&&"index_not_in_bounds"===i.type)throw this.makeErrorInGMLNode("Unknown variable "+t.name+" or array index out of bounds (it's out of bounds.)",e);throw i}}async varSet(t,e,i){try{if(null==t.object){if(null!=this.game.constants[t.name])throw this.makeErrorInGMLNode("Variable name expected. (it's a constant)",i);return this.vars.exists(t.name)?await this.vars.set(t.name,e,t.indexes):this.game.globalVars.exists(t.name)?await this.game.globalVars.set(t.name,e,t.indexes):(await this.currentInstance.vars.set(t.name,e,t.indexes),null)}{const s=this.objectReferenceToInstances(t.object);if(null===s)throw this.makeErrorInGMLNode("Cannot assign to the variable",i);if("global"==s)throw this.makeErrorInGMLNode("Cannot assign to the variable",i);for(const i of s)await i.vars.set(t.name,e,t.indexes);return null}}catch(e){if(e instanceof l&&"read_only"===e.type)throw this.makeErrorInGMLNode("Cannot assign to the variable ("+t.name+" is read only)",i);throw e}}objectReferenceToInstances(t){if(t>=0&&t<=1e5)return this.game.instances.filter((e=>e.exists&&e.object_index==t));if(t>1e5){const e=this.game.instances.find((e=>e.exists&&e.id==t));return e?[e]:[]}return-1==t||-7==t?[this.currentInstance].filter((t=>t.exists)):-2==t?[this.currentOther].filter((t=>t.exists)):-3==t?this.game.instances.filter((t=>t.exists)):-4==t?null:-5==t?"global":null}async varModify(t,e,i){const s=e(this.varGet(t,i));await this.varSet(t,s,i)}arrayIndexValidate(t,e){if("number"!=typeof t)throw this.makeErrorInGMLNode("Wrong type of array index",e);if(t<0)throw this.makeErrorInGMLNode("Negative array index",e);return t}toBool(t){return t>=.5}checkIsNumber(t,e,i){if("number"!=typeof t)throw this.makeErrorInGMLNode(e,i);return t}checkIsSameType(t,e,i,s){if(typeof t!=typeof e)throw this.makeErrorInGMLNode(i,s)}async interpretASTNode(t){if(Array.isArray(t)){const e=[];for(const i of t)e.push(await this.interpretASTNode(i));return e}if(null==t||null==t.type)return t;const e=this.astActions[t.type];if(e)return await e(t);throw new Error("No possible action to interpret this node! ("+t.type+")")}makeErrorInGMLNode(t,e,i=!1){console.log(e);const s=e.source.startIdx,n=e.source.sourceString.split("\n");let r=0,a=1,g="",A=1,I="^";for(let t=0;t<n.length;++t){const e=n[t].length+1;if(r+=e,r>=s){a=t+1,g=n[t],A=s-(r-e)+1,I=" ".repeat(A-1)+"^";break}}return this.game.makeError(i,{type:"error_in_code",node:e,subType:t},"Error in code at line "+a+":\n"+g+"\n"+I+"\nat position "+A+": "+t+"\n")}}class Lt{static x={type:"real",default:0};static y={type:"real",default:0};static xprevious={type:"real",default:0};static yprevious={type:"real",default:0};static xstart={type:"real",default:0};static ystart={type:"real",default:0};static hspeed={type:"real",default:0,set(t){const e=this.vars.getBuiltIn("vspeed");this.vars.setBuiltIn("speed",Math.hypot(t,e)),this.vars.setBuiltIn("direction",Math.atan2(-e,t)*(180/Math.PI))}};static vspeed={type:"real",default:0,set(t){const e=this.vars.getBuiltIn("hspeed");this.vars.setBuiltIn("speed",Math.hypot(e,t)),this.vars.setBuiltIn("direction",Math.atan2(-t,e)*(180/Math.PI))}};static direction={type:"real",default:0,set(t){const e=t*(Math.PI/180);this.vars.setBuiltIn("hspeed",Math.cos(e)*this.vars.getBuiltIn("speed")),this.vars.setBuiltIn("vspeed",-Math.sin(e)*this.vars.getBuiltIn("speed"))}};static speed={type:"real",default:0,set(t){const e=this.vars.getBuiltIn("direction")*(Math.PI/180);this.vars.setBuiltIn("hspeed",Math.cos(e)*t),this.vars.setBuiltIn("vspeed",-Math.sin(e)*t)}};static friction={type:"real",default:0};static gravity={type:"real",default:0};static gravity_direction={type:"real",default:270};static path_index={default:-1,readOnly:!0};static path_position={type:"unit",default:0};static path_positionprevious={type:"unit",default:0};static path_speed={type:"real",default:0};static path_orientation={type:"real",default:0};static path_scale={type:"real",default:1};static path_endaction={type:"integer",default:0};static object_index={readOnly:!0,direct:!0,directGet(){return this.object_index}};static id={readOnly:!0,direct:!0,directGet(){return this.id}};static mask_index={type:"integer",default:-1};static solid={type:"bool",default:0};static persistent={type:"bool",default:0};static alarm={type:"integer",dimensions:1,default:()=>new Array(12).fill(-1)};static timeline_index={type:"integer",default:-1};static timeline_loop={type:"bool",default:0};static timeline_position={type:"real",default:0};static timeline_running={type:"bool",default:0};static timeline_speed={type:"real",default:1};static visible={type:"bool",default:1};static sprite_index={type:"integer",default:-1,set(t){this.sprite=this.game.getResourceById("ProjectSprite",t),this.vars.setBuiltIn("image_index",0)}};static sprite_width={readOnly:!0,direct:!0,directGet(){if(null==this.sprite)return 0;const t=this.sprite.images[this.getImageIndex()];return t?t.image.width:1}};static sprite_height={readOnly:!0,direct:!0,directGet(){if(null==this.sprite)return 0;const t=this.sprite.images[this.getImageIndex()];return t?t.image.height:1}};static sprite_xoffset={readOnly:!0,direct:!0,directGet(){return null==this.sprite?0:this.sprite.originx}};static sprite_yoffset={readOnly:!0,direct:!0,directGet(){return null==this.sprite?0:this.sprite.originy}};static image_number={readOnly:!0,direct:!0,directGet(){return null==this.sprite?0:this.sprite.images.length}};static image_index={type:"real",default:0};static image_speed={type:"real",default:1};static depth={type:"real",default:0};static image_xscale={type:"real",default:1};static image_yscale={type:"real",default:1};static image_angle={type:"real",default:0};static image_alpha={type:"real",default:1};static image_blend={type:"integer",default:16777215};static bbox_left={readOnly:!0,direct:!0,directGet(){if(null==this.sprite)return-1e5;const t=this.sprite.images[this.getImageIndex()];return this.vars.getBuiltIn("x")+(t?-this.sprite.originx:0)}};static bbox_right={readOnly:!0,direct:!0,directGet(){if(null==this.sprite)return-1e5;const t=this.sprite.images[this.getImageIndex()];return this.vars.getBuiltIn("x")+(t?-this.sprite.originx+t.image.width:0)}};static bbox_top={readOnly:!0,direct:!0,directGet(){if(null==this.sprite)return-1e5;const t=this.sprite.images[this.getImageIndex()];return this.vars.getBuiltIn("y")+(t?-this.sprite.originy:0)}};static bbox_bottom={readOnly:!0,direct:!0,directGet(){if(null==this.sprite)return-1e5;const t=this.sprite.images[this.getImageIndex()];return this.vars.getBuiltIn("y")+(t?-this.sprite.originy+t.image.height:0)}};static image_single={type:"real",default:-1,set(t){this.vars.setBuiltIn("image_index",t),this.vars.setBuiltIn("image_speed",0)}}}class Dt{constructor(t,e,i,s,n){this.id=t,this.object_index=s,this.game=n,this.exists=!0,this.vars=new Rt(this,Lt),this.vars.setBuiltIn("x",e),this.vars.setBuiltIn("y",i),this.object=n.getResourceById("ProjectObject",this.object_index),this.vars.setBuiltInCall("sprite_index",this.object.sprite_index),this.vars.setBuiltIn("visible",this.object.visible?1:0),this.vars.setBuiltIn("solid",this.object.solid?1:0),this.vars.setBuiltIn("depth",this.object.depth),this.vars.setBuiltIn("persistent",this.object.persistent?1:0),this.vars.setBuiltIn("mask_index",this.object.mask_index),this.vars.setBuiltIn("xprevious",e),this.vars.setBuiltIn("yprevious",i),this.vars.setBuiltIn("xstart",e),this.vars.setBuiltIn("ystart",i)}getImageIndex(){return Math.floor(this.vars.getBuiltIn("image_index")%(this.sprite?this.sprite.images.length:0))}setDirectionAndSpeed(t,e){this.vars.setBuiltIn("direction",t),this.vars.setBuiltIn("speed",e);const i=t*(Math.PI/180);this.vars.setBuiltIn("hspeed",Math.cos(i)*e),this.vars.setBuiltIn("vspeed",-Math.sin(i)*e)}setHspeedAndVspeed(t,e){this.vars.setBuiltIn("hspeed",t),this.vars.setBuiltIn("vspeed",e),this.vars.setBuiltIn("speed",Math.hypot(t,e)),this.vars.setBuiltIn("direction",Math.atan2(-e,t)*(180/Math.PI))}}class Wt{constructor(t,e,i){this.project=new F(t),this.canvas=e,this.input=i,this.dispatcher=new s,this.ctx=null,this.keyDownHandler=null,this.keyUpHandler=null,this.key={},this.keyPressed={},this.keyReleased={},this.mouse={},this.mousePressed={},this.mouseReleased={},this.mouseX=0,this.mouseY=0,this.mouseWheel=0,this.globalVars=null,this.constants=null,this.arguments=[],this.argumentRelative=!1,this.instances=[],this.lastId=null,this.lastFPSCheck=null,this.fps=0,this.fpsFrameCount=0,this.drawColor=0,this.drawAlpha=1,this.drawFont=-1,this.drawHAlign=0,this.drawVAlign=0,this.cssFontsCache={"-1":ft("Arial",12,!1,!1)},this.gml=null,this.gmlCache=new Map,this.actionsCache=new Map,this.room=null,this.currentEvent=null,this.currentEventInstance=null,this.currentEventOther=null,this.currentEventActionNumber=null,this.timeout=null,this.mapEvents=null,this.stepStopAction=null,this.cursorSprite=null,this.cursorImageIndex=0,this.audioContext=null,this.sounds=new Map}async start(){try{this.startCanvas(),this.startInput(),this.startEngine(),this.startAudio(),await this.loadProject(),await this.loadFirstRoom(),this.startMainLoop()}catch(t){await this.catch(t)}}async end(){try{for(const t of this.instances){if(!t.exists)continue;const e=5;await this.doEvent(this.getEventOfInstance(t,"other",e),t)}for(const t of this.instances){if(!t.exists)continue;const e=3;await this.doEvent(this.getEventOfInstance(t,"other",e),t)}}catch(t){if(!(t instanceof u))throw t;this.stepStopAction=null}this.close()}async catch(t){if(t instanceof r)this.close(t);else if(t instanceof a)this.showError(t),this.close();else{if(!(t instanceof u))throw this.close(),t;this.stepStopAction=null;try{await t.fn()}catch(t){await this.catch(t)}}}close(t){this.endMainLoop(),this.canvas.classList.remove("no-cursor"),this.input.removeEventListener("keydown",this.keyDownHandler),this.input.removeEventListener("keyup",this.keyUpHandler),this.input.removeEventListener("mousedown",this.mouseDownHandler),this.input.removeEventListener("mouseup",this.mouseUpHandler),this.input.removeEventListener("mousemove",this.mouseMoveHandler),this.input.removeEventListener("wheel",this.wheelHandler),this.stopAllSounds(),this.dispatcher.speak("close",t)}startCanvas(){this.ctx=this.canvas.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.project.globalGameSettings.displayCursor||this.canvas.classList.add("no-cursor")}startInput(){function t(t){return 1==t?3:2==t?2:t+1}this.keyDownHandler=t=>{t.preventDefault(),this.key[t.which]=!0,this.keyPressed[t.which]=!0},this.input.addEventListener("keydown",this.keyDownHandler),this.keyUpHandler=t=>{t.preventDefault(),this.key[t.which]=!1,this.keyReleased[t.which]=!0},this.input.addEventListener("keyup",this.keyUpHandler),this.mouseDownHandler=e=>{e.preventDefault(),this.mouse[t(e.button)]=!0,this.mousePressed[t(e.button)]=!0},this.input.addEventListener("mousedown",this.mouseDownHandler),this.mouseUpHandler=e=>{e.preventDefault(),this.mouse[t(e.button)]=!1,this.mouseReleased[t(e.button)]=!0},this.input.addEventListener("mouseup",this.mouseUpHandler),this.mouseMoveHandler=t=>{const e=this.input.getBoundingClientRect();this.mouseX=Math.floor(Math.max(0,Math.min(t.clientX-e.left,this.room.width||0))),this.mouseY=Math.floor(Math.max(0,Math.min(t.clientY-e.top,this.room.height||0))),this.globalVars.setBuiltIn("mouse_x",this.mouseX),this.globalVars.setBuiltIn("mouse_y",this.mouseY)},this.input.addEventListener("mousemove",this.mouseMoveHandler),this.wheelHandler=t=>{t.preventDefault(),this.mouseWheel+=t.deltaY},this.input.addEventListener("wheel",this.wheelHandler)}startEngine(){this.globalVars=new Rt(this,Zt),this.constants=class{static getList(){return{true:1,false:0,pi:3.141592654,vk_nokey:0,vk_anykey:1,vk_backspace:8,vk_tab:9,vk_enter:13,vk_return:13,vk_shift:16,vk_control:17,vk_alt:18,vk_pause:19,vk_escape:27,vk_space:32,vk_pageup:33,vk_pagedown:34,vk_end:35,vk_home:36,vk_left:37,vk_up:38,vk_right:39,vk_down:40,vk_printscreen:44,vk_insert:45,vk_delete:46,vk_numpad0:96,vk_numpad1:97,vk_numpad2:98,vk_numpad3:99,vk_numpad4:100,vk_numpad5:101,vk_numpad6:102,vk_numpad7:103,vk_numpad8:104,vk_numpad9:105,vk_multiply:106,vk_add:107,vk_subtract:109,vk_decimal:110,vk_divide:111,vk_f1:112,vk_f2:113,vk_f3:114,vk_f4:115,vk_f5:116,vk_f6:117,vk_f7:118,vk_f8:119,vk_f9:120,vk_f10:121,vk_f11:122,vk_f12:123,vk_lshift:160,vk_rshift:161,vk_lcontrol:162,vk_rcontrol:163,vk_lalt:164,vk_ralt:165,mb_any:-1,mb_left:1,mb_middle:3,mb_none:0,mb_right:2,ev_create:0,ev_destroy:1,ev_alarm:2,ev_step:3,ev_collision:4,ev_keyboard:5,ev_mouse:6,ev_other:7,ev_draw:8,ev_keypress:9,ev_keyrelease:10,ev_trigger:11,ev_step_normal:0,ev_step_begin:1,ev_step_end:2,ev_left_button:0,ev_right_button:1,ev_middle_button:2,ev_no_button:3,ev_left_press:4,ev_right_press:5,ev_middle_press:6,ev_left_release:7,ev_right_release:8,ev_middle_release:9,ev_mouse_enter:10,ev_mouse_leave:11,ev_global_press:12,ev_global_release:13,ev_joystick1_left:16,ev_joystick1_right:17,ev_joystick1_up:18,ev_joystick1_down:19,ev_joystick1_button1:21,ev_joystick1_button2:22,ev_joystick1_button3:23,ev_joystick1_button4:24,ev_joystick1_button5:25,ev_joystick1_button6:26,ev_joystick1_button7:27,ev_joystick1_button8:28,ev_joystick2_left:31,ev_joystick2_right:32,ev_joystick2_up:33,ev_joystick2_down:34,ev_joystick2_button1:36,ev_joystick2_button2:37,ev_joystick2_button3:38,ev_joystick2_button4:39,ev_joystick2_button5:40,ev_joystick2_button6:41,ev_joystick2_button7:42,ev_joystick2_button8:43,ev_global_left_button:50,ev_global_right_button:51,ev_global_middle_button:52,ev_global_left_press:53,ev_global_right_press:54,ev_global_middle_press:55,ev_global_left_release:56,ev_global_right_release:57,ev_global_middle_release:58,ev_mouse_wheel_up:60,ev_mouse_wheel_down:61,ev_outside:0,ev_boundary:1,ev_game_start:2,ev_game_end:3,ev_room_start:4,ev_room_end:5,ev_no_more_lives:6,ev_animation_end:7,ev_end_of_path:8,ev_no_more_health:9,ev_user0:10,ev_user1:11,ev_user2:12,ev_user3:13,ev_user4:14,ev_user5:15,ev_user6:16,ev_user7:17,ev_user8:18,ev_user9:19,ev_user10:20,ev_user11:21,ev_user12:22,ev_user13:23,ev_user14:24,ev_user15:25,ev_close_button:30,bm_normal:0,bm_add:1,bm_subtract:3,bm_max:2,bm_zero:1,bm_one:2,bm_src_color:3,bm_inv_src_color:4,bm_src_alpha:5,bm_inv_src_alpha:6,bm_dest_alpha:7,bm_inv_dest_alpha:8,bm_dest_color:9,bm_inv_dest_color:10,bm_src_alpha_sat:11,c_black:0,c_maroon:128,c_red:255,c_green:32768,c_olive:32896,c_lime:65280,c_yellow:65535,c_dkgray:4210752,c_orange:4235519,c_navy:8388608,c_purple:8388736,c_teal:8421376,c_gray:8421504,c_ltgray:12632256,c_silver:12632256,c_blue:16711680,c_fuchsia:16711935,c_aqua:16776960,c_white:16777215,cr_default:0,cr_none:-1,cr_arrow:-2,cr_arrrow:-2,cr_cross:-3,cr_beam:-4,cr_size_nesw:-6,cr_size_ns:-7,cr_size_nwse:-8,cr_size_we:-9,cr_uparrow:-10,cr_hourglass:-11,cr_drag:-12,cr_nodrop:-13,cr_hsplit:-14,cr_vsplit:-15,cr_multidrag:-16,cr_sqlwait:-17,cr_no:-18,cr_appstart:-19,cr_help:-20,cr_handpoint:-21,cr_size_all:-22,dll_cdecl:0,dll_stdcall:1,ef_explosion:0,ef_ring:1,ef_ellipse:2,ef_firework:3,ef_smoke:4,ef_smokeup:5,ef_star:6,ef_spark:7,ef_flare:8,ef_cloud:9,ef_rain:10,ef_snow:11,fa_readonly:1,fa_hidden:2,fa_sysfile:4,fa_volumeid:8,fa_directory:16,fa_archive:32,fa_left:0,fa_middle:1,fa_right:2,fa_top:0,fa_center:1,fa_bottom:2,self:-1,other:-2,all:-3,noone:-4,global:-5,local:-7,pr_pointlist:1,pr_linelist:2,pr_linestrip:3,pr_trianglelist:4,pr_trianglestrip:5,pr_trianglefan:6,ps_change_all:0,ps_change_motion:2,ps_change_shape:1,ps_deflect_vertical:0,ps_deflect_horizontal:1,ps_distr_linear:0,ps_distr_gaussian:1,ps_distr_invgaussian:2,ps_force_constant:0,ps_force_linear:1,ps_force_quadratic:2,ps_shape_rectangle:0,ps_shape_ellipse:1,ps_shape_diamond:2,ps_shape_line:3,pt_shape_pixel:0,pt_shape_disk:1,pt_shape_square:2,pt_shape_line:3,pt_shape_star:4,pt_shape_circle:5,pt_shape_ring:6,pt_shape_sphere:7,pt_shape_flare:8,pt_shape_spark:9,pt_shape_explosion:10,pt_shape_cloud:11,pt_shape_smoke:12,pt_shape_snow:13,se_none:0,se_chorus:1,se_echo:2,se_flanger:4,se_gargle:8,se_reverb:16,se_compressor:32,se_equalizer:64,ty_real:0,ty_string:1}}}.getList(),F.getTypes().forEach((t=>{this.project.resources[t.getClassName()].forEach((t=>{this.constants[t.name]=t.id}))})),this.lastId=this.project.lastId}startAudio(){this.audioContext?"suspended"==this.audioContext.state&&this.audioContext.resume():this.audioContext=new AudioContext}loadProject(){const t=[this.loadSprites(),this.loadSounds(),this.loadBackgrounds()];return this.loadFonts(),this.loadActions(),this.loadGML(),Promise.all(t)}loadSprites(){const t=[];return this.project.resources.ProjectSprite.forEach((e=>{e.images.forEach(((i,s)=>{i.load(),t.push(i.promise.catch((t=>{throw new r("Could not load image "+s.toString()+" in sprite "+e.name)})))}))})),Promise.all(t)}loadSounds(){const t=[];return this.project.resources.ProjectSound.forEach((e=>{e.sound&&(e.sound.load(),t.push(e.sound.promise.catch((t=>{throw new r("Could not load audio in sound "+e.name)}))),this.sounds.set(e,{volume:e.volume,audioNodes:[]}))})),Promise.all(t)}loadBackgrounds(){const t=[];return this.project.resources.ProjectBackground.forEach((e=>{e.image&&(e.image.load(),t.push(e.image.promise.catch((t=>{throw new r("Could not load image in background "+e.name)}))))})),Promise.all(t)}loadFonts(){this.project.resources.ProjectFont.forEach((t=>{this.cssFontsCache[t.id]=ft(t.font,t.size,t.bold,t.italic)}))}loadActions(){this.loadActionsTimelines(),this.loadActionsObjects()}loadActionsTimelines(){}loadActionsObjects(){this.project.resources.ProjectObject.every((t=>t.events.every((t=>{const e=(new Ot).parse(t.actions);return this.actionsCache.set(t,e),!0}))))}loadGML(){this.gml=new Gt(this),this.loadGMLScripts(),this.loadGMLTimelines(),this.loadGMLObjects(),this.loadGMLRooms()}loadGMLScripts(){this.project.resources.ProjectScript.every((t=>this.compileGMLAndCache(t.code,t,(e=>{throw new g({type:"compilation",location:"script",locationScript:t,matchResult:e,text:"\n___________________________________________\nCOMPILATION ERROR in Script: "+t.name+"\n\n"+e.message+"\n"})}))))}loadGMLTimelines(){}loadGMLObjects(){this.project.resources.ProjectObject.every((t=>t.events.every((e=>e.actions.every(((i,s)=>{if("code"==i.typeKind)return this.compileGMLAndCache(i.args[0].value,i,(i=>{throw this.makeFatalError({type:"compilation",matchResult:i},"COMPILATION ERROR in code action:\n"+i.message+"\n",t,e,s)}));if("normal"==i.typeKind&&"code"==i.typeExecution)return this.compileGMLAndCache(i.args[0].value,i,(i=>{throw this.makeFatalError({type:"compilation",matchResult:i},"COMPILATION ERROR in code action (in action type in a library):\n"+i.message+"\n",t,e,s)}));if("variable"==i.typeKind){const n=i.args[0].value,r=i.args[1].value,a=n+(i.relative?" += ":" = ")+r;return this.compileGMLAndCache(a,i,(i=>{throw this.makeFatalError({type:"compilation",matchResult:i},"COMPILATION ERROR in code action (in variable set):\n"+i.message+"\n",t,e,s)}))}return!0}))))))}loadGMLRooms(){this.project.resources.ProjectRoom.every((t=>!!t.instances.every((e=>this.compileGMLAndCache(e.creationCode,e,(i=>{throw new g({type:"compilation",location:"instanceCreationCode",locationInstance:e,locationRoom:t,matchResult:i,text:"\n___________________________________________\nCOMPILATION ERROR in creation code for instance "+e.id+" in room "+t.name+"\n\n"+i.message+"\n"})}))))&&this.compileGMLAndCache(t.creationCode,t,(e=>{throw new g({type:"compilation",location:"roomCreationCode",locationRoom:t,matchResult:e,text:"\n___________________________________________\nCOMPILATION ERROR in creation code of room "+t.name+"\n\n"+e.message+"\n"})}))))}compileGMLAndCache(t,e,i){const s=this.gml.compile(t);return s.succeeded?(this.gmlCache.set(e,s.ast),!0):(i(s.matchResult),!1)}async loadFirstRoom(){await this.loadRoom(this.project.resources.ProjectRoom[0])}async mainLoopForTimeout(){const t=performance.now();t-this.lastFPSCheck>=1e3&&(this.lastFPSCheck+=1e3,this.fps=this.fpsFrameCount,this.fpsFrameCount=0);try{await this.mainLoop(),++this.fpsFrameCount;const e=1e3/this.room.speed,i=e-(performance.now()-t);this.timeout=setTimeout((()=>this.mainLoopForTimeout()),i)}catch(t){await this.catch(t)}}startMainLoop(){this.lastFPSCheck=performance.now(),this.fps=0,this.fpsFrameCount=0,null!=this.timeout&&this.endMainLoop(),this.mainLoopForTimeout()}endMainLoop(){clearTimeout(this.timeout),this.timeout=null}async mainLoopOnce(){try{await this.mainLoop()}catch(t){await this.catch(t)}}async mainLoop(){if(null!=this.stepStopAction)throw new u(this.stepStopAction);this.mapEvents=this.getMapOfEvents();for(const{event:t,instance:e}of this.getEventsOfTypeAndSubtype("step","begin"))e.exists&&await this.doEvent(t,e);for(const[t,e]of this.getEventsOfType("alarm"))for(const{event:i,instance:s}of e){if(!s.exists)continue;const e=s.vars.getBuiltInArray("alarm",[t]);e>=0&&s.vars.setBuiltInArray("alarm",[t],e-1),0==s.vars.getBuiltInArray("alarm",[t])&&await this.doEvent(i,s)}for(const[t,e]of this.getEventsOfType("keyboard"))for(const{event:i,instance:s}of e)s.exists&&this.getKey(t,this.key)&&await this.doEvent(i,s);for(const[t,e]of this.getEventsOfType("keypress"))for(const{event:i,instance:s}of e)s.exists&&this.getKey(t,this.keyPressed)&&await this.doEvent(i,s);for(const[t,e]of this.getEventsOfType("keyrelease"))for(const{event:i,instance:s}of e)s.exists&&this.getKey(t,this.keyReleased)&&await this.doEvent(i,s);for(const[t,e]of this.getEventsOfType("mouse"))for(const{event:i,instance:s}of e){if(!s.exists)continue;let e=!1;const n=Nt.listMouseSubtypes.find((e=>e.id==t));if(null==n)return;if("button"==n.kind){const t={mouse:this.mouse,mousePressed:this.mousePressed,mouseReleased:this.mouseReleased}[n.when];e=this.getMouse(n.button,t),e&&!n.global&&(e=this.collisionInstanceOnPoint(s,{x:this.mouseX,y:this.mouseY}))}else"enter-release"==n.kind||("wheel-up"==n.kind?e=this.mouseWheel<0:"wheel-down"==n.kind&&(e=this.mouseWheel>0));e&&await this.doEvent(i,s)}for(const{event:t,instance:e}of this.getEventsOfTypeAndSubtype("step","normal"))e.exists&&await this.doEvent(t,e);for(const t of this.instances){if(!t.exists)continue;const e=t.vars.getBuiltIn("hspeed"),i=t.vars.getBuiltIn("vspeed");let s=e,n=i;if(t.vars.setBuiltIn("x",t.vars.getBuiltIn("x")+e),t.vars.setBuiltIn("y",t.vars.getBuiltIn("y")+i),0!=t.vars.getBuiltIn("friction")){const r=t.vars.getBuiltIn("direction")*(Math.PI/180);0!=e&&(s=e-Math.cos(r)*t.vars.getBuiltIn("friction"),Math.sign(s)!=Math.sign(e)&&(s=0)),0!=i&&(n=i- -Math.sin(r)*t.vars.getBuiltIn("friction"),Math.sign(n)!=Math.sign(i)&&(n=0))}0!=t.vars.getBuiltIn("gravity")&&(s+=Math.cos(t.vars.getBuiltIn("gravity_direction")*(Math.PI/180))*t.vars.getBuiltIn("gravity"),n+=-Math.sin(t.vars.getBuiltIn("gravity_direction")*(Math.PI/180))*t.vars.getBuiltIn("gravity")),t.setHspeedAndVspeed(s,n)}for(const[t,e]of this.getEventsOfType("collision"))for(const{event:i,instance:s}of e)if(s.exists)for(const e of this.instances)e.exists&&e.object_index==t&&this.collisionInstanceOnInstance(s,e)&&await this.doEvent(i,s,e);for(const{event:t,instance:e}of this.getEventsOfTypeAndSubtype("step","end"))e.exists&&await this.doEvent(t,e);await this.drawViews();for(const t of this.instances){if(!t.exists)continue;t.vars.setBuiltIn("xprevious",t.vars.getBuiltIn("x")),t.vars.setBuiltIn("yprevious",t.vars.getBuiltIn("y"));const e=t.sprite?t.sprite.images.length:0;let i=t.vars.getBuiltIn("image_index")+t.vars.getBuiltIn("image_speed");i>=e&&(i-=e),t.vars.setBuiltIn("image_index",i)}this.project.globalGameSettings.keyEscEndsGame&&this.getKey(27,this.keyPressed)&&(this.stepStopAction=async()=>{await this.end()}),this.project.globalGameSettings.keyF4SwitchesFullscreen&&this.getKey(115,this.keyPressed)&&this.setFullscreen(!this.getFullscreen()),this.clearIO(),this.instances=this.instances.filter((t=>t.exists))}async drawViews(){this.room.backgroundShowColor&&(this.ctx.fillStyle=this.room.backgroundColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height));for(const t of this.room.backgrounds)t&&1!=t.isForeground&&this.drawRoomBackground(t);const t=this.instances.filter((t=>t.exists)).sort(((t,e)=>t.vars.getBuiltIn("depth")-e.vars.getBuiltIn("depth")));for(const e of t)if(e.exists&&e.vars.getBuiltIn("visible")){const t=this.getEventOfInstance(e,"draw");t?await this.doEvent(t,e):e.sprite&&this.drawSprite(e.sprite,e.getImageIndex(),e.vars.getBuiltIn("x"),e.vars.getBuiltIn("y"))}for(const t of this.room.backgrounds)t&&0!=t.isForeground&&this.drawRoomBackground(t);this.cursorSprite&&(this.drawSprite(this.cursorSprite,this.cursorImageIndex,this.globalVars.getBuiltIn("mouse_x"),this.globalVars.getBuiltIn("mouse_y")),this.cursorImageIndex=++this.cursorImageIndex%this.cursorSprite.images.length)}drawRoomBackground(t){if(!t.visible)return!1;const e=this.getResourceById("ProjectBackground",t.backgroundIndex);if(!e)return!1;const i=e.image;if(!i)return!1;let s=t.x,n=t.y;t.tileHorizontally&&(s=t.x%e.image.image.width-e.image.image.width),t.tileVertically&&(n=t.y%e.image.image.height-e.image.image.height);for(let r=s;r<this.room.width;r+=e.image.image.width){for(let s=n;s<this.room.height&&(this.ctx.drawImage(i.image,r,s),t.tileVertically);s+=e.image.image.height);if(!t.tileHorizontally)break}return!0}async doEvent(t,e,i=null){if(null==t)return;const s=this.currentEvent,n=this.currentEventInstance,r=this.currentEventOther;this.currentEvent=t,this.currentEventInstance=e,this.currentEventOther=i;const a=this.actionsCache.get(t);for(const t of a)try{if(await this.doTreeAction(t),null!=this.stepStopAction)throw new u(this.stepStopAction)}catch(t){if(t instanceof I)break;if(!(t instanceof A))throw t;this.showError(t)}this.currentEvent=s,this.currentEventInstance=n,this.currentEventOther=r}async doTreeAction(t){if(null==t)return null;let e,i;switch(this.currentEventActionNumber=t.actionNumber,null!=t.appliesTo&&(e=this.getApplyToInstances(t.appliesTo),i=this.currentEventOther||this.currentEventInstance,-2==t.appliesTo&&(i=this.currentEventInstance)),t.type){case"executeFunction":case"executeCode":{let s=!0;for(const n of e){if(!n.exists)continue;const e=[];for(const[i,s]of t.args.entries())e.push(await this.parseActionArg(s,i));let r;r="executeFunction"==t.type?await this.gml.builtInFunction(t.function,n,i,e,t.relative):await this.gml.execute(this.gmlCache.get(t.action),n,i,e,t.relative),("number"!=typeof r||r<.5)&&(s=!1)}return s}case"if":await this.doTreeAction(t.condition)?await this.doTreeAction(t.ifTrue):await this.doTreeAction(t.ifFalse);break;case"block":for(const e of t)await this.doTreeAction(e);break;case"exit":throw new I;case"repeat":{const e=await this.parseActionArg(t.times,0);for(let i=0;i<e;i++)await this.doTreeAction(t.treeAction);break}case"variable":case"code":for(const s of e)s.exists&&await this.gml.execute(this.gmlCache.get(t.action),s,i)}return null}async parseActionArg(t,e){if("both"==t.kind&&"'"!=t.value[0]&&'"'!=t.value[0])return t.value;if("both"==t.kind||"expression"==t.kind){const i=this.gml.compile(t.value,"Expression");if(!i.succeeded)throw this.makeFatalError({type:"compilation",matchResult:i.matchResult},"COMPILATION ERROR in argument "+e.toString()+"\n"+i.matchResult.message+"\n");return await this.gml.execute(i.ast,this.currentEventInstance,this.currentEventOther||this.currentEventInstance)}return t.value}async loadRoom(t){const e=null==this.room;if(!e){try{for(const t of this.instances){if(!t.exists)continue;const e=5;await this.doEvent(this.getEventOfInstance(t,"other",e),t)}}catch(t){if(!(t instanceof u))throw t;this.stepStopAction=null}this.instances=this.instances.filter((t=>t.exists&&t.vars.getBuiltIn("persistent")))}this.room={resource:t,width:t.width,height:t.height,caption:t.caption,speed:t.speed,persistent:t.persistent,backgroundShowColor:t.drawBackgroundColor,backgroundColor:t.backgroundColor,viewsEnabled:t.enableViews,backgrounds:t.backgrounds.map((t=>({visible:t.visibleAtStart,isForeground:t.isForeground,backgroundIndex:t.backgroundIndex,tileHorizontally:t.tileHorizontally,tileVertically:t.tileVertically,x:t.x,y:t.y,stretch:t.stretch,horizontalSpeed:t.horizontalSpeed,verticalSpeed:t.verticalSpeed})))},this.canvas.width=t.width,this.canvas.height=t.height,this.clearIO();const i=[];for(const e of t.instances)i.push(this.instanceCreateNoEvents(e.id,e.x,e.y,e.object_index,!1));for(const t of i)await this.doEvent(this.getEventOfInstance(t,"create"),t);if(e)for(const t of this.instances){if(!t.exists)continue;const e=2;await this.doEvent(this.getEventOfInstance(t,"other",e),t)}for(const t of this.instances){if(!t.exists)continue;const e=4;await this.doEvent(this.getEventOfInstance(t,"other",e),t)}await this.drawViews()}async instanceCreate(t,e,i,s){const n=this.instanceCreateNoEvents(t,e,i,s);return await this.doEvent(this.getEventOfInstance(n,"create"),n),n.id}instanceCreateNoEvents(t,e,i,s){null==t&&(this.lastId+=1,t=this.lastId);const n=new Dt(t,e,i,s,this);return this.instances.push(n),n}collisionInstanceOnInstance(t,e,i,s){if(null==t.sprite||0==t.sprite.images.length)return!1;if(null==e.sprite||0==e.sprite.images.length)return!1;const n=[{shape1:"precise",shape2:"precise",func:this.collisionInstancePreciseOnInstancePrecise},{shape1:"precise",shape2:"rectangle",func:this.collisionInstanceRectangleOnInstanceRectangle},{shape1:"rectangle",shape2:"rectangle",func:this.collisionInstanceRectangleOnInstanceRectangle}];for(const r of n){if(t.sprite.shape==r.shape1&&e.sprite.shape==r.shape2)return r.func(t,e,i,s);if(t.sprite.shape==r.shape2&&e.sprite.shape==r.shape1)return r.func(e,t,i,s)}return!1}collisionInstanceOnInstances(t,e,i,s,n=!1){for(const r of e)if(r.exists&&(!n||0!=r.vars.getBuiltIn("solid"))&&this.collisionInstanceOnInstance(t,r,i,s))return!0;return!1}collisionInstanceOnPoint(t,e){if(null==t.sprite||0==t.sprite.images.length)return!1;const i=[{shape:"precise",func:this.collisionInstanceRectangleOnPoint},{shape:"rectangle",func:this.collisionInstanceRectangleOnPoint}];for(const s of i)if(t.sprite.shape==s.shape)return s.func(t,e);return!1}collisionInstancePreciseOnInstancePrecise(t,e,i,s,n,r){i=null==i?Math.floor(t.vars.getBuiltIn("x")):i,s=null==s?Math.floor(t.vars.getBuiltIn("y")):s;const a=t.sprite.images[t.getImageIndex()],g=i-t.sprite.originx,A=s-t.sprite.originy,I=g+a.image.width,o=A+a.image.height;n=null==n?Math.floor(e.vars.getBuiltIn("x")):n,r=null==r?Math.floor(e.vars.getBuiltIn("y")):r;const C=e.sprite.images[e.getImageIndex()],c=n-e.sprite.originx,l=r-e.sprite.originy,u=c+C.image.width,d=l+C.image.height;if(!(g<=c+C.image.width&&c<=g+a.image.width&&A<=l+C.image.height&&l<=A+a.image.height))return!1;const h=new OffscreenCanvas(a.image.width+C.image.width,Math.max(a.image.height,C.image.height)).getContext("2d");h.drawImage(a.image,0,0),h.drawImage(C.image,a.image.width,0);const p=h.getImageData(0,0,a.image.width,a.image.height),m=h.getImageData(a.image.width,0,C.image.width,C.image.height),_=Math.max(g,c),v=Math.max(A,l),f=Math.min(I,u),b=Math.min(o,d);for(let i=_;i<f;++i)for(let s=v;s<b;++s){const n=i-g,r=s-A;if(!(p.data[4*(r*p.width+n)+3]>=255-t.sprite.alphaTolerance))continue;const a=i-c,I=s-l;if(m.data[4*(I*m.width+a)+3]>=255-e.sprite.alphaTolerance)return!0}return!1}collisionInstanceRectangleOnInstanceRectangle(t,e,i,s,n,r){i=null==i?t.vars.getBuiltIn("x"):i,s=null==s?t.vars.getBuiltIn("y"):s;const a=i-t.sprite.originx,g=s-t.sprite.originy,A=t.sprite.images[t.getImageIndex()];n=null==n?e.vars.getBuiltIn("x"):n,r=null==r?e.vars.getBuiltIn("y"):r;const I=n-e.sprite.originx,o=r-e.sprite.originy,C=e.sprite.images[e.getImageIndex()];return a<=I+C.image.width&&I<=a+A.image.width&&g<=o+C.image.height&&o<=g+A.image.height}collisionInstanceRectangleOnPoint(t,e){const i=t.vars.getBuiltIn("x")-t.sprite.originx,s=t.vars.getBuiltIn("y")-t.sprite.originy,n=t.sprite.images[t.getImageIndex()];return e.x>=i&&e.x<i+n.image.width&&e.y>=s&&e.y<s+n.image.height}drawSprite(t,e,i,s){const n=t.images[e];return null!=n&&(this.ctx.drawImage(n.image,i-t.originx,s-t.originy),!0)}playSound(t,e){this.startAudio();const i=this.audioContext.createMediaElementSource(new Audio(t.sound.src));i.connect(this.audioContext.destination),i.mediaElement.volume=this.sounds.get(t).volume,i.mediaElement.loop=e,i.mediaElement.play(),this.sounds.get(t).audioNodes.push(i)}stopSound(t){for(const e of this.sounds.get(t).audioNodes)e.mediaElement.pause(),e.disconnect();this.sounds.get(t).audioNodes=[]}stopAllSounds(){for(const t of this.sounds.values()){for(const e of t.audioNodes)e.mediaElement.pause(),e.disconnect();t.audioNodes=[]}}async setFullscreen(t){if(t)try{await this.canvas.requestFullscreen()}catch(t){console.log("window_set_fullscreen failed")}else document.fullscreenElement&&await document.exitFullscreen()}getFullscreen(){return null!=document.fullscreenElement}getKey(t,e){return 0==t?Object.entries(e).every((([t,e])=>!e)):1==t?Object.entries(e).some((([t,e])=>e)):e[t]}getMouse(t,e){return-1==t?Object.entries(e).some((([t,e])=>e)):0==t?Object.entries(e).every((([t,e])=>!e)):e[t]}clearIO(){this.keyPressed={},this.keyReleased={},this.mousePressed={},this.mouseReleased={},this.mouseWheel=0}async executeString(t,e,i,s){const n=this.gml.compile(t);if(!n.succeeded)throw new A({type:"compilation",location:"executeString",matchResult:n.matchResult,text:"COMPILATION ERROR in string to be executed\n"+n.matchResult.message+"\n"});return await this.gml.execute(n.ast,e,i,s)}getEventOfInstance(t,e,i){return t.object.events.find((t=>t.type==e&&(!i||t.subtype==i)))}getMapOfEvents(){const t=new Map;for(const e of this.instances)e.exists&&e.object.events.forEach((i=>{let s=t.get(i.type);null==s&&(s=new Map,t.set(i.type,s));let n=s.get(i.subtype);null==n&&(n=[],s.set(i.subtype,n)),n.push({event:i,instance:e})}));return t}getEventsOfTypeAndSubtype(t,e){const i=this.mapEvents.get(t);if(!i)return[];return i.get(e)||[]}getEventsOfType(t){const e=this.mapEvents.get(t);return e?[...e.entries()]:[]}getResourceById(t,e){return this.project.resources[t].find((t=>t.id==e))}getApplyToInstances(t){switch(t){case-1:return[this.currentEventInstance];case-2:return[this.currentEventOther||this.currentEventInstance];default:return this.instances.filter((e=>e.exists&&e.object_index==t))}}makeFatalError(...t){return new g(this.makeErrorOptions(!0,...t))}makeNonFatalError(...t){return new A(this.makeErrorOptions(!1,...t))}makeError(t,...e){return t?this.makeFatalError(...e):this.makeNonFatalError(...e)}makeErrorOptions(t,e,i,s=null,n=null,r=null){const a=null==s?this.currentEventInstance.object:s,g=null==n?this.currentEvent:n,A=null==r?this.currentEventActionNumber:r,I={text:"\n___________________________________________\n"+(t?"FATAL ":"")+"ERROR in\naction number "+A.toString()+"\nof "+Nt.getEventName(g)+" Event\nfor object "+a.name+":\n\n"+i,location:"object",locationActionNumber:A,locationEvent:g,locationObject:a};return Object.assign(I,e)}showError(t){console.log(t.text),alert(t.text)}}class Yt extends h{constructor(t,e){super("div",{class:"window"}),this.editor=t,this.id=e,m(this),m(v(new h("div",{class:"titlebar"}))),this.title=v(new h("div",{class:"title"})),this.closeButton=v(new S("Close",(()=>this.close()),"close")),_(),this.client=v(new h("div",{class:"client"})),_(),this.applyButton=null,this.okButton=null}makeApplyOkButtons(t,e){m(v(new h("div"))),this.applyButton=v(new S("Apply",(()=>{t()}))),this.okButton=v(new S("Ok",(()=>{0!=t()&&e()}))),_()}close(){this.editor.windowsArea.delete(this)}}class Vt extends Yt{constructor(t,e){super(t,e),this.title.html.textContent="Preferences",m(this.client);const i=v(new D("Theme:",[{name:"Auto",value:"auto"},{name:"Light",value:"light"},{name:"Dark",value:"dark"}],this.editor.preferences.get("theme"))),s=v(new j("Default action library tab:",this.editor.preferences.get("defaultActionLibraryTab"))),n=v(new Z("Use full tooltip text in action",this.editor.preferences.get("hintTextInAction"))),r=v(new Z("Scroll to game area on run",this.editor.preferences.get("scrollToGameOnRun"))),a=v(new Z("Focus game canvas on run",this.editor.preferences.get("focusCanvasOnRun"))),g=v(new Z("Clear game canvas on stop",this.editor.preferences.get("clearCanvasOnStop")));this.makeApplyOkButtons((()=>{this.editor.preferences.setAll({theme:i.getValue(),defaultActionLibraryTab:s.getValue(),hintTextInAction:n.getChecked(),scrollToGameOnRun:r.getChecked(),focusCanvasOnRun:a.getChecked(),clearCanvasOnStop:g.getChecked()}),this.editor.preferences.save()}),(()=>this.close())),_()}}class Pt extends h{constructor(t){super("div",{class:"menu"}),this.editor=t,m(this),v(new S("New",(()=>{confirm("Clear current project and start anew?")&&this.editor.newProject()}))),v(new S("Open",(()=>{jt.openDialog("application/zip,application/json").then((t=>{this.editor.openProjectFromFile(t)}))}))),v(new S("Save",(()=>{this.editor.saveProject()}))),v(new S("Preferences",(()=>{this.editor.windowsArea.open(Vt,"preferences")}))),v(new h("div",{class:"separator"})),this.runButton=v(new S("Run",(()=>{this.editor.runGame()}))),this.stopButton=v(new S("Stop",(()=>{this.editor.stopGame()}))),this.stopButton.setDisabled(!0),_()}}const Ft="data:image/png;base64,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Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6NzQxODU2MjItNzc2ZS00YmVhLTgxODgtOWYzN2ZmZjM3NjA0IgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRlYzk2ZDE5LTZmMDgtNDVmNC1hNGJkLWI5ZTYwMjM1ZTA5NiIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjI4MjM1NTQ0LWQ3YTgtNDA5OS1hNjBkLWI0MTBjZWMwYzgwZCIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IldpbmRvd3MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjM5OTY0OTY5NTY3MjQzIgogICBHSU1QOlZlcnNpb249IjIuMTAuMjQiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Y2JmYTI2NmEtMzc3MS00YWZhLWIxZjctNTM0Y2RlMWUwMDVlIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKFdpbmRvd3MpIgogICAgICBzdEV2dDp3aGVuPSIyMDIxLTEyLTE5VDIyOjQ5OjI5Ii8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pu1rF/4AAAAEZ0FNQQAAsY8L/GEFAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAAcUlEQVQoz5WSUQ6AIAxDX433Vk9eP1AiyGQuAbKMtltBgMmF7s12jJGEbaRyf0myc5F6TfVS2AGoCjoUMt+rAWSjAfQqI9WXwgxUbY1mqLNsxdolKnpzk4ctPYuj/HLOZi/nVwD+bev0L/Uvrh+/FYAT9GJXZhvcJxIAAAAASUVORK5CYII=";class Ut extends h{constructor(t,e){super("li"),this.id=t,this.resource=t,this.editor=e,m(this),m(v(new h("div",{class:"item"}))),this.htmlIcon=v(new W(null,"icon")),this.htmlIcon.html.width=16,this.htmlIcon.html.height=16,this.updateIcon(),this.htmlName=v(new h("div",{class:"name"})),this.htmlName.html.textContent=this.resource.name,this.htmlEditButton=v(new S("Edit",(()=>this.properties()))),this.htmlDeleteButton=v(new S("Delete",(()=>this.delete()))),_(),_()}onAdd(){this.listeners=this.editor.dispatcher.listen({changeResourceName:t=>{t===this.resource&&(this.htmlName.html.textContent=t.name)}}),this.resource.constructor!=U&&this.resource.constructor!=tt||(this.listeners={...this.listeners,...this.editor.dispatcher.listen({changeSpriteImages:t=>{if(this.resource.constructor==tt){if(t.id!=this.resource.sprite_index)return}else if(t!=this.resource)return;this.updateIcon()}})}),this.resource.constructor==J&&(this.listeners={...this.listeners,...this.editor.dispatcher.listen({changeBackgroundImage:t=>{t==this.resource&&this.updateIcon()}})}),this.resource.constructor==tt&&(this.listeners={...this.listeners,...this.editor.dispatcher.listen({changeObjectSprite:t=>{t==this.resource&&this.updateIcon()},deleteResource:t=>{t.id==this.resource.sprite_index&&this.updateIcon()}})})}onRemove(){this.editor.dispatcher.stopListening(this.listeners)}updateIcon(){let t;if(this.resource.constructor==U)this.resource.images.length>0&&(t=this.resource.images[0].image.src);else if(this.resource.constructor==H)t=Ft;else if(this.resource.constructor==J)this.resource.image&&(t=this.resource.image.image.src);else if(this.resource.constructor==tt){if(this.resource.sprite_index>=0){const e=this.editor.project.resources.ProjectSprite.find((t=>t.id==this.resource.sprite_index));e&&e.images.length>0&&(t=e.images[0].image.src)}}else t=me.resourceTypesInfo.find((t=>t.class==this.resource.constructor)).resourceIcon;this.htmlIcon.setSrc(t)}properties(){this.editor.windowsArea.openResource(this.resource)}delete(){this.editor.deleteResource(this.resource)}}class Ht extends Yt{constructor(t,e,i){super(t,e),this.gameInformation=i,this.title.html.textContent="Game Information",m(this.client),this.textareaText=v(new h("textarea",{class:"code"},i.text)),this.makeApplyOkButtons((()=>{i.text=this.textareaText.html.value}),(()=>this.close())),_()}}class Jt extends h{constructor(){m(super("div")),this.tabButtonsDiv=v(new h("div",{class:"tab-buttons"})),this.currentTabContent=null,_(),this.radioGroup="_radio_"+V()}addTab(t,e){null==e&&(e=null==this.currentTabContent);const i=new h("div",{class:"tab-content"});return e&&this.showTabContent(i),m(this.tabButtonsDiv),v(new M(this.radioGroup,t,e,"tab-button")).setOnClick((()=>{this.showTabContent(i)})),_(),i}showTabContent(t){this.currentTabContent&&f(this.currentTabContent),m(this),this.currentTabContent=v(t),_()}}class Qt extends Yt{constructor(t,e,i){super(t,e),this.globalGameSettings=i,this.title.html.textContent="Global Game Settings",m(this.client),this.tabControl=v(new Jt),m(this.tabControl.addTab("Graphics")),this.inputColor=v(new B("Color outside the room region:",i.colorOutsideRoom)),this.inputDisplayCursor=v(new Z("Display the cursor",i.displayCursor)),_(),m(this.tabControl.addTab("Other")),this.inputKeyEscEndsGame=v(new Z("Let <Esc> end the game",i.keyEscEndsGame)),this.inputKeyF4SwitchesFullscreen=v(new Z("Let <F4> switch between screen modes",i.keyF4SwitchesFullscreen)),_(),m(this.tabControl.addTab("Info")),this.inputAuthor=v(new j("Author:",i.author)),this.inputVersion=v(new j("Version:",i.version)),this.inputInformation=v(new N("Information:",i.information)),_(),this.makeApplyOkButtons((()=>{i.colorOutsideRoom=this.inputColor.getValue(),i.displayCursor=this.inputDisplayCursor.getChecked(),i.keyEscEndsGame=this.inputKeyEscEndsGame.getChecked(),i.keyF4SwitchesFullscreen=this.inputKeyF4SwitchesFullscreen.getChecked(),i.author=this.inputAuthor.getValue(),i.version=this.inputVersion.getValue(),i.information=this.inputInformation.getValue()}),(()=>this.close())),_()}}class zt extends h{constructor(t){super("div",{class:"resources"}),this.editor=t,this.resourceTypes={},this.resources=[],m(this),m(v(new h("ul"))),F.getTypes().forEach((t=>{m(v(new h("li"))),m(v(new h("div",{class:"item"}))),v(new W("data:image/png;base64,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ZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDQuNC4wLUV4aXYyIj4KIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6ZjE0MTQxNWYtMDE2Mi00OTEyLTg4MjUtMzllOTgzODRiOGJmIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAzOGFkNDY0LWU3MjAtNDdmYS1hNWM5LWZmOGI2MGYyYjNiNSIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjBlNzQ3NzI3LTcwODUtNDllZi05ZWRlLThiZDdlOTY4MzcyZiIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IldpbmRvd3MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjU1MjYxMzMxMTQ5MDcwIgogICBHSU1QOlZlcnNpb249IjIuMTAuMzAiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODZkNjM3NTgtMzFiMS00YzAwLTkxYjEtMjM0MjIwNDFlNGUxIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKFdpbmRvd3MpIgogICAgICBzdEV2dDp3aGVuPSIyMDIyLTA2LTE0VDIzOjQ4OjUxIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pqg190IAAAAEZ0FNQQAAsY8L/GEFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAUElEQVQoz62RQQrAIAwEZ6UPy9P9WTxIqUUlWjvHhGGXRFScHhGgW/TcDI0Vr8qtGFr2yNdkGeGdLHvXjxokDkhfUwEdJQ9ftXrtf5I3HQAKlncQ2Rs5WZcAAAAASUVORK5CYII=","icon")),v(new h("div",{class:"name"},t.getScreenGroupName())),v(new S("Create",(()=>{this.editor.createResource(t)}))),_(),this.resourceTypes[t.name]=v(new h("ul",{class:"resource"})),_()})),m(v(new h("li"))),m(v(new h("div",{class:"item"}))),v(new W("data:image/png;base64,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PSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjIzMzZjZTQxLTlkZGYtNDEzMS1hYjkyLWQ3Y2E2ZmJlZmM0YyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowYjBiZWZhNi0zYTg1LTQ0MzctYWYxMC0yMzRiMTBkNDg1ZDAiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplZTIwMmZmNS1iNDk0LTRhZDEtOWIxYi03YWNiOGRmZWY3NTEiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJXaW5kb3dzIgogICBHSU1QOlRpbWVTdGFtcD0iMTYzOTk2NDk2MzEwOTE4MCIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjI0IgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjE1ZmZmYjkyLWFlMTUtNGJlMC05MDA1LTVmNWRhZDVjMmEwMyIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChXaW5kb3dzKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMS0xMi0xOVQyMjo0OToyMyIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7u03Y1AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAAGVJREFUKM+lkUEOgCAQA6eEfxNfXg9gRARF3AMJSdt0dgWYudHx2B57JGEbKevDZDol1HGqS04HIPYFW0lN1HUlMV2pJn+EbqvFUZ0TNl3+4b6NNBR3DW/z31AztDxLW1q7wxfDDsEOJBzAyp3NAAAAAElFTkSuQmCC","icon")),v(new h("div",{class:"name"},"Game Information")),v(new S("Edit",(()=>this.editor.windowsArea.open(Ht,"game-information",this.editor.project.gameInformation)))),_(),_(),m(v(new h("li"))),m(v(new h("div",{class:"item"}))),v(new W("data:image/png;base64,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ZG9jaWQ6Z2ltcDpkZWQyMzAxZC1jMzJkLTQ2ZjItYmQ5OC01YjkwNTU0MWUyMzUiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTAxYTExNjAtMDE1ZC00NmZmLTk1ZjYtYTk5MmQ4OWExNGZjIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWM5MGM4MjEtMjAwNy00NzVlLWE5MjgtN2FhZjFhY2I2MWVkIgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iV2luZG93cyIKICAgR0lNUDpUaW1lU3RhbXA9IjE2Mzk5NjQ5NTk2MzYxOTQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yNCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMTJmYzY2YS02OTU2LTQ5ZTEtYTIxOS00ZjI5OTBkYmRiN2YiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoV2luZG93cykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMTItMTlUMjI6NDk6MTkiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+H3+o9gAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAABhSURBVCjPlZLbDsAgCENbwv//cvfgXNiCrpLoC6elXghA8Ipzk7TWkIQkkIMP0x23qdLKMtwBAGk6P0I70qww8oxlCQr4L6hwOUe0oxdwP2EDvwXf5uL104HOrrX5gToRXJTiHCS1sHiOAAAAAElFTkSuQmCC","icon")),v(new h("div",{class:"name"},"Global Game Settings")),v(new S("Edit",(()=>this.editor.windowsArea.open(Qt,"global-game-settings",this.editor.project.globalGameSettings)))),_(),_(),_(),_()}onAdd(){this.listeners=this.editor.dispatcher.listen({createResource:t=>{this.add(t)},deleteResource:t=>{this.delete(t)}})}add(t){m(this.resourceTypes[t.constructor.name]);const e=v(new Ut(t,this.editor));this.resources.push(e),_()}delete(t){const e=this.resources.findIndex((e=>e.id==t));e>=0&&(f(this.resources[e]),this.resources.splice(e,1))}refresh(){for(const t of this.resources)f(t);F.getTypes().forEach((t=>{this.editor.project.resources[t.getClassName()].forEach((t=>{this.add(t)}))}))}}class Kt extends h{constructor(t){super("div",{class:"windows"}),this.editor=t,this.windows=[]}onAdd(){this.listeners=this.editor.dispatcher.listen({createResource:t=>{this.openResource(t)},deleteResource:t=>{this.deleteId(t)}})}open(t,e,...i){let s=this.getId(e);return s?this.focus(e):(m(this),s=v(new t(this.editor,e,...i)),_(),this.windows.unshift(s),this.organize()),s}openResource(t){const e=me.resourceTypesInfo.find((e=>e.class==t.constructor)).windowClass;this.open(e,t,t)}getId(t){return this.windows.find((e=>e.id==t))}delete(t){const e=this.windows.findIndex((e=>e==t));return e>=0&&(f(this.windows[e]),this.windows.splice(e,1),!0)}deleteId(t){const e=this.windows.findIndex((e=>e.id==t));return e>=0&&(f(this.windows[e]),this.windows.splice(e,1),!0)}clear(){for(const t of this.windows)f(t);this.windows=[]}focus(t){const e=this.windows.findIndex((e=>e.id==t));this.windows.unshift(this.windows.splice(e,1)[0]),this.organize()}organize(){this.windows.forEach(((t,e)=>{t.html.style.order=e}))}}const Xt={type:"i"},qt={type:"r"},$t={type:"n"},te={type:"w"},ee=Array.from(new Array(6).keys()).map((t=>({type:"a",number:t})));class ie{constructor(){this.values={theme:"auto",defaultActionLibraryTab:"move",scrollToGameOnRun:!0,focusCanvasOnRun:!0,clearCanvasOnStop:!0,hintTextInAction:!1},this.dispatcher=new s,this.load()}get(t){return this.values[t]}setAll(t){this.values=Object.assign(this.values,t),this.dispatcher.speak("change",t)}load(){let t;try{t=JSON.parse(window.localStorage.getItem("preferences"))}catch(e){return console.log("Could not load preferences, clearing them",t),void window.localStorage.clear()}null!=t&&(this.values=Object.assign(this.values,t),this.dispatcher.speak("change",this.values))}save(){const t=JSON.stringify(this.values);try{window.localStorage.setItem("preferences",t)}catch(t){console.log("Could not save preferences",this.values)}}}class se{constructor(t){this.editor=t,this.autoTheme="light";const e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener("change",(t=>this.updateAutoTheme(t))),this.updateAutoTheme(e),this.editor.preferences.dispatcher.listen({change:()=>{this.applyTheme()}})}updateAutoTheme(t){this.autoTheme=t.matches?"dark":"light",this.applyTheme()}applyTheme(){let t=this.editor.preferences.get("theme");"auto"==t&&(t=this.autoTheme),"dark"==t?(document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"))}}class ne extends Yt{constructor(t,e,i){super(t,e),this.background=i,this.title.html.textContent="Edit Background "+i.name,m(this.client),m(v(new h("div",{class:"grid-resource resource-background"}))),m(v(new h("div"))),this.paramImage=i.image;const s=v(new j("Name:",i.name));this.buttonLoadBackground=v(new S("Load Background",(()=>{jt.openDialog("image/*").then((t=>{this.loadBackgroundFromFile(t)}))}))),m(v(new h("div",{},"Width: "))),this.divWidth=v(new h("span",{},"0")),_(),m(v(new h("div",{},"Height: "))),this.divHeight=v(new h("span",{},"0")),_(),_(),m(v(new h("div",{class:"preview"}))),this.imgBackground=v(new W),_(),this.updateImageInfo(),_(),this.makeApplyOkButtons((()=>{this.editor.changeResourceName(i,s.getValue()),this.editor.changeBackgroundImage(i,this.paramImage)}),(()=>this.close())),_(),P(this.html,(t=>this.loadBackgroundFromFile(t)))}loadBackgroundFromFile(t){this.buttonLoadBackground.setDisabled(!0);const e=new dt(t);e.promise.then((()=>{this.paramImage=e,this.updateImageInfo()})).catch((t=>{alert("Error when opening image")})).finally((()=>{this.buttonLoadBackground.setDisabled(!1)}))}updateImageInfo(){null!=this.paramImage?(this.imgBackground.setSrc(this.paramImage.image.src),this.paramImage.promise.then((()=>{this.divWidth.html.textContent=this.paramImage.image.width,this.divHeight.html.textContent=this.paramImage.image.height}))):(this.imgBackground.setSrc(null),this.divWidth.html.textContent="0",this.divHeight.html.textContent="0")}}class re extends Yt{constructor(t,e,i){super(t,e),this.font=i,this.title.html.textContent="Edit Font "+i.name,m(this.client),m(v(new h("div",{class:"grid-resource resource-font"}))),m(v(new h("div"))),this.inputName=v(new j("Name:",i.name)),this.inputFont=v(new j("Font:",i.font)),this.inputSize=v(new R("Size",i.size,1,1)),this.inputBold=v(new Z("Bold",i.bold)),this.inputItalic=v(new Z("Italic",i.italic)),this.divPreview=v(new h("div",{class:"preview"},"AaBbCcDd")),this.inputFont.input.html.oninput=()=>this.updatePreview(),this.inputSize.input.html.oninput=()=>this.updatePreview(),this.inputBold.input.html.oninput=()=>this.updatePreview(),this.inputItalic.input.html.oninput=()=>this.updatePreview(),this.updatePreview(),_(),_(),this.makeApplyOkButtons((()=>{this.editor.changeResourceName(i,this.inputName.getValue()),i.font=this.inputFont.getValue(),i.size=parseInt(this.inputSize.getValue()),i.bold=this.inputBold.getChecked(),i.italic=this.inputItalic.getChecked()}),(()=>this.close())),_()}updatePreview(){this.divPreview.html.style.fontFamily=this.inputFont.getValue(),this.divPreview.html.style.fontSize=this.inputSize.getValue()+"pt",this.divPreview.html.style.fontWeight=this.inputBold.getChecked()?"bold":null,this.divPreview.html.style.fontStyle=this.inputItalic.getChecked()?"italic":null}}class ae extends Yt{constructor(t,e){super(t,e),this.userClosed=!1,this.title.html.textContent="Game",m(this.client),m(v(new h("div",{class:"game"}))),this.canvas=v(new T(640,480)),this.canvas.html.setAttribute("tabindex",0),_(),_()}close(){this.userClosed=!0,this.editor.game?this.editor.stopGame():super.close()}}class ge extends G{constructor(t,e,i,s=!1){super(e),this.editor=t,this.resourceType=i,this.noNone=s,this.selectOptions={},this.updateOptions()}onAdd(){this.updateOptions(),this.listeners=this.editor.dispatcher.listen({createResource:t=>{t.constructor==this.resourceType&&(m(this.select),this.selectOptions[t.id]=v(new L(t.name,t.id)),_())},deleteResource:t=>{t.constructor==this.resourceType&&(f(this.selectOptions[t.id]),delete this.selectOptions[t.id])},changeResourceName:t=>{t.constructor==this.resourceType&&(this.selectOptions[t.id].html.textContent=t.name)}})}onRemove(){this.editor.dispatcher.stopListening(this.listeners)}updateOptions(){const t=this.select.html.value;this.removeOptions(),m(this.select),this.noNone||v(new L("<none>",-1)),this.editor.project.resources[this.resourceType.getClassName()].forEach((t=>{this.selectOptions[t.id]=v(new L(t.name,t.id))})),_(),this.select.html.value=t,-1==this.select.html.selectedIndex&&(this.select.html.selectedIndex=0)}getValue(){const t=parseInt(super.getValue());return Number.isNaN(t)?-1:t}}class Ae extends Yt{constructor(t,e,i,s){super(t,e),this.action=i,this.object=s,this.actionType=this.editor.getActionType(i.typeLibrary,i.typeId),this.title.html.textContent=this.actionType.description;const n=this.object.getActionTypeInfo().find((t=>t.kind==this.actionType.kind&&t.interfaceKind==this.actionType.interfaceKind));if(m(this.client),this.actionTypeHasApplyTo=this.actionType.hasApplyTo,null==this.actionType.hasApplyTo&&(this.actionTypeHasApplyTo=n.hasApplyTo),this.actionTypeHasApplyTo){m(v(new h("fieldset"))),v(new h("legend",{},"Applies to"));const t="_radio_"+V();this.radioAppliesToSelf=v(new M(t,"Self",-1==i.appliesTo)),this.radioAppliesToOther=v(new M(t,"Other",-2==i.appliesTo)),this.radioAppliesToObject=v(new M(t,"Object:",i.appliesTo>=0)),this.selectObject=v(new ge(this.editor,null,tt)),i.appliesTo>=0&&this.selectObject.setValue(i.appliesTo),_()}this.actionTypeArgs=this.actionType.args,null==this.actionType.args&&(this.actionTypeArgs=n.args),this.argsInterfaces=[],this.actionTypeArgs.forEach(((t,e)=>{switch(t.kind){case"expression":case"string":case"both":"arrows"==this.actionType.interfaceKind&&0==e?this.argsInterfaces[e]=this.makeDirectionInterface(t.name,i.args[e].value):this.argsInterfaces[e]=this.makeTextInterface(t.name,i.args[e].value);break;case"boolean":this.argsInterfaces[e]=this.makeMenuInterface(t.name,["false","true"],i.args[e].value);break;case"menu":this.argsInterfaces[e]=this.makeMenuInterface(t.name,t.menu,i.args[e].value);break;case"color":this.argsInterfaces[e]=this.makeColorInterface(t.name,i.args[e].value);break;case"sprite":case"sound":case"background":case"path":case"script":case"object":case"room":case"font":case"timeline":this.argsInterfaces[e]=this.makeResourceInterface(t.name,t.kind,i.args[e].value)}})),this.actionTypeHasRelative=this.actionType.hasRelative,null==this.actionTypeHasRelative&&(this.actionTypeHasRelative=n.hasRelative),this.actionTypeHasRelative&&(this.inputRelative=v(new Z("Relative",i.relative))),this.actionTypeIsQuestion=this.actionType.isQuestion,null==this.actionTypeIsQuestion&&(this.actionTypeIsQuestion=n.isQuestion),this.actionTypeIsQuestion&&(this.inputNot=v(new Z("NOT",i.not))),this.makeApplyOkButtons((()=>{this.apply()}),(()=>{this.object.deleteActionWindow(this.id),this.close()})),_()}makeTextInterface(t,e){const i=v(new j(t,e));return{getValue:()=>i.getValue()}}makeDirectionInterface(t,e){const i=bt(e),s=["down left","down","down right","left","stop","right","up left","up","up right"],n=[];v(new h("span",{},t)),m(v(new h("div",{class:"arrow-interface"})));for(let t=2;t>=0;--t)for(let e=0;e<=2;++e){const r=3*t+e;n[r]=v(new Z(s[r],i[r]))}return _(),{getValue:()=>function(t){let e="";for(let i=0;i<9;++i)t[i]?e+="1":e+="0";return e}(n.map((t=>t.getChecked())))}}makeMenuInterface(t,e,i){const s=e.map(((t,e)=>({name:t,value:e}))),n=v(new D(t,s));return n.setSelectedIndex(i),{getValue:()=>parseInt(n.getValue())}}makeColorInterface(t,e){const i=v(new B(t,function(t){const{r:e,g:i,b:s}=ht(t);return"#"+e.toString(16).padStart(2,"0")+i.toString(16).padStart(2,"0")+s.toString(16).padStart(2,"0")}(e)));return{getValue:()=>{return t=i.getValue(),pt({r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)});var t}}}makeResourceInterface(t,e,i){const s=this.object.constructor.actionArgResourceTypes[e],n=v(new ge(this.editor,t,s));return n.setValue(i),{getValue:()=>n.getValue()}}apply(){for(let t=0;t<this.action.args.length;t++)this.action.args[t]={kind:this.actionTypeArgs[t].kind,value:this.argsInterfaces[t].getValue()};this.actionTypeHasApplyTo&&(this.action.appliesTo=this.radioAppliesToSelf.getChecked()?-1:this.radioAppliesToOther.getChecked()?-2:this.radioAppliesToObject.getChecked()?this.selectObject.getValue():null),this.actionTypeHasRelative&&(this.action.relative=this.inputRelative.getChecked()),this.actionTypeIsQuestion&&(this.action.not=this.inputNot.getChecked()),this.object.updateSelectActions()}}class Ie extends h{constructor(t){super("div"),this.nextElem=null,m(this),this.textareaCode=v(new h("textarea",{class:"code"},t)),this.textareaCode.html.title="Press Esc to continue keyboard navigation!",this.textareaCode.html.addEventListener("keydown",(t=>{"Tab"==t.code&&0==t.shiftKey?(t.preventDefault(),this.textareaCode.html.setRangeText("\t",this.textareaCode.html.selectionStart,this.textareaCode.html.selectionEnd,"end")):"Escape"==t.code&&this.nextElem.html.focus()})),_()}setNextElem(t){this.nextElem=t}getValue(){return this.textareaCode.html.value}}class oe extends Yt{constructor(t,e,i,s){super(t,e),this.action=i,this.object=s,this.actionType=this.editor.getActionType(i.typeLibrary,i.typeId),this.title.html.textContent=this.actionType.description,m(this.client);const n="_radio_"+V();this.radioAppliesToSelf=v(new M(n,"Self",-1==i.appliesTo)),this.radioAppliesToOther=v(new M(n,"Other",-2==i.appliesTo)),this.radioAppliesToObject=v(new M(n,"Object:",i.appliesTo>=0)),this.selectObject=v(new ge(this.editor,null,tt)),i.appliesTo>=0&&this.selectObject.setValue(i.appliesTo),this.codeEditor=v(new Ie(i.args[0].value)),this.makeApplyOkButtons((()=>{this.apply()}),(()=>{this.object.deleteActionWindow(this.id),this.close()})),this.codeEditor.setNextElem(this.applyButton),_()}apply(){this.action.args[0].value=this.codeEditor.getValue(),this.action.appliesTo=this.radioAppliesToSelf.getChecked()?-1:this.radioAppliesToOther.getChecked()?-2:this.radioAppliesToObject.getChecked()?this.selectObject.getValue():null,this.object.updateSelectActions()}}class Ce extends Yt{static actionArgResourceTypes={sprite:U,sound:H,background:J,path:Q,script:K,object:tt,room:nt,font:X,timeline:q};constructor(t,e,i){super(t,e),this.object=i,this.title.html.textContent="Edit Object "+i.name,this.htmlActionWindows=[],this.copyProperties(),m(this.client),m(v(new h("div",{class:"grid-resource resource-object"}))),m(v(new h("div")));const s=v(new j("Name:",i.name));this.selectSprite=v(new ge(this.editor,"Sprite:",U)),this.selectSprite.setValue(i.sprite_index);const n=v(new Z("Visible",i.visible)),r=v(new Z("Solid",i.solid)),a=v(new R("Depth:",i.depth,1)),g=v(new Z("Persistent",i.persistent));_(),m(v(new h("div"))),this.selectEvents=v(new G("Events:","events")),this.selectEvents.select.html.size=2,this.selectEvents.setOnChange((()=>{this.updateSelectActions(),this.updateActionsMenu()})),this.selectEventType=v(new D("Event type:",Nt.listEventTypes)),this.selectEventType.setOnChange((()=>{this.updateDivEventSubtype()})),this.selectCollisionObject=null,this.divEventSubtype=v(new h("div")),this.buttonEventAdd=v(new S("Add Event",(()=>{const t=this.selectEventType.getValue();let e=0;if(this.subtypeValueFunction&&(e=this.subtypeValueFunction()),this.paramEvents.find((i=>i.type==t&&i.subtype==e)))return;const i=new et;i.type=t,i.subtype=e,this.paramEvents.push(i),this.sortEvents(),this.updateSelectEvents(),this.selectEvents.setValue(i.getNameId()),this.updateEventsMenu(),this.updateSelectActions(),this.updateActionsMenu()}))),this.buttonEventDelete=v(new S("Delete",(()=>{const t=this.paramEvents.findIndex((t=>this.selectEvents.getValue()==t.getNameId()));t<0||this.paramEvents[t].actions.length>0&&!confirm("Are you sure you want to remove the event with all its actions?")||(this.paramEvents[t].actions.forEach((t=>{this.deleteActionWindow(t)})),this.paramEvents.splice(t,1),this.updateSelectEvents(),this.updateEventsMenu(),this.updateSelectActions(),this.updateActionsMenu())}))),this.buttonEventChange=v(new S("Change",(()=>{const t=this.getSelectedEvent();if(!t)return;const e=this.selectEventType.getValue();let i=0;this.subtypeValueFunction&&(i=this.subtypeValueFunction()),this.paramEvents.find((t=>t.type==e&&t.subtype==i))||(t.type=e,t.subtype=i,this.sortEvents(),this.updateSelectEvents(),this.selectEvents.setValue(t.getNameId()))}))),_(),m(v(new h("div"))),this.selectActions=v(new G("Actions:","actions")),this.selectActions.select.html.size=2,this.selectActions.setOnChange((()=>{this.updateActionsMenu()})),this.buttonActionEdit=v(new S("Edit action",(()=>{const t=this.getSelectedEvent();if(!t)return;const e=this.selectActions.getSelectedIndex();if(e<0)return;const i=t.actions[e];i&&this.openActionWindow(i)}))),this.buttonActionDelete=v(new S("Delete action",(()=>{const t=this.getSelectedEvent();if(!t)return;const e=this.selectActions.getSelectedIndex();if(e<0)return;const i=t.actions[e];i&&(this.deleteActionWindow(i),t.actions.splice(e,1),this.updateSelectActions(),this.updateActionsMenu())}))),this.buttonActionUp=v(new S("",(()=>{const t=this.getSelectedEvent();if(!t)return;const e=this.selectActions.getSelectedIndex();e<0||0==e||(t.actions.splice(e-1,0,t.actions.splice(e,1)[0]),this.updateSelectActions(),this.selectActions.setSelectedIndex(e-1),this.updateActionsMenu())}))),this.buttonActionDown=v(new S("",(()=>{const t=this.getSelectedEvent();if(!t)return;const e=this.selectActions.getSelectedIndex();e<0||e==t.actions.length-1||(t.actions.splice(e+1,0,t.actions.splice(e,1)[0]),this.updateSelectActions(),this.selectActions.setSelectedIndex(e+1),this.updateActionsMenu())}))),_(),m(v(new h("div"))),this.librariesTabControl=v(new Jt),this.editor.libraries.forEach((t=>{m(this.librariesTabControl.addTab(t.name,t.name==this.editor.preferences.get("defaultActionLibraryTab")));let e=null;m(v(new h("div",{class:"grid-action-types"}))),t.items.forEach((i=>{if("label"==i.kind)v(new h("div",{class:"label"},i.name));else if("separator"==i.kind)e="new-row";else{const s=v(new S(null,(()=>{const e=this.getSelectedEvent();if(!e)return void alert("You need to select or add an event before you can add actions.");const s=new it;s.typeLibrary=t.name,s.typeId=i.id,s.typeKind=i.kind,s.typeExecution=i.execution,s.typeExecutionFunction=i.executionFunction,s.typeExecutionCode=i.executionCode,s.typeIsQuestion=i.isQuestion,s.appliesTo=-1,s.relative=!1,s.not=!1,"normal"==i.kind&&"normal"==i.interfaceKind?s.args=i.args.map((t=>{const e=new st;return e.kind=t.kind,e.value=t.default,e})):s.args=this.getActionTypeInfo().find((t=>t.kind==i.kind&&t.interfaceKind==i.interfaceKind)).args.map((t=>{const e=new st;return e.kind=t.kind,e.value=t.default,e})),this.openActionWindow(s),e.actions.push(s),this.updateSelectActions(),this.selectActions.setSelectedIndex(e.actions.length-1),this.updateActionsMenu()}),"action-type"));e&&(s.html.classList.add(e),e=null),s.html.title=i.description,i.image?(m(s),v(new W(i.image)),_()):s.html.textContent=i.description}})),_(),_()})),_(),_(),this.sortEvents(),this.updateSelectEvents(),this.selectEvents.setSelectedIndex(0),this.updateEventsMenu(),this.updateDivEventSubtype(),this.updateSelectActions(),this.updateActionsMenu(),this.makeApplyOkButtons((()=>{this.editor.changeResourceName(i,s.getValue()),this.editor.changeObjectSprite(i,this.selectSprite.getValue()),i.visible=n.getChecked(),i.solid=r.getChecked(),i.depth=parseInt(a.getValue()),i.persistent=g.getChecked(),this.htmlActionWindows.forEach((t=>{t.apply()})),i.events=this.paramEvents,this.copyProperties()}),(()=>{this.close()})),_()}onAdd(){this.listeners=this.editor.dispatcher.listen({changeResourceName:t=>{this.updateSelectEvents(),this.updateSelectActions()}})}onRemove(){this.editor.dispatcher.stopListening(this.listeners)}copyProperties(){this.paramEvents=this.object.events.map((t=>new et(t)))}sortEvents(){this.paramEvents.sort(((t,e)=>{const i=Nt.listEventTypes.find((e=>e.value==t.type)).id-Nt.listEventTypes.find((t=>t.value==e.type)).id;return 0!=i?i:t.subtype-e.subtype}))}updateSelectEvents(){const t=this.selectEvents.getSelectedIndex();this.selectEvents.removeOptions(),m(this.selectEvents.select),this.paramEvents.forEach((t=>{v(new L(Nt.getEventName(t,this.editor.project),t.getNameId()))})),_(),this.selectEvents.setSelectedIndex(Math.min(t,this.paramEvents.length-1))}updateEventsMenu(){this.selectEvents.getSelectedIndex()<0?(this.buttonEventChange.setDisabled(!0),this.buttonEventDelete.setDisabled(!0)):(this.buttonEventChange.setDisabled(!1),this.buttonEventDelete.setDisabled(!1))}updateDivEventSubtype(){b(this.divEventSubtype);const t=this.selectEventType.getValue();if(m(this.divEventSubtype),this.subtypeValueFunction=null,"step"==t){const t=v(new D("Step:",Nt.listStepSubtypes));this.subtypeValueFunction=()=>t.getValue()}else if("alarm"==t){const t=v(new R("Alarm:",0,1,0,11));this.subtypeValueFunction=()=>parseInt(t.getValue())}else if("keyboard"==t||"keypress"==t||"keyrelease"==t){const t=v(new R("Key:",0,1,0));this.subtypeValueFunction=()=>parseInt(t.getValue())}else if("mouse"==t){const t=v(new D("Mouse:",Nt.listMouseSubtypes));this.subtypeValueFunction=()=>parseInt(t.getValue())}else if("collision"==t)this.selectCollisionObject=v(new ge(this.editor,"Object:",tt,!0)),this.subtypeValueFunction=()=>parseInt(this.selectCollisionObject.getValue());else if("other"==t){const t=v(new D("Other:",Nt.listOtherSubtypes));this.subtypeValueFunction=()=>parseInt(t.getValue())}_()}updateSelectActions(){const t=this.selectActions.getSelectedIndex();this.selectActions.removeOptions();const e=this.getSelectedEvent();e&&(m(this.selectActions.select),e.actions.forEach(((t,e)=>{const i=this.editor.getActionType(t),s=this.getActionListText(t,i),n=this.getActionHintText(t,i);v(new L(this.editor.preferences.get("hintTextInAction")?n.text:s.text,null,(s.bold?"bold ":"")+(s.italic?"italic ":""))).html.title=n.text})),_(),this.selectActions.setSelectedIndex(Math.min(t,e.actions.length-1))),this.updateActionsMenu()}updateActionsMenu(){const t=this.getSelectedEvent();this.selectActions.getSelectedIndex()<0?(this.buttonActionEdit.setDisabled(!0),this.buttonActionDelete.setDisabled(!0),this.buttonActionUp.setDisabled(!0),this.buttonActionDown.setDisabled(!0)):(this.buttonActionEdit.setDisabled(!1),this.buttonActionDelete.setDisabled(!1),this.buttonActionUp.setDisabled(0==this.selectActions.getSelectedIndex()),this.buttonActionDown.setDisabled(this.selectActions.getSelectedIndex()==t.actions.length-1))}getSelectedEvent(){return this.paramEvents.find((t=>this.selectEvents.getValue()==t.getNameId()))}getActionTypeInfo(){return[{kind:"normal",interfaceKind:"none",args:[]},{kind:"normal",interfaceKind:"normal",htmlclass:Ae},{kind:"normal",interfaceKind:"arrows",htmlclass:Ae,args:[{name:"Directions:",kind:"string",default:"000000000"},{name:"Speed:",kind:"expression",default:"0"}]},{kind:"normal",interfaceKind:"code",htmlclass:oe,args:[{kind:"string",default:""}]},{kind:"normal",interfaceKind:"text",htmlclass:oe,args:[{kind:"string",default:""}]},{kind:"repeat",htmlclass:Ae,hasApplyTo:!1,args:[{name:"times:",kind:"expression",default:"1"}]},{kind:"variable",htmlclass:Ae,hasApplyTo:!0,hasRelative:!0,args:[{name:"variable:",kind:"string",default:""},{name:"value:",kind:"expression",default:"0"}]},{kind:"code",htmlclass:oe,hasApplyTo:!0,args:[{kind:"string",default:""}]},{kind:"begin",args:[]},{kind:"end",args:[]},{kind:"else",args:[]},{kind:"exit",args:[]}]}getActionListText(t,e){return this.parseActionListOrHintText(e.listText,t,e)}getActionHintText(t,e){return this.parseActionListOrHintText(e.hintText,t,e)}parseActionListOrHintText(t,e,i){const s={bold:!1,italic:!1};return s.text=t.reduce(((t,n)=>{if("string"==typeof n)return t+n;switch(n.type){case"a":{const s=e.args[n.number];if(["expression","string","both","color"].includes(s.kind))return t+s.value.toString();if("boolean"==s.kind)return t+(s.value?"true":"false");if("menu"==s.kind)return t+i.args[n.number].menu[s.value];{const e=this.constructor.actionArgResourceTypes[s.kind];if(!e)throw new Error("Impossible action arg kind "+s.kind);const i=this.editor.project.resources[e.getClassName()].find((t=>t.id==s.value));return t+(i?i.name:"<undefined>")}}case"r":return t+(e.relative?"relative ":"");case"n":return t+(e.not?"not ":"");case"w":{if(-1==e.appliesTo)return"";if(-2==e.appliesTo)return"for the other object: ";const i=this.editor.project.resources.ProjectObject.find((t=>t.id==e.appliesTo));return t+"for object "+(i?i.name:"<undefined>")+": "}case"i":s.italic=!0;break;case"b":s.bold=!0}return t}),""),s}openActionWindow(t){const e=this.editor.getActionType(t.typeLibrary,t.typeId),i=this.getActionTypeInfo().find((t=>t.kind==e.kind&&t.interfaceKind==e.interfaceKind));if(i.htmlclass){let e=this.editor.windowsArea.getId(t);e?this.editor.windowsArea.focus(t):(e=this.editor.windowsArea.open(i.htmlclass,t,t,this),this.htmlActionWindows.push(e))}}deleteActionWindow(t){const e=this.htmlActionWindows.findIndex((e=>e.id==t));e>=0&&(this.htmlActionWindows[e].close(),this.htmlActionWindows.splice(e,1))}close(){super.close(),this.htmlActionWindows.forEach((t=>{t.close()})),this.htmlActionWindows=[]}}class ce extends Yt{constructor(t,e,i){super(t,e),this.path=i,this.title.html.textContent="Edit Path "+i.name,m(this.client),m(v(new h("div",{class:"grid-resource resource-path"}))),m(v(new h("div")));const s=v(new j("Name:",i.name));_(),_(),this.makeApplyOkButtons((()=>{this.editor.changeResourceName(i,s.getValue())}),(()=>this.close())),_()}}class le extends Yt{constructor(t,e,i){super(t,e),this.room=i,this.title.html.textContent="Edit Room "+i.name,this.copyProperties(),m(this.client),m(v(new h("div",{class:"grid-resource resource-room"}))),m(v(new h("div"))),this.inputSnapX=v(new R("Snap X:",16,1,1)),this.inputSnapY=v(new R("Snap Y:",16,1,1)),this.inputShowGrid=v(new Z("Show grid",!0)),this.tabControl=v(new Jt),m(this.tabControl.addTab("Instances")),this.selectObject=v(new ge(this.editor,"Object:",tt,!0));const s="_radio_"+V();this.radioAdd=v(new M(s,"Add instance",!0)),this.radioMultiple=v(new M(s,"Add multiple instances")),this.radioMove=v(new M(s,"Move instance")),this.radioDelete=v(new M(s,"Delete instance")),this.inputSnapToGrid=v(new Z("Snap to grid",!0)),this.inputDeleteUnderlying=v(new Z("Delete underlying",!1)),_(),m(this.tabControl.addTab("Settings")),this.inputName=v(new j("Name:",i.name)),this.inputWidth=v(new R("Width:",i.width,1,1)),this.inputHeight=v(new R("Height:",i.height,1,1)),this.inputSpeed=v(new R("Speed:",i.speed,1,1)),_(),m(this.tabControl.addTab("Backgrounds")),this.inputBackgroundColor=v(new B("Background color:",i.backgroundColor));const n=t=>{const e=this.paramBackgrounds[t];return null==e?new gt:e},r=t=>(null==this.paramBackgrounds[t]&&(this.paramBackgrounds[t]=new gt),this.paramBackgrounds[t]),a=()=>{const t=this.selectBackgrounds.getValue();return null==this.paramBackgrounds[t]&&(this.paramBackgrounds[t]=new gt),this.paramBackgrounds[t]},g=()=>{const t=this.selectBackgrounds.getValue(),e=n(t);this.inputBackgroundVisibleAtStart.setChecked(e.visibleAtStart),this.selectResourceBackground.setValue(e.backgroundIndex),this.inputTileHorizontally.setChecked(e.tileHorizontally),this.inputTileVertically.setChecked(e.tileVertically)};this.selectBackgrounds=v(new G("Backgrounds:","backgrounds")),this.selectBackgroundsOptions=[],m(this.selectBackgrounds.select);for(let t=0;t<8;++t){const e=n(t).visibleAtStart?"bold":null;this.selectBackgroundsOptions[t]=v(new L("Background "+t.toString(),t,e))}_(),this.selectBackgrounds.select.html.size=8,this.selectBackgrounds.setOnChange((()=>{g()})),this.inputBackgroundVisibleAtStart=v(new Z("Visible when room starts")),this.inputBackgroundVisibleAtStart.setOnChange((()=>{const t=this.selectBackgrounds.getValue(),e=r(t);e.visibleAtStart=this.inputBackgroundVisibleAtStart.getChecked(),e.visibleAtStart?this.selectBackgroundsOptions[t].html.classList.add("bold"):this.selectBackgroundsOptions[t].html.classList.remove("bold"),this.updateCanvasPreview()})),this.selectResourceBackground=v(new ge(this.editor,null,J)),this.selectResourceBackground.setOnChange((()=>{a().backgroundIndex=this.selectResourceBackground.getValue(),this.updateCanvasPreview()})),this.inputTileHorizontally=v(new Z("Tile Hor.")),this.inputTileHorizontally.setOnChange((()=>{a().tileHorizontally=this.inputTileHorizontally.getChecked(),this.updateCanvasPreview()})),this.inputTileVertically=v(new Z("Tile Vert.")),this.inputTileVertically.setOnChange((()=>{a().tileVertically=this.inputTileVertically.getChecked(),this.updateCanvasPreview()})),g(),_(),m(v(new h("div",{},"X: "))),this.spanX=v(new h("span",{},"0")),_(),m(v(new h("div",{},"Y: "))),this.spanY=v(new h("span",{},"0")),_(),m(v(new h("div",{},"Object: "))),this.spanObject=v(new h("span")),_(),m(v(new h("div",{},"ID: "))),this.spanId=v(new h("span")),_(),this.inputSnapX.setOnChange((()=>this.updateCanvasPreview())),this.inputSnapY.setOnChange((()=>this.updateCanvasPreview())),this.inputShowGrid.setOnChange((()=>this.updateCanvasPreview())),this.inputWidth.setOnChange((()=>this.updateCanvasPreview())),this.inputHeight.setOnChange((()=>this.updateCanvasPreview())),this.inputBackgroundColor.setOnChange((()=>this.updateCanvasPreview())),_(),m(v(new h("div",{class:"preview"}))),this.canvasPreview=v(new T(i.width,i.height)),this.ctx=this.canvasPreview.html.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.canvasPreview.html.onmousedown=t=>{this.mouseIsDown=!0;const e=this.getMousePosition(t),i=this.snapMousePosition(e);if(this.currentPos=i,this.radioAdd.getChecked())this.movingInstance=this.addInstance(t);else if(this.radioMultiple.getChecked())this.movingInstance=this.addInstance(t),this.deleteUnderlying(t);else if(this.radioMove.getChecked()){const t=this.getInstanceAtPosition(e);t&&(this.movingInstance=t)}else if(this.radioDelete.getChecked()){const t=this.getInstanceAtPosition(e);t&&(this.paramInstances=this.paramInstances.filter((e=>e!=t)))}this.updateCanvasPreview()},this.canvasPreview.html.onmousemove=t=>{const e=this.getMousePosition(t),i=this.snapMousePosition(e);if(this.mouseIsDown){if(this.radioAdd.getChecked()||this.radioMove.getChecked())this.movingInstance&&(this.movingInstance.x=i.x,this.movingInstance.y=i.y);else if(this.radioMultiple.getChecked())this.getInstanceAtPosition(e)!=this.movingInstance&&(this.currentPos=i,this.movingInstance=this.addInstance(t),this.deleteUnderlying(t));else if(this.radioDelete.getChecked()){const t=this.getInstanceAtPosition(e);t&&(this.paramInstances=this.paramInstances.filter((e=>e!=t)))}this.updateCanvasPreview()}this.spanX.html.textContent=i.x,this.spanY.html.textContent=i.y,this.spanObject.html.textContent="",this.spanId.html.textContent="";{const t=this.getInstanceAtPosition(e);t&&(this.spanObject.html.textContent=this.editor.project.resources.ProjectObject.find((e=>e.id==t.object_index)).name,null!=t.id?this.spanId.html.textContent=t.id:this.spanId.html.textContent="(not applied)")}},document.onmouseup=t=>{this.mouseIsDown=!1,this.movingInstance&&this.radioAdd.getChecked()&&this.deleteUnderlying(t),this.movingInstance=null,this.updateCanvasPreview()},_(),_(),this.defaultInstanceImage=new dt("data:image/png;base64,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RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjc4YjdkOGI3LTc2OGMtNDAxNS1iYWY1LTBiNjhhYTRkZGZhMyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowYzZiMmJmMS00ODdmLTRjMGYtODcxNC03OWVlY2RiZWExYmMiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkYTdjZDYxOC1jNjkyLTRmMGQtOTIwMS1mNDMwYzczYzhkYTkiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJXaW5kb3dzIgogICBHSU1QOlRpbWVTdGFtcD0iMTYzOTk2NDg4MzMxMTgzNiIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjI0IgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmQxYWZkNGQ2LTU1YTYtNDMxZi1hYzRkLWNiZGM3MWNlODFkMCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChXaW5kb3dzKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMS0xMi0xOVQyMjo0ODowMyIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz71NNvLAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAGRJREFUOMu1k1EOgDAIQ1vjwXtz/BQUhtlm/1j2SlkYsCgW5/b1PnNQBa8XxwjLFXJdlBkRAM48vwL0rL2OrDvLEUIC8wbTag1G8VuDDv5/hP4xbwNmy2PjheKWBFtXeeozLesCkxMZHOAs09wAAAAASUVORK5CYII="),this.updateCanvasPreview(),this.makeApplyOkButtons((()=>{this.editor.changeResourceName(i,this.inputName.getValue()),i.width=parseInt(this.inputWidth.getValue()),i.height=parseInt(this.inputHeight.getValue()),i.speed=parseInt(this.inputSpeed.getValue()),i.backgroundColor=this.inputBackgroundColor.getValue(),i.backgrounds=this.paramBackgrounds;for(const t of this.paramInstances)null==t.id&&(this.editor.project.lastId+=1,t.id=this.editor.project.lastId);i.instances=this.paramInstances,this.copyProperties()}),(()=>{this.close()})),_()}onAdd(){this.listeners=this.editor.dispatcher.listen({changeObjectSprite:t=>{this.updateCanvasPreview()},changeSpriteOrigin:t=>{this.updateCanvasPreview()},changeBackgroundImage:t=>{this.updateCanvasPreview()}})}onRemove(){this.editor.dispatcher.stopListening(this.listeners)}copyProperties(){this.paramBackgrounds=this.room.backgrounds.map((t=>null==t?null:new gt(t))),this.paramInstances=this.room.instances.map((t=>new rt(t)))}getMousePosition(t){return{x:t.offsetX,y:t.offsetY}}snapMousePosition(t){let e=t.x,i=t.y;if(this.inputSnapToGrid.getChecked()){const t=Math.max(1,parseInt(this.inputSnapX.getValue())||0),s=Math.max(1,parseInt(this.inputSnapY.getValue())||0);e=Math.floor(e/t)*t,i=Math.floor(i/s)*s}return{x:e,y:i}}addInstance(t){if(-1==this.selectObject.getValue())return null;const e=new rt;return e.x=this.currentPos.x,e.y=this.currentPos.y,e.object_index=this.selectObject.getValue(),this.paramInstances.push(e),e}deleteUnderlying(t){if(this.inputDeleteUnderlying.getChecked())for(let t=this.paramInstances.length-1;t>=0;t--){const e=this.paramInstances[t];e!=this.movingInstance&&this.isInstanceAtPosition(e,this.currentPos)&&this.paramInstances.splice(t,1)}}getInstanceAtPosition(t){for(let e=this.paramInstances.length-1;e>=0;e--){const i=this.paramInstances[e];if(this.isInstanceAtPosition(i,t))return i}return null}isInstanceAtPosition(t,e){const i=this.editor.project.resources.ProjectObject.find((e=>e.id==t.object_index)),s=this.editor.project.resources.ProjectSprite.find((t=>t.id==i.sprite_index));let n=32,r=32,a=0,g=0;s?(a=s.originx,g=s.originy,s.images.length>0&&(n=s.images[0].image.width,r=s.images[0].image.height)):(n=this.defaultInstanceImage.image.width,r=this.defaultInstanceImage.image.height);const A=t.x-a,I=t.y-g,o=A+n,C=I+r;return e.x>=A&&e.x<o&&e.y>=I&&e.y<C}updateCanvasPreview(){this.canvasPreview.html.width=this.inputWidth.getValue(),this.canvasPreview.html.height=this.inputHeight.getValue(),this.ctx.fillStyle=this.inputBackgroundColor.getValue(),this.ctx.fillRect(0,0,this.canvasPreview.html.width,this.canvasPreview.html.height);for(const t of this.paramBackgrounds)t&&1!=t.isForeground&&this.drawRoomBackground(t);for(const t of this.paramInstances){const e=this.editor.project.resources.ProjectObject.find((e=>e.id==t.object_index)),i=this.editor.project.resources.ProjectSprite.find((t=>t.id==e.sprite_index));let s,n=0,r=0;if(i){if(n=i.originx,r=i.originy,!(i.images.length>0))continue;s=i.images[0]}else s=this.defaultInstanceImage;s.promise.then((()=>{this.ctx.drawImage(s.image,t.x-n,t.y-r)}))}for(const t of this.paramBackgrounds)t&&0!=t.isForeground&&this.drawRoomBackground(t);if(this.inputShowGrid.getChecked()){this.ctx.globalCompositeOperation="difference",this.ctx.fillStyle="white",this.ctx.strokeStyle="white";const t=parseInt(this.inputSnapX.getValue()),e=parseInt(this.inputSnapY.getValue());if(t>0)for(let e=0;e<this.canvasPreview.html.width;e+=t)this.drawLine(e,0,e,this.canvasPreview.html.height);if(e>0)for(let t=0;t<this.canvasPreview.html.height;t+=e)this.drawLine(0,t,this.canvasPreview.html.width,t);this.ctx.globalCompositeOperation="source-over"}}drawRoomBackground(t){if(!t.visibleAtStart)return!1;const e=this.editor.project.resources.ProjectBackground.find((e=>e.id==t.backgroundIndex));if(!e)return!1;const i=e.image;return!!i&&(i.promise.then((()=>{let s=t.x,n=t.y;t.tileHorizontally&&(s=t.x%e.image.image.width-e.image.image.width),t.tileVertically&&(n=t.y%e.image.image.height-e.image.image.height);for(let r=s;r<this.canvasPreview.html.width;r+=e.image.image.width){for(let s=n;s<this.canvasPreview.html.height&&(this.ctx.drawImage(i.image,r,s),t.tileVertically);s+=e.image.image.height);if(!t.tileHorizontally)break}})),!0)}drawLine(t,e,i,s){this.ctx.save(),this.ctx.translate(.5,.5),this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(i,s),this.ctx.stroke(),this.ctx.restore()}}class ue extends Yt{constructor(t,e,i){super(t,e),this.script=i,this.title.html.textContent="Edit Script "+i.name,m(this.client),m(v(new h("div",{class:"grid-resource resource-script"}))),m(v(new h("div")));const s=v(new j("Name:",i.name));this.codeEditor=v(new Ie(i.code)),_(),_(),this.makeApplyOkButtons((()=>{this.editor.changeResourceName(i,s.getValue()),i.code=this.codeEditor.getValue()}),(()=>{this.close()})),this.codeEditor.setNextElem(this.applyButton),_()}}class de extends Yt{constructor(t,e,i){super(t,e),this.sound=i,this.title.html.textContent="Edit Sound "+i.name,m(this.client),m(v(new h("div",{class:"grid-resource resource-sound"}))),m(v(new h("div")));let s=i.sound;const n=v(new j("Name:",i.name));v(new S("Load Sound",(()=>{jt.openDialog("audio/*").then((t=>{s=new ut(t),r.html.src=s.src}))}))),m(v(new h("div",{class:"preview"})));const r=v(new h("audio"));r.html.controls=!0,r.html.loop=!0,s&&(r.html.src=s.src),_();const a=v(new O("Volume:",i.volume,1/70,0,1));_(),_(),this.makeApplyOkButtons((()=>{this.editor.changeResourceName(i,n.getValue()),i.sound=s,i.volume=parseFloat(a.getValue())}),(()=>this.close())),_()}}class he extends Yt{constructor(t,e,i){super(t,e),this.sprite=i,this.title.html.textContent="Edit Sprite "+i.name,m(this.client),m(v(new h("div",{class:"grid-resource resource-sprite"}))),m(v(new h("div")));const s=i.name;this.paramImages=i.images;const n=i.originx,r=i.originy,a=v(new j("Name:",s));this.buttonLoadSprite=v(new S("Load Sprite",(()=>{jt.openDialog("image/*",!0).then((t=>{this.loadSpriteFromFiles(t)}))}))),m(v(new h("div",{},"Width: "))),this.divWidth=v(new h("span")),_(),m(v(new h("div",{},"Height: "))),this.divHeight=v(new h("span")),_(),m(v(new h("div",{},"Number of subimages: "))),this.divSubimages=v(new h("span")),_(),this.showSubimage=0,m(v(new h("div",{},"Show: "))),this.buttonShowSubimageLeft=v(new S("",(()=>{this.showSubimage-=1,this.updateShow()}))),this.divShowSubimage=v(new h("span")),this.buttonShowSubimageRight=v(new S("",(()=>{this.showSubimage+=1,this.updateShow()}))),_(),m(v(new h("fieldset"))),v(new h("legend",{},"Origin"));const g=v(new R("X:",n,1,0)),A=v(new R("Y:",r,1,0));v(new S("Center",(()=>{let t=16,e=16;this.paramImages.length>0&&(t=Math.floor(this.paramImages[0].image.width/2),e=Math.floor(this.paramImages[0].image.height/2)),g.setValue(t),A.setValue(e)}))),_(),_(),m(v(new h("div",{class:"mask"}))),m(v(new h("fieldset"))),v(new h("legend",{},"Collision Checking"));const I=v(new Z("Precise collision checking","precise"==i.shape));_(),_(),m(v(new h("div",{class:"preview"}))),this.imgSprite=v(new W),_(),this.updateImageInfo(),_(),this.makeApplyOkButtons((()=>{this.editor.changeResourceName(i,a.getValue()),this.editor.changeSpriteImages(i,this.paramImages),this.editor.changeSpriteOrigin(i,parseInt(g.getValue()),parseInt(A.getValue())),i.shape=I.getChecked()?"precise":"rectangle"}),(()=>this.close())),_(),P(this.html,(t=>this.loadSpriteFromFiles(t)),!0)}loadSpriteFromFiles(t){this.buttonLoadSprite.setDisabled(!0);const e=[];for(const i of t)e.push(new dt(i));Promise.all(e.map((t=>t.promise))).then((()=>{this.paramImages=e,this.updateImageInfo()})).catch((t=>{alert("Error when opening image")})).finally((()=>{this.buttonLoadSprite.setDisabled(!1)}))}updateImageInfo(){this.showSubimage=0,this.paramImages.length>0?this.paramImages[0].promise.then((()=>{this.divWidth.textContent=this.paramImages[0].image.width,this.divHeight.textContent=this.paramImages[0].image.height})):(this.imgSprite.setSrc(null),this.divWidth.textContent="32",this.divHeight.textContent="32"),this.divSubimages.textContent=this.paramImages.length.toString(),this.updateShow()}updateShow(){this.paramImages.length>0&&this.imgSprite.setSrc(this.paramImages[this.showSubimage].image.src),this.divShowSubimage.textContent=this.showSubimage.toString(),this.buttonShowSubimageLeft.setDisabled(0==this.showSubimage),this.buttonShowSubimageRight.setDisabled(this.showSubimage>=this.paramImages.length-1)}}class pe extends Yt{constructor(t,e,i){super(t,e),this.timeline=i,this.title.html.textContent="Edit Time Line "+i.name,m(this.client),m(v(new h("div",{class:"grid-resource resource-timeline"}))),m(v(new h("div")));const s=v(new j("Name:",i.name));_(),_(),this.makeApplyOkButtons((()=>{this.editor.changeResourceName(i,s.getValue())}),(()=>this.close())),_()}}class me{static resourceTypesInfo=[{class:U,windowClass:he,resourceIcon:null},{class:H,windowClass:de,resourceIcon:Ft},{class:J,windowClass:ne,resourceIcon:null},{class:Q,windowClass:ce,resourceIcon:"data:image/png;base64,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BAxsAxfXbU3ZAy53gKEnQzZlVwrSEgoF4P2MvikHDN4CfWve3FrnOH0AMjSr5Rvg4BAYK1L2us+7ezvn9m9Pa34/wn1yx7SEziQAAA0YaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOmZlZTg1NjM2LTQ0MTMtNGQzYS04MGM3LWIyN2Q1NThhYjNiMyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNzBmMWZkMi0zYTk1LTRlMGEtYWUyYS01NDMyMmEwMTZmNmUiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NmIwZDY5OS1hMWUxLTQ5NmQtYWExYi0wZTljYjA2NmI2MjgiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJXaW5kb3dzIgogICBHSU1QOlRpbWVTdGFtcD0iMTYzOTk2NDk3NjI2NTE1NCIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjI0IgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNkYjkwZmYwLTVlYzYtNDYyOS1hOTUzLTJhZWE2ZjZjYzczYiIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChXaW5kb3dzKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMS0xMi0xOVQyMjo0OTozNiIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7QXqwmAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAGtJREFUKM+VkkEOwCAIBAfi/7+8PSgJUdoiByW6LkPEANELi0XS+xszQxJmU+9Nd5apRotlugPg6bRSotVkYPuLZXAcV16KpblHnmJ8dFnmoxTmfloVsmjDav/DWWFHaSHpf6yukexiWgF4APDiKhsouXLLAAAAAElFTkSuQmCC"},{class:K,windowClass:ue,resourceIcon:"data:image/png;base64,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ZS1hMzE4LTQ5N2UtOWM5NS1kZTk1NWJiYTljNWMiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M2IyN2M1MDAtMTU4Ny00MzQwLTk2ZjMtMmQ0MjUwYTk0YjZmIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MDU4NGE4ZmEtNGE5Ni00OTUxLWE5NWEtMmM3NWFmMjBiYjM0IgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iV2luZG93cyIKICAgR0lNUDpUaW1lU3RhbXA9IjE2Mzk5NjQ5NzE1MDkzODciCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yNCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozYWE5N2I1Yy0wYjY5LTQ0MmItYWYwYi0yOTg2Mjk1OTA5OWMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoV2luZG93cykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMTItMTlUMjI6NDk6MzEiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+q/WqDAAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAABySURBVCjPlZJBDoAgDARnjf/Gvnw9YIlRENwDJE3bWVoEmDUpD9vjGknYRqr522J3rqbeMxARr6RSSqPcfX1aetprBIVw8ZyWBEXFZtGUMCMNCW0qHVKXcNcyYfSOLmE0qSRcS7Q56v0lwL8Xpx+/FYATH5po7jOiheUAAAAASUVORK5CYII="},{class:X,windowClass:re,resourceIcon:"data:image/png;base64,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bnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6R0lNUD0iaHR0cDovL3d3dy5naW1wLm9yZy94bXAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDpiOThhZTE4Ny02ZDI5LTRhODktOWY5My0zZmYxY2NkNmQzYzIiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjlmNTllNzYtZmI0Yi00Y2JkLWEzYjItNjQxZDkyZTljYzY3IgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTM3YjJjOTgtNmRhMy00NDgxLWJhODUtMGZlOWMwOTc1M2M1IgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iV2luZG93cyIKICAgR0lNUDpUaW1lU3RhbXA9IjE2Mzk5NjQ5Mjk4MjIyMjciCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yNCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjgwZGZjZS05Y2ZlLTQ1MjgtODhlNC0wNDZjYjg5OTQxZjIiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoV2luZG93cykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMTItMTlUMjI6NDg6NDkiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+7LCSbwAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAABpSURBVCjPlZJRDsAgCENfDfe/cvfhWEzEjflhArSloAJM7ygv22eOJGwjTfxoqnOLOlpepjoA0VR+iLFEFXpLxQaQwJ78QmO8qWVqLY2z9zpur7XukINXCzgOfeBnKd7f4MtS8wf6D+ECzn4mHybbGLwAAAAASUVORK5CYII="},{class:q,windowClass:pe,resourceIcon:"data:image/png;base64,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MjdiMS00NTA1LWJhNjEtNmY2NmRjODQ2MDdiIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY0MzdlNzRhLTZjNzktNDIyMy04NDdhLWNlNDg5YzRhZjNiZiIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmRmN2VkMWI1LTA1MWMtNDM3Yi1iOGY0LWFkMDhkZTYyYzA3ZCIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IldpbmRvd3MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjM5OTY0OTY3NDAyNDI5IgogICBHSU1QOlZlcnNpb249IjIuMTAuMjQiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTliMWFjMWQtNzBjZS00ZWRjLTgxMGUtNzlkYjcxZmU3ZDkzIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKFdpbmRvd3MpIgogICAgICBzdEV2dDp3aGVuPSIyMDIxLTEyLTE5VDIyOjQ5OjI3Ii8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pj/ujDQAAAAEZ0FNQQAAsY8L/GEFAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAAa0lEQVQoz5WSwQ7AIAhDW8P//3J3cISJuCAHD8a+FpAAhF7RD0lnDUlIAjnfjyYdL1QWJPy6eDUcBEDuAAvL6ZLbyXdjzblGqwC2NxeianjtKR0FHiPHKwU5cyXa9lBRv6DrHpY9dH+gbhweT9QsHxtSGPgAAAAASUVORK5CYII="},{class:tt,windowClass:Ce,resourceIcon:null},{class:nt,windowClass:le,resourceIcon:"data:image/png;base64,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r6S5TmsEcSwhgSQkKKihjApsRGnXSbGQovOYj3/Y9SfJpZCrDEaOBVShQXb94H/we7ZWYWrSSwrFgO4Xx/kYBXp2gWbdcb6PHad5AgSfgSu97a82gNlP0uttLXwEDGwDF9dtTdkDLneAoSdDNmVXCtISCgXg/Yy+KQcM3gJ9a97cWuc4fQAyNKvlG+DgEBgrUva6z7t7O+f2b09rfj/CfXLHtITOJAAADRhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDQuNC4wLUV4aXYyIj4KIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6NTliZDkwMDktMzhjMi00OTI3LTg5MjMtOGMwNmZjODU3N2FlIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZiMDVhNGQzLWEyZjctNGQ5ZS05Yzg0LTM5MWQxMTJmNjZjYiIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjgxZDljZjBiLWYyMjUtNGIwZS1iNzhmLTZjMjI0NWMzZWUyZSIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IldpbmRvd3MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjM5OTY0OTczNjEyNDQwIgogICBHSU1QOlZlcnNpb249IjIuMTAuMjQiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NDI4ZjNjOTEtMWYxYi00ZDcwLWI1YzgtMGFhODc1NjUzMjBhIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKFdpbmRvd3MpIgogICAgICBzdEV2dDp3aGVuPSIyMDIxLTEyLTE5VDIyOjQ5OjMzIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PttRq+EAAAAEZ0FNQQAAsY8L/GEFAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAAWElEQVQoz7WSMQ7AMAgDzxX//7I70CYdikKGZCBC4oxBCDC9pzfYrhlJ2EbK+qupziPqaHlJdQCiqTzAmMkKzL89w6+lalnf7tsdzgNReV0C9iFL2rhWAG44lhYmsqF3oAAAAABJRU5ErkJggg=="}];constructor(){this.project=new F,this.game=null,this.projectName="game",this.dispatcher=new s,this.preferences=new ie,this.themeManager=new se(this),this.gameWindow=null,this.libraries=class{static getList(){return[{name:"move",items:[{name:"Move",kind:"label"},{id:101,description:"Move Fixed",listText:["Start moving in a direction"],hintText:[te,"start moving in directions ",ee[0]," with speed set ",qt,"to ",ee[1]],kind:"normal",execution:"function",executionFunction:"action_move",interfaceKind:"arrows",isQuestion:!1,hasApplyTo:!0,hasRelative:!0},{id:102,description:"Move Free",listText:["Set direction and speed of motion"],hintText:[te,"set speed ",qt,"to ",ee[1]," and direction to ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_set_motion",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"direction:",kind:"expression",default:"0"},{name:"speed:",kind:"expression",default:"0"}]},{id:105,description:"Move Towards",listText:["Move towards point (",ee[0],",",ee[1],")"],hintText:[te,"start moving ",qt,"in the direction of position (",ee[0],",",ee[1],") with speed ",ee[2]],kind:"normal",execution:"function",executionFunction:"action_move_point",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"x:",kind:"expression",default:"0"},{name:"y:",kind:"expression",default:"0"},{name:"speed:",kind:"expression",default:"0"}]},{id:103,description:"Speed Horizontal",listText:["Set the horizontal speed"],hintText:[te,"set the horizontal speed ",qt,"to ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_set_hspeed",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"hor. speed:",kind:"expression",default:"0"}]},{id:104,description:"Speed Vertical",listText:["Speed Vertical"],hintText:[te,"set the vertical speed ",qt,"to ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_set_vspeed",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"vert. speed:",kind:"expression",default:"0"}]},{id:107,description:"Set Gravity",listText:["Set the gravity"],hintText:[te,"set the gravity ",qt,"to ",ee[1]," in direction ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_set_gravity",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"direction:",kind:"expression",default:"0"},{name:"gravity:",kind:"expression",default:"0"}]},{id:113,description:"Reverse Horizontal",listText:["Reverse horizontal direction"],hintText:[te,"reverse horizontal direction"],kind:"normal",execution:"function",executionFunction:"action_reverse_xdir",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!1,args:[]},{id:114,description:"Reverse Vertical",listText:["Reverse vertical direction"],hintText:[te,"reverse vertical direction"],kind:"normal",execution:"function",executionFunction:"action_reverse_ydir",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!1,args:[]},{id:108,description:"Set Friction",listText:["Set the friction"],hintText:[te,"set the friction ",qt,"to ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_set_friction",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"friction:",kind:"expression",default:"0"}]},{name:"Jump",kind:"label"},{id:109,description:"Jump to Position",listText:["Jump to position (",ee[0],",",ee[1],")"],hintText:[te,"jump ",qt,"to position (",ee[0],",",ee[1],")"],kind:"normal",execution:"function",executionFunction:"action_move_to",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"x:",kind:"expression",default:"0"},{name:"y:",kind:"expression",default:"0"}]},{id:110,description:"Jump to Start",listText:["Jump to the start position"],hintText:[te,"jump to the start position"],kind:"normal",execution:"function",executionFunction:"action_move_start",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!1,args:[]},{id:111,description:"Jump to Random",listText:["Jump to a random position"],hintText:[te,"jump to a random position with hor snap ",ee[0]," and vert snap ",ee[1]],kind:"normal",execution:"function",executionFunction:"action_move_random",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!1,args:[{name:"snap hor:",kind:"expression",default:"0"},{name:"snap vert:",kind:"expression",default:"0"}]},{id:117,description:"Align to Grid",listText:["Align to a grid of ",ee[0]," by ",ee[1]],hintText:[te,"align position to a grid with cells of ",ee[0]," by ",ee[1]," pixels"],kind:"normal",execution:"function",executionFunction:"action_snap",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!1,args:[{name:"snap hor:",kind:"expression",default:"16"},{name:"snap vert:",kind:"expression",default:"16"}]},{id:112,description:"Wrap Screen",listText:["Wrap ",ee[0]," when outside"],hintText:[te,"wrap ",ee[0]," when an instance moves outside the room"],kind:"normal",execution:"function",executionFunction:"action_wrap",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!1,args:[{name:"direction:",kind:"menu",menu:["horizontal","vertical","in both directions"],default:0}]}]},{name:"main1",items:[{name:"Objects",kind:"label"},{id:201,description:"Create Instance",listText:["Create instance of object ",ee[0]],hintText:[te,"create instance of object ",ee[0]," at ",qt,"position (",ee[1],",",ee[2],")"],kind:"normal",execution:"function",executionFunction:"action_create_object",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"object:",kind:"object",default:-100},{name:"x:",kind:"expression",default:"0"},{name:"y:",kind:"expression",default:"0"}]},{id:203,description:"Destroy Instance",listText:["Destroy the instance"],hintText:[te,"destroy the instance"],kind:"normal",execution:"function",executionFunction:"action_kill_object",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!1,args:[]},{name:"Sprite",kind:"label"},{id:541,description:"Change Sprite",listText:["Change sprite into ",ee[0]],hintText:[te,"set the sprite to ",ee[0]," with subimage ",ee[1]," and speed ",ee[2]],kind:"normal",execution:"function",executionFunction:"action_sprite_set",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!1,args:[{name:"sprite:",kind:"sprite",default:-1},{name:"subimage:",kind:"expression",default:"0"},{name:"speed:",kind:"expression",default:"1"}]},{name:"Rooms",kind:"label"},{id:221,description:"Previous Room",listText:["Go to previous room"],hintText:["go to previous room with transition effect ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_previous_room",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!1,args:[{name:"transition:",kind:"menu",menu:["<no effect>","Create from left","Create from right","Create from top","Create from bottom","Create from center","Shift from left","Shift from right","Shift from top","Shift from bottom","Interlaced from left","Interlaced from right","Interlaced from top","Interlaced from bottom","Push from left","Push from right","Push from top","Push from bottom","Rotate left","Rotate right","Blend","Fade out and in"],default:0}]},{id:222,description:"Next Room",listText:["Go to next room"],hintText:["go to next room with transition effect ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_next_room",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!1,args:[{name:"transition:",kind:"menu",menu:["<no effect>","Create from left","Create from right","Create from top","Create from bottom","Create from center","Shift from left","Shift from right","Shift from top","Shift from bottom","Interlaced from left","Interlaced from right","Interlaced from top","Interlaced from bottom","Push from left","Push from right","Push from top","Push from bottom","Rotate left","Rotate right","Blend","Fade out and in"],default:0}]},{id:223,description:"Restart Room",listText:["Restart the current room"],hintText:["restart the current room with transition effect ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_current_room",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!1,args:[{name:"transition:",kind:"menu",menu:["<no effect>","Create from left","Create from right","Create from top","Create from bottom","Create from center","Shift from left","Shift from right","Shift from top","Shift from bottom","Interlaced from left","Interlaced from right","Interlaced from top","Interlaced from bottom","Push from left","Push from right","Push from top","Push from bottom","Rotate left","Rotate right","Blend","Fade out and in"],default:0}]},{id:224,description:"Different Room",listText:["Go to room ",ee[0]],hintText:["go to room ",ee[0]," with transition effect ",ee[1]],kind:"normal",execution:"function",executionFunction:"action_another_room",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!1,args:[{name:"new room:",kind:"room",default:-1},{name:"transition:",kind:"menu",menu:["<no effect>","Create from left","Create from right","Create from top","Create from bottom","Create from center","Shift from left","Shift from right","Shift from top","Shift from bottom","Interlaced from left","Interlaced from right","Interlaced from top","Interlaced from bottom","Push from left","Push from right","Push from top","Push from bottom","Rotate left","Rotate right","Blend","Fade out and in"],default:0}]},{id:225,description:"Check Previous",listText:["If previous room exists"],hintText:["if previous room exists"],kind:"normal",execution:"function",executionFunction:"action_if_previous_room",interfaceKind:"none",isQuestion:!0},{id:226,description:"Check Next",listText:["If next room exists"],hintText:["if next room exists"],kind:"normal",execution:"function",executionFunction:"action_if_next_room",interfaceKind:"none",isQuestion:!0}]},{name:"main2",items:[{name:"Timing",kind:"label"},{id:301,description:"Set Alarm",listText:["Set ",ee[1]," ",qt,"to ",ee[0]],hintText:[te,"set ",ee[1]," ",qt,"to ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_set_alarm",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"number of steps:",kind:"expression",default:"0"},{name:"in alarm no:",kind:"menu",menu:["Alarm 0","Alarm 1","Alarm 2","Alarm 3","Alarm 4","Alarm 5","Alarm 6","Alarm 7","Alarm 8","Alarm 9","Alarm 10","Alarm 11"],default:0}]},{id:302,description:"Sleep",listText:["Sleep ",ee[0]," milliseconds"],hintText:["sleep ",ee[0]," milliseconds; redrawing the screen: ",ee[1]],kind:"normal",execution:"function",executionFunction:"action_sleep",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!1,args:[{name:"milliseconds:",kind:"both",default:"1000"},{name:"redraw:",kind:"boolean",default:!0}]},{name:"Info",kind:"label"},{id:321,description:"Display Message",listText:["Display a message"],hintText:["display message: ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_message",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!1,args:[{name:"message:",kind:"both",default:""}]},{name:"Game",kind:"label"},{id:332,description:"End Game",listText:["End the game"],hintText:["end the game"],kind:"normal",execution:"function",executionFunction:"action_end_game",interfaceKind:"none",isQuestion:!1}]},{name:"control",items:[{name:"Questions",kind:"label"},{id:401,description:"Check Empty",listText:["If a position is collision free"],hintText:[te,"if ",qt,"position (",ee[0],",",ee[1],") is ",$t,"collision free for ",ee[2]," objects"],kind:"normal",execution:"function",executionFunction:"action_if_empty",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!0,hasRelative:!0,args:[{name:"x:",kind:"expression",default:"0"},{name:"y:",kind:"expression",default:"0"},{name:"objects",kind:"menu",menu:["Only solid","All"],default:0}]},{id:402,description:"Check Collision",listText:["If there is a collision at a position"],hintText:[te,"if ",qt,"position (",ee[0],",",ee[2],") gives ",$t,"a collision with ",ee[2]," objects"],kind:"normal",execution:"function",executionFunction:"action_if_collision",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!0,hasRelative:!0,args:[{name:"x:",kind:"expression",default:"0"},{name:"y:",kind:"expression",default:"0"},{name:"objects",kind:"menu",menu:["Only solid","All"],default:0}]},{id:403,description:"Check Object",listText:["If there is an object at a position"],hintText:[te,"if at ",qt,"position (",ee[1],",",ee[2],") there is ",$t,"object ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_if_object",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!0,hasRelative:!0,args:[{name:"object:",kind:"object",default:-100},{name:"x:",kind:"expression",default:"0"},{name:"y:",kind:"expression",default:"0"}]},{id:404,description:"Test Instance Count",listText:["If the number of instances is a value"],hintText:["if number of objects ",ee[0]," is ",$t,ee[2]," ",ee[1]],kind:"normal",execution:"function",executionFunction:"action_if_number",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!1,hasRelative:!1,args:[{name:"object:",kind:"object",default:-100},{name:"number:",kind:"expression",default:"0"},{name:"operation:",kind:"menu",menu:["Equal to","Smaller than","Larger than"],default:0}]},{id:405,description:"Test Chance",listText:["With chance 1 out of ",ee[0]," perform next ",$t],hintText:["with a chance of 1 out of ",ee[0]," do ",$t," perform the next action"],kind:"normal",execution:"function",executionFunction:"action_if_dice",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!1,hasRelative:!1,args:[{name:"sides:",kind:"expression",default:"2"}]},{id:407,description:"Check Question",listText:["If the user answers yes to a question"],hintText:["if the player does ",$t,"say yes to the question: ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_if_question",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!1,hasRelative:!1,args:[{name:"question:",kind:"both",default:""}]},{id:408,description:"Test Expression",listText:["If an expression is true"],hintText:[te,"if expression ",ee[0]," is ",$t,"true"],kind:"normal",execution:"function",executionFunction:"action_if",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!0,hasRelative:!1,args:[{name:"expression:",kind:"expression",default:""}]},{id:409,description:"Check Mouse",listText:["If ",ee[0]," mouse button is ",$t,"pressed"],hintText:["if ",ee[0]," mouse button is ",$t,"pressed"],kind:"normal",execution:"function",executionFunction:"action_if_mouse",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!1,hasRelative:!1,args:[{name:"button",kind:"menu",menu:["no","left","right","middle"],default:1}]},{id:410,description:"Check Grid",listText:["If instance is aligned with grid"],hintText:[te,"if object is ",$t,"aligned with grid with cells of ",ee[0]," by ",ee[1]," pixels"],kind:"normal",execution:"function",executionFunction:"action_if_aligned",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!0,hasRelative:!1,args:[{name:"snap hor:",kind:"expression",default:"16"},{name:"snap vert:",kind:"expression",default:"16"}]},{name:"Other",kind:"label"},{id:422,description:"Start Block",listText:["Start of a block"],hintText:["start of a block"],kind:"begin"},{id:421,description:"Else",listText:["Else"],hintText:["else"],kind:"else"},{id:425,description:"Exit Event",listText:["Exit this event"],hintText:["exit this event"],kind:"exit"},{id:424,description:"End Block",listText:["End of a block"],hintText:["end of a block"],kind:"end"},{id:423,description:"Repeat",listText:["Repeat ",ee[0]," times"],hintText:["repeat next action (block) ",ee[0]," times"],kind:"repeat"},{name:"Code",kind:"label"},{id:603,description:"Execute Code",listText:["Execute a piece of code"],hintText:[te,"execute code:\n\n",ee[0]],kind:"code"},{id:601,description:"Execute Script",listText:["Execute script: ",ee[0]],hintText:[te,"execute script ",ee[0]," with arguments (",ee[1],",",ee[2],",",ee[3],",",ee[4],",",ee[5],")"],kind:"normal",execution:"function",executionFunction:"action_execute_script",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!1,args:[{name:"script:",kind:"script",default:-1},{name:"argument0:",kind:"expression",default:"0"},{name:"argument1:",kind:"expression",default:"0"},{name:"argument2:",kind:"expression",default:"0"},{name:"argument3:",kind:"expression",default:"0"},{name:"argument4:",kind:"expression",default:"0"}]},{id:605,description:"Comment",listText:[Xt,ee[0]],hintText:["COMMENT: ",ee[0]],kind:"normal",execution:"nothing",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!1,args:[{name:"comment:",kind:"string",default:""}]},{name:"Variables",kind:"label"},{id:611,description:"Set Variable",listText:["Set variable ",ee[0]," to ",ee[1]],hintText:[te,"set variable ",ee[0]," ",qt,"to ",ee[1]],kind:"variable"},{id:612,description:"Test Variable",listText:["If ",ee[0]," is ",$t,ee[2]," ",ee[1]],hintText:[te,"if ",ee[0]," is ",$t,ee[2]," ",ee[1]],kind:"normal",execution:"function",executionFunction:"action_if_variable",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!0,hasRelative:!1,args:[{name:"variable:",kind:"expression",default:""},{name:"value:",kind:"expression",default:"0"},{name:"operation:",kind:"menu",menu:["equal to","smaller than","larger than"],default:"0"}]}]},{name:"score",items:[{name:"Score",kind:"label"},{id:701,description:"Set Score",listText:["Set the score ",qt,"to ",ee[0]],hintText:["set the score ",qt,"to ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_set_score",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!0,args:[{name:"new score:",kind:"expression",default:"0"}]},{id:702,description:"Test Score",listText:["If score is ",$t,ee[1]," ",ee[0]],hintText:["if score is ",$t,ee[1]," ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_if_score",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!1,hasRelative:!1,args:[{name:"value:",kind:"expression",default:"0"},{name:"operation:",kind:"menu",menu:["equal to","smaller than","larger than"],default:0}]},{name:"Lives",kind:"label"},{id:711,description:"Set Lives",listText:["Set lives ",qt,"to ",ee[0]],hintText:["set the number of lives ",qt,"to ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_set_life",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!0,args:[{name:"new lives:",kind:"expression",default:"0"}]},{id:712,description:"Test Lives",listText:["If lives are ",$t,ee[1]," ",ee[0]],hintText:["If lives are ",$t,ee[1]," ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_if_life",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!1,hasRelative:!1,args:[{name:"value:",kind:"expression",default:"0"},{name:"operation:",kind:"menu",menu:["equal to","smaller than","larger than"],default:0}]},{name:"Health",kind:"label"},{id:721,description:"Set Health",listText:["Set the health ",qt,"to ",ee[0]],hintText:["set the health ",qt,"to ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_set_health",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!0,args:[{name:"value (0-100):",kind:"expression",default:"0"}]},{id:722,description:"Test Health",listText:["If health is ",$t,ee[1]," ",ee[0]],hintText:["if health is ",$t,ee[1]," ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_if_health",interfaceKind:"normal",isQuestion:!0,hasApplyTo:!1,hasRelative:!1,args:[{name:"value:",kind:"expression",default:"0"},{name:"operation:",kind:"menu",menu:["equal to","smaller than","larger than"],default:0}]}]},{name:"extra",items:[{name:"Other",kind:"label"},{id:801,description:"Set Cursor",listText:["Set mouse to ",ee[0]],hintText:["set the mouse cursor to sprite ",ee[0]," and ",ee[1]," the windows cursor"],kind:"normal",execution:"function",executionFunction:"action_set_cursor",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!1,args:[{name:"sprite:",kind:"sprite",default:-1},{name:"cursor:",kind:"menu",menu:["don't show","show"],default:0}]}]},{name:"draw",items:[{name:"Drawing",kind:"label"},{id:501,description:"Draw Sprite",listText:["Draw sprite ",ee[0]],hintText:[te,"at ",qt,"position (",ee[1],",",ee[2],") draw image ",ee[3]," of sprite ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_draw_sprite",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"sprite:",kind:"sprite",default:-1},{name:"x:",kind:"expression",default:"0"},{name:"y:",kind:"expression",default:"0"},{name:"subimage:",kind:"expression",default:"-1"}]},{kind:"separator"},{id:514,description:"Draw Text",listText:["Draw a text"],hintText:[te,"at ",qt,"position (",ee[1],",",ee[2],") draw text: ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_draw_text",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"text:",kind:"both",default:""},{name:"x:",kind:"expression",default:"0"},{name:"y:",kind:"expression",default:"0"}]},{kind:"separator"},{id:511,description:"Draw Rectangle",listText:["Draw a rectangle"],hintText:[te,"draw rectangle with ",qt,"vertices (",ee[0],",",ee[1],") and (",ee[2],",",ee[3],"), ",ee[4]],kind:"normal",execution:"function",executionFunction:"action_draw_rectangle",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"x1:",kind:"expression",default:"0"},{name:"y1:",kind:"expression",default:"0"},{name:"x2:",kind:"expression",default:"0"},{name:"y2:",kind:"expression",default:"0"},{name:"filled:",kind:"menu",menu:["filled","outline"],default:0}]},{id:512,description:"Draw Ellipse",listText:["Draw an ellipse"],hintText:[te,"draw an ellipse with ",qt,"vertices (",ee[0],",",ee[1],") and (",ee[2],",",ee[3],"), ",ee[4]],kind:"normal",execution:"function",executionFunction:"action_draw_ellipse",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"x1:",kind:"expression",default:"0"},{name:"y1:",kind:"expression",default:"0"},{name:"x2:",kind:"expression",default:"0"},{name:"y2:",kind:"expression",default:"0"},{name:"filled:",kind:"menu",menu:["filled","outline"],default:0}]},{kind:"separator"},{id:513,description:"Draw Line",listText:["Draw a line"],hintText:[te,"draw a line ",qt,"between (",ee[0],",",ee[1],") and (",ee[2],",",ee[3],")"],kind:"normal",execution:"function",executionFunction:"action_draw_line",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!0,hasRelative:!0,args:[{name:"x1:",kind:"expression",default:"0"},{name:"y1:",kind:"expression",default:"0"},{name:"x2:",kind:"expression",default:"0"},{name:"y2:",kind:"expression",default:"0"}]},{name:"Settings",kind:"label"},{id:524,description:"Set Color",listText:["Set the color"],hintText:["set the drawing color to ",ee[0]],kind:"normal",execution:"function",executionFunction:"action_color",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!1,args:[{name:"color",kind:"color",default:16777215}]},{id:526,description:"Set Font",listText:["Set font to ",ee[0]],hintText:["set the font for drawing text to ",ee[0]," and align ",ee[1]],kind:"normal",execution:"function",executionFunction:"action_font",interfaceKind:"normal",isQuestion:!1,hasApplyTo:!1,hasRelative:!1,args:[{name:"Font:",kind:"font",default:-1},{name:"align:",kind:"menu",menu:["left","center","right"],default:0}]}]}]}}.getList(),this.div=m(new h("div",{class:"editor"})),v(new h("div",{},"Work In Progress: Some features may not work as expected, or at all. Work may be lost, use it at your own discretion!")),m(v(new h("div",{class:"grid"}))),this.menuArea=v(new Pt(this)),this.resourcesArea=v(new zt(this)),this.windowsArea=v(new Kt(this)),_(),_(),P(this.div.html,(t=>this.openProjectFromFile(t))),v(this.div)}createResource(t){const e=new t;return e.id=this.project.counter[t.getClassName()],e.name=t.getName()+this.project.counter[t.getClassName()],this.project.counter[t.getClassName()]++,this.project.resources[t.getClassName()].push(e),this.dispatcher.speak("createResource",e),e}deleteResource(t){if(confirm("You are about to delete "+t.name+". This will be permanent. Continue?")){const e=this.project.resources[t.constructor.getClassName()].findIndex((e=>e==t));this.project.resources[t.constructor.getClassName()].splice(e,1),this.dispatcher.speak("deleteResource",t)}}changeResourceName(t,e){t.name=e,this.dispatcher.speak("changeResourceName",t)}changeSpriteImages(t,e){t.images=e,this.dispatcher.speak("changeSpriteImages",t)}changeSpriteOrigin(t,e,i){t.originx=e,t.originy=i,this.dispatcher.speak("changeSpriteOrigin",t)}changeBackgroundImage(t,e){t.image=e,this.dispatcher.speak("changeBackgroundImage",t)}changeObjectSprite(t,e){t.sprite_index=e,this.dispatcher.speak("changeObjectSprite",t)}newProject(){this.project=new F,this.resourcesArea.refresh(),this.windowsArea.clear()}openProjectFromFile(t){let e;e="application/json"==t.type?jt.readEntireFile(t).then((t=>Et.unserializeV1(t))):Et.unserializeZIP(t),e.then((e=>{e?(this.project=e,this.resourcesArea.refresh(),this.windowsArea.clear(),this.projectName=t.name.substring(0,t.name.lastIndexOf("."))):alert("Error Loading: File seems to be corrupt.")})).catch((t=>{if(!(t instanceof d))throw t;alert("Error reading file: "+t.message)}))}saveProject(){Et.serializeZIP(this.project).then((t=>{jt.save(t,this.projectName+".zip")}))}runGame(){if(this.stopGame(),this.project.resources.ProjectRoom.length<=0)return void alert("A game must have at least one room to run.");this.gameWindow=this.windowsArea.open(ae,"game"),this.menuArea.runButton.setDisabled(!0),this.menuArea.stopButton.setDisabled(!1),this.preferences.get("scrollToGameOnRun")&&this.gameWindow.html.scrollIntoView(),this.preferences.get("focusCanvasOnRun")&&this.gameWindow.canvas.html.focus({preventScroll:!0}),this.game=new Wt(this.project,this.gameWindow.canvas.html,this.gameWindow.canvas.html);const t=this.game.dispatcher.listen({close:e=>{if(e instanceof n&&alert("An error has ocurred when trying to run the game:\n"+e.message),this.menuArea.runButton.setDisabled(!1),this.menuArea.stopButton.setDisabled(!0),this.preferences.get("clearCanvasOnStop")&&this.gameWindow.canvas.clear(),this.gameWindow.userClosed&&this.windowsArea.delete(this.gameWindow),this.game.dispatcher.stopListening(t),this.game=null,e)throw e}});this.game.start()}stopGame(){this.game&&(this.game.stepStopAction=async()=>await this.game.end())}getActionType(...t){let e,i;const[s]=t;return s instanceof it?(e=s.typeLibrary,i=s.typeId):[e,i]=t,this.libraries.find((t=>t.name==e)).items.find((t=>t.id==i))}}"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js")})),window.editor=new me}},t=>{t.O(0,[216],(()=>(120,t(t.s=120)))),t.O()}]);